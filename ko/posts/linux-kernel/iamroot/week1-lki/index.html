<!doctype html><html lang=ko dir=ltr><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>[iamroot] 1주차 스터디 회고 (리눅스 커널 내부구조) – JSYoo5B.Dev();</title><script src=/js/enquire.min.dfb99dee1e029d51d6cfb672d847929890b1585402de17f5ed092edd72a688b4.js></script><script defer src=/js/lazysizes.min.fb649fcae62177dfe63e67081ddceb830b5ce1f05a4184e9bbb7d87ac4b8f4e5.js></script><script defer src=/js/helper/getParents.min.ccd45f158c1b17849307ba913a72beac239c410f2b6e648496a79842da84e55b.js></script><script defer src=/js/helper/fadeinout.min.1d13d3e810c3940e80cbba6216a1c76fbf42b5431fc83537ea6997863802362b.js></script><script defer src=/js/helper/closest.min.js></script><script>"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.includes||(String.prototype.includes=function(b,a){'use strict';if(b instanceof RegExp)throw TypeError('first argument must not be a RegExp');return a===void 0&&(a=0),this.indexOf(b,a)!==-1}),Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};function _mutation(a){if(!a.length)throw new Error('DOM Exception 8');if(a.length===1)return typeof a[0]=='string'?document.createTextNode(a[0]):a[0];for(var c=document.createDocumentFragment(),e=a.length,d=-1,b;++d<e;)b=a[d],c.appendChild(typeof b=='string'?document.createTextNode(b):b);return c}String.prototype.startsWith||(String.prototype.startsWith=function(b,a){return a=a||0,this.indexOf(b,a)===a}),document.addEventListener('DOMContentLoaded',function(){var z=document.querySelector('.navbar__burger'),J,F,G,N,U,f,d,V,r,ae,Z,Q,o,g,y,k,b,s,t,P,O,e,C,h,D,B,ai,A,aj,at,ar,ab,aq,E,ap,ao,ah,an,i,j,c,am,S,T,ak,w,W,X,ag,x,n,Y,q,av,au,a,aw,R,m,L,K,I,v,p,u;z?z.addEventListener('click',function(c){var a=document.querySelector('.navbarm__collapse'),b;a&&(b=a.getAttribute('data-open'),b==='true'?(a.setAttribute('data-open','false'),a.style.maxHeight=0,z.classList.remove('is-active')):(a.setAttribute('data-open','true'),a.style.maxHeight=a.scrollHeight+"px",z.classList.add('is-active')))}):null,J=document.querySelectorAll('.single__contents > table');for(let a=0;a<J.length;a++)F=J[a],G=document.createElement('div'),G.className='table-wrapper',F.parentElement.replaceChild(G,F),G.appendChild(F);N=document.querySelectorAll('.footnote-ref'),U=document.querySelectorAll('.footnote-backref'),N?N.forEach(function(a,c){a.onmouseenter=function(){b.classList.contains('scrolling')&&b.classList.remove('scrolling')},a.onmouseleave=function(){b.classList.contains('scrolling')||setTimeout(function(){b.classList.add('scrolling')},100)},a.onclick=function(){b.classList.contains('scrolling')||(b.classList.remove('navbar--show'),b.classList.remove('navbar--hide'),b.classList.add('navbar--hide'))}}):null,U?U.forEach(function(a,c){a.onmouseenter=function(){b.classList.contains('scrolling')&&b.classList.remove('scrolling')},a.onmouseleave=function(){b.classList.contains('scrolling')||setTimeout(function(){b.classList.add('scrolling')},100)},a.onclick=function(){b.classList.contains('scrolling')||(b.classList.remove('navbar--show'),b.classList.remove('navbar--hide'),b.classList.add('navbar--hide'))}}):null,f=document.querySelector('.summary__container'),d=document.querySelector('.search-result'),V=document.querySelector('.search-result__close'),V?V.addEventListener('click',function(a){d.setAttribute('data-display','none'),f.setAttribute('data-display','block')}):null,document.querySelectorAll('.tab')?document.querySelectorAll('.tab').forEach(function(a,d){var e=a.getAttribute('id'),f=a,b=a.querySelectorAll('.tab__link'),c=a.querySelectorAll('.tab__content'),g=[];b&&b.length>0?b.forEach(function(b,d,a){b.onclick=function(e){for(var b=0;b<a.length;b++)d===parseInt(b,10)?a[b].classList.contains('active')||(a[b].classList.add('active'),c[b].style.display='block'):(a[b].classList.remove('active'),c[b].style.display='none')}}):null}):null,document.querySelectorAll('.codetab')?document.querySelectorAll('.codetab').forEach(function(a,d){var e=a.getAttribute('id'),f=a,b=a.querySelectorAll('.codetab__link'),c=a.querySelectorAll('.codetab__content'),g=[];b&&b.length>0?b.forEach(function(b,d,a){b.onclick=function(e){for(var b=0;b<a.length;b++)d===parseInt(b,10)?a[b].classList.contains('active')||(a[b].classList.add('active'),c[b].style.display='block'):(a[b].classList.remove('active'),c[b].style.display='none')}}):null}):null,r=document.getElementById("gtt"),r.style.display="none",r.addEventListener('click',function(){window.document.documentMode?document.documentElement.scrollTop=0:af(250)});function af(a){var b=-window.scrollY/(a/15),c=setInterval(function(){window.scrollY!=0?window.scrollBy(0,b):clearInterval(c)},15)}ae=function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?r.style.display="block":r.style.display="none"},Z=document.querySelectorAll('.expand__button');for(let a=0;a<Z.length;a++)Z[a].addEventListener("click",function(){var a=this.nextElementSibling;a.style.maxHeight?(a.style.maxHeight=null,this.querySelector('svg').classList.add('expand-icon__right'),this.querySelector('svg').classList.remove('expand-icon__down')):(a.style.maxHeight=a.scrollHeight+"px",this.querySelector('svg').classList.remove('expand-icon__right'),this.querySelector('svg').classList.add('expand-icon__down'))});Q=window.pageYOffset||document.documentElement.scrollTop,o=document.querySelector('.toc'),g=o?o.querySelector('#TableOfContents'):null,y=document.getElementById('toggle-toc'),k=document.querySelector('.single__contents'),b=document.querySelector('.navbar'),s=document.querySelector('.toc__flexbox'),t=document.querySelector('.toc__flexbox--outer'),P=document.querySelectorAll('.expand__content'),O=document.querySelectorAll('.box'),e=null,C=JSON.parse("true"),h=JSON.parse('["h2","h3","h4"]'),h?h=h.toString():h="h1, h2, h3, h4, h5, h6",k&&k.querySelectorAll(".tab")?k.querySelectorAll(".tab").forEach(function(a){a.querySelectorAll(h).forEach(function(a){e=Array.isArray(e)?e.concat(a.getAttribute('id')):[a.getAttribute('id')]})}):null,P?P.forEach(function(a){a.querySelectorAll(h).forEach(function(a){e=Array.isArray(e)?e.concat(a.getAttribute('id')):[a.getAttribute('id')]})}):null,O?O.forEach(function(a){a.querySelectorAll(h).forEach(function(a){e=Array.isArray(e)?e.concat(a.getAttribute('id')):[a.getAttribute('id')]})}):null,window.onscroll=function(){ae();var a=window.pageYOffset||document.documentElement.scrollTop;if(a>Q){if(a<250?r.style.display="none":r.style.display="block",a<45)return null;b.classList.contains('scrolling')&&(b.classList.contains('navbar--hide')?b.classList.contains('navbar--show')&&b.classList.remove('navbar--show'):b.classList.add('navbar--hide')),k&&(k.querySelectorAll(h).length>0?k.querySelectorAll(h).forEach(function(c){var b,a;if(y&&!y.checked)return null;if(e&&e.includes(c.getAttribute('id')))return null;document.documentElement.scrollTop>=c.offsetTop&&g&&(b=c.getAttribute('id'),o.querySelectorAll('a').forEach(function(a){a.classList.remove('active')}),o.querySelector('a[href="#'+b+'"]')?o.querySelector('a[href="#'+b+'"]').classList.add('active'):null,!1===C||(g.querySelectorAll('ul')?g.querySelectorAll('ul').forEach(function(a){a.querySelectorAll('li').forEach(function(a){a.querySelectorAll('ul').forEach(function(a){a.style.display='none'})})}):null),a=g.querySelector("[href='#"+b+"']"),a&&a.nextElementSibling&&(a.nextElementSibling.style.display='block'),getParents(a,'ul')?getParents(a,'ul').forEach(function(a){a.style.display='block'}):null)}):(s&&(s.setAttribute('data-position',''),s.classList.contains('hide')||s.classList.add('hide')),t&&(t.setAttribute('data-position',''),t.classList.contains('hide')||t.classList.add('hide'))))}else a<250&&(r.style.display="none"),b.classList.contains('scrolling')&&(b.classList.contains('navbar--hide')?b.classList.remove('navbar--hide'):b.classList.contains('navbar--show')||b.classList.add('navbar--show')),k&&(k.querySelectorAll(h).length>0?k.querySelectorAll(h).forEach(function(c){var b,a;if(y&&!y.checked)return null;if(e&&e.includes(c.getAttribute('id')))return null;document.documentElement.scrollTop>=c.offsetTop&&g&&(b=c.getAttribute('id'),o.querySelectorAll('a').forEach(function(a){a.classList.remove('active')}),o.querySelector('a[href="#'+b+'"]')?o.querySelector('a[href="#'+b+'"]').classList.add('active'):null,!1===C||(g.querySelectorAll('ul')?g.querySelectorAll('ul').forEach(function(a){a.querySelectorAll('li').forEach(function(a){a.querySelectorAll('ul').forEach(function(a){a.style.display='none'})})}):null),a=g.querySelector("[href='#"+b+"']"),a&&a.nextElementSibling&&(a.nextElementSibling.style.display='block'),getParents(a,'ul')?getParents(a,'ul').forEach(function(a){a.style.display='block'}):null)}):(s&&!s.classList.contains('hide')&&s.classList.add('hide'),t&&!t.classList.contains('hide')&&t.classList.add('hide'))),g&&document.documentElement.scrollTop<250&&(!1===C||(g.querySelector('ul')?g.querySelector('ul').querySelectorAll('li').forEach(function(a){a.querySelectorAll('ul').forEach(function(a){a.style.display='none'})}):null));Q=a<=0?0:a},D=localStorage.getItem('theme'),B=document.getElementById('root'),ai=document.querySelectorAll('.select-theme'),A=document.querySelectorAll('.select-theme__item'),aj=JSON.parse('"dark"'),at=JSON.parse('"light"'),ar=JSON.parse('"hacker"'),ab=JSON.parse('"solarized"'),aq=JSON.parse('"kimbie"'),E=function(a){var b=document.getElementsByName('msapplication-TileColor')[0],c=document.getElementsByName('theme-color')[0],d=document.getElementsByName('msapplication-navbutton-color')[0],e=document.getElementsByName('apple-mobile-web-app-status-bar-style')[0];a.includes('dark')?(b.setAttribute('content','#fcfcfa'),c.setAttribute('content','#403E41'),d.setAttribute('content','#403E41'),e.setAttribute('content','#403E41')):a.includes('light')?(b.setAttribute('content','#555'),c.setAttribute('content','#eee'),d.setAttribute('content','#eee'),e.setAttribute('content','#eee')):a.includes('hacker')?(b.setAttribute('content','#e3cd26'),c.setAttribute('content','#252526'),d.setAttribute('content','#252526'),e.setAttribute('content','#252526')):a.includes('solarized')?(b.setAttribute('content','#d3af86'),c.setAttribute('content','#51412c'),d.setAttribute('content','#51412c'),e.setAttribute('content','#51412c')):a.includes('kimbie')&&(b.setAttribute('content','#586e75'),c.setAttribute('content','#eee8d5'),d.setAttribute('content','#eee8d5'),e.setAttribute('content','#eee8d5'))},ap=function(a){if(a===aj)return'dark';if(a===at)return'light';if(a===ar)return'hacker';if(a===ab)return'solarized';if(a===aq)return'kimbie'},D?(A?A.forEach(function(a){a.text.trim()===D?a.classList.add('is-active'):a.classList.remove('is-active')}):null,E(D)):E(B.className),A?A.forEach(function(a,b){a.addEventListener('click',function(c){var a=ap(c.target.text.trim()),b,d;localStorage.setItem('theme',a),E(a),B.removeAttribute('class'),B.classList.add('theme__'+a),ai.forEach(function(b){b.querySelectorAll('a').forEach(function(b){b.classList&&(b.text.trim()===a?b.classList.contains('is-active')||b.classList.add('is-active'):b.classList.contains('is-active')&&b.classList.remove('is-active'))})}),window.mermaid&&(a==="dark"||a==="hacker"?(mermaid.initialize({theme:'dark'}),location.reload()):(mermaid.initialize({theme:'default'}),location.reload())),b=document.getElementById('utterances'),b&&b.querySelector('iframe').contentWindow.postMessage({type:'set-theme',theme:a==="dark"||a==="hacker"?'photon-dark':a==='kimbie'?'github-dark-orange':'github-light'},'https://utteranc.es'),d=document.querySelectorAll('.twitter-timeline'),d&&window.postMessage({type:'set-twitter-theme',theme:a==='light'||a==='solarized'?'light':'dark'})})}):null,ao=JSON.parse('"https://devlog.jsyoo5b.net/"'),ah=JSON.parse('"https://devlog.jsyoo5b.net/ko/posts/linux-kernel/iamroot/week1-lki/"'),an=JSON.parse('"/ko"'),i=null,j=null,c=null,am=JSON.parse("false"),S=JSON.parse("null"),T=JSON.parse("null"),ak=JSON.parse("null"),w=JSON.parse("false"),W=JSON.parse("null"),X=JSON.parse('"posts"'),ag=JSON.parse('"page"'),x=null,am&&function(){var a=new XMLHttpRequest;X==="publication"&&ag!=="page"?a.open('GET',ah+"index.json"):a.open('GET',ao+an+"/index.json"),a.setRequestHeader('Content-Type','application/json; charset=utf-8'),a.onload=function(){a.status===200?(x=new Fuse(JSON.parse(a.response.toString('utf-8')),{keys:X.includes('publication')?['title','abstract']:ak?['title','description','content']:['title','description'],includeMatches:w,shouldSort:!0,threshold:T||.4,location:0,distance:S||100,maxPatternLength:32,minMatchCharLength:1,isCaseSensitive:!1,findAllMatches:!1,useExtendedSearch:!1}),window.fuse=x):console.error('['+a.status+']Error:',a.statusText)},a.send()}();function ac(e,a){var b=document.createElement('li'),c,d;b.className='search-result__item',c=document.createElement('a'),c.innerHTML=a.item.title,c.setAttribute('class','search-result__item--title'),c.setAttribute('href',a.item.permalink),d=document.createElement('div'),d.setAttribute('class','search-result__item--desc'),a.item.description?d.innerHTML=a.item.description:a.item.content&&(d.innerHTML=a.item.content.substring(0,225)),b.appendChild(c),b.appendChild(d),e.appendChild(b)}function al(f,a){var e=document.createElement('li'),b,d,c;if(e.className='search-result__item',b=null,d=document.createElement('a'),d.innerHTML=a.item.title,d.setAttribute('class','search-result__item--title'),d.setAttribute('href',a.item.uri),a.matches&&a.matches.length){for(c=0;c<a.matches.length;c++)'title'===a.matches[c].key&&(d=document.createElement('a'),d.innerHTML=l(a.matches[c].value,a.matches[c].indices),d.setAttribute('class','search-result__item--title'),d.setAttribute('href',a.item.uri)),'description'===a.matches[c].key?(b=document.createElement('div'),b.setAttribute('class','search-result__item--desc'),b.innerHTML=l(a.item.description,a.matches[c].indices)):'content'===a.matches[c].key?b||(b=document.createElement('div'),b.setAttribute('class','search-result__item--desc'),b.innerHTML=l(a.item.content.substring(0,150),a.matches[c].indices)):a.item.description?(b=document.createElement('div'),b.setAttribute('class','search-result__item--desc'),b.innerHTML=a.item.description):(b=document.createElement('div'),b.setAttribute('class','search-result__item--desc'),b.innerHTML=a.item.content.substring(0,150));e.appendChild(d),b&&e.appendChild(b),e&&f.appendChild(e)}}function H(d,c){var a,b;for(i=document.getElementById('search-results'),j=document.getElementById('search-menu'),i.setAttribute('class','dropdown is-active'),a=document.createElement('ul'),a.setAttribute('class','dropdown-content search-content'),c.length?c.forEach(function(b){var e=document.createElement('li'),c=document.createElement('a'),f,d;c.setAttribute('href',b.uri),c.setAttribute('class','dropdown-item'),c.appendChild(e),f=document.createElement('div'),f.innerHTML=b.title,f.setAttribute('class','menu-item__title'),d=document.createElement('div'),d.setAttribute('class','menu-item__desc'),b.description?d.innerHTML=b.description:b.content&&(d.innerHTML=b.content.substring(0,150)),e.appendChild(f),e.appendChild(d),a.appendChild(c)}):(b=document.createElement('li'),b.setAttribute('class','dropdown-item'),b.innerText='No results found',a.appendChild(b));j.hasChildNodes();)j.removeChild(j.lastChild);j.appendChild(a)}function $(d,c){var a,b;for(i=document.getElementById('search-results'),j=document.getElementById('search-menu'),i.setAttribute('class','dropdown is-active'),a=document.createElement('ul'),a.setAttribute('class','dropdown-content search-content'),c.length?c.forEach(function(b){var g=document.createElement('li'),e=document.createElement('a'),c=null,f,d;if(e.setAttribute('href',b.item.uri),e.setAttribute('class','dropdown-item'),e.appendChild(g),f=document.createElement('div'),f.innerHTML=b.item.title,f.setAttribute('class','menu-item__title'),b.matches&&b.matches.length){for(d=0;d<b.matches.length;d++)'title'===b.matches[d].key&&(f.innerHTML=l(b.matches[d].value,b.matches[d].indices)),'description'===b.matches[d].key?(c=document.createElement('div'),c.setAttribute('class','menu-item__desc'),c.innerHTML=l(b.item.description,b.matches[d].indices)):'content'===b.matches[d].key?c||(c=document.createElement('div'),c.setAttribute('class','menu-item__desc'),c.innerHTML=l(b.item.content.substring(0,150),b.matches[d].indices)):b.item.description?(c=document.createElement('div'),c.setAttribute('class','menu-item__desc'),c.innerHTML=b.item.description):(c=document.createElement('div'),c.setAttribute('class','menu-item__desc'),c.innerHTML=b.item.content.substring(0,150));g.appendChild(f),c&&g.appendChild(c),a.appendChild(e)}}):(b=document.createElement('li'),b.setAttribute('class','dropdown-item'),b.innerText='No results found',a.appendChild(b));j.hasChildNodes();)j.removeChild(j.lastChild);j.appendChild(a)}function _(e,c){var a,d;i=document.getElementById('search-mobile-results'),a=document.createElement('div'),a.setAttribute('class','mobile-search__content'),c.length>0?c.forEach(function(b){var c=document.createElement('a');c.setAttribute('href',b.uri),c.innerHTML='<div class="mobile-search__item"><div class="mobile-search__item--title">📄 '+b.title+'</div><div class="mobile-search__item--desc">'+(b.description?b.description:b.content)+'</div></div>',a.appendChild(c)}):(d=document.createElement('span'),a.appendChild(d));let b=document.getElementById('search-mobile-results');while(b.firstChild)b.removeChild(b.firstChild);i.appendChild(a)}function ad(e,c){var a,d;i=document.getElementById('search-mobile-results'),a=document.createElement('div'),a.setAttribute('class','mobile-search__content'),c.length?c.forEach(function(b){var e=document.createElement('li'),g=document.createElement('a'),c=null,f,d;if(g.setAttribute('href',b.item.uri),g.appendChild(e),e.setAttribute('class','mobile-search__item'),f=document.createElement('div'),f.innerHTML=b.item.title,f.setAttribute('class','mobile-search__item--title'),b.matches&&b.matches.length){for(d=0;d<b.matches.length;d++)'title'===b.matches[d].key&&(f.innerHTML=l(b.matches[d].value,b.matches[d].indices)),'description'===b.matches[d].key?(c=document.createElement('div'),c.setAttribute('class','mobile-search__item--desc'),c.innerHTML=l(b.item.description,b.matches[d].indices)):'content'===b.matches[d].key?c||(c=document.createElement('div'),c.setAttribute('class','mobile-search__item--desc'),c.innerHTML=l(b.item.content.substring(0,150),b.matches[d].indices)):b.item.description?(c=document.createElement('div'),c.setAttribute('class','mobile-search__item--desc'),c.innerHTML=b.item.description):(c=document.createElement('div'),c.setAttribute('class','mobile-search__item--desc'),c.innerHTML=b.item.content.substring(0,150));e.appendChild(f),c&&e.appendChild(c),a.appendChild(g)}}):(d=document.createElement('span'),a.appendChild(d));let b=document.getElementById('search-mobile-results');while(b.firstChild)b.removeChild(b.firstChild);i.appendChild(a)}function l(a,d){if(!d)return a;var b='',c=0;return d.forEach(function(d){if(d[0]===d[1])return null;b+=''+a.substring(c,d[0])+'<span class="search__highlight">'+a.substring(d[0],d[1]+1)+'</span>'+'',c=d[1]+1}),b+=a.substring(c),b}n=document.getElementById('search'),Y=document.getElementById('search-mobile'),q=document.getElementById('search-results'),n?n.addEventListener('input',function(b){var a,e;if(!b.target.value|window.innerWidth<770)return q?q.setAttribute('class','dropdown'):null,d?d.setAttribute('data-display','none'):null,f?f.setAttribute('data-display','block'):null,null;c=b.target.value,a=x.search(b.target.value),W==="main"?w?aa(c,a):M(c,a):(w?$(c,a):H(c,a),e=q.querySelectorAll('.dropdown-item'),e?e.forEach(function(a){a.addEventListener('mousedown',function(a){a.target.click()})}):null)}):null,n?n.addEventListener('blur',function(){if(window.innerWidth<770)return null;q?q.setAttribute('class','dropdown'):null}):null,n?n.addEventListener('click',function(b){var a,d;if(window.innerWidth<770)return null;if(!b.target.value)return q?q.setAttribute('class','dropdown'):null,null;c=b.target.value,a=x.search(b.target.value),W==="main"?w?aa(c,a):M(c,a):(w?$(c,a):H(c,a),d=q.querySelectorAll('.dropdown-item'),d?d.forEach(function(a){a.addEventListener('mousedown',function(a){a.target.click()})}):null)}):null,av=document.getElementById("search-menu"),au=document.querySelector('#search-menu .dropdown-item.is-active'),a=null,aw=null,R=350,n?n.addEventListener('keydown',function(c){var b,e;if(window.innerWidth<770)return null;if(c.key==='Escape'&&(d?d.setAttribute('data-display','none'):null,f?f.setAttribute('data-display','block'):null),b=document.querySelectorAll('#search-menu .dropdown-item'),e=c.which||c.keyCode,!b||!b.length)return null;if(c.key==='ArrowDown'||e===40){a===null?(a=0,b[a].classList.remove('is-active')):(b[a].classList.remove('is-active'),a=a===b.length-1?0:a+1),b[a].classList.add('is-active');let c=b[a].offsetTop+b[a].clientHeight-R;c>0?document.querySelector(".search-content").scrollTop+=b[a].getBoundingClientRect().height:a===0&&(document.querySelector(".search-content").scrollTop=0)}else if(c.key==='ArrowUp'||e===38){a===null?(a=b.length-1,b[a].classList.remove('is-active')):(b[a].classList.remove('is-active'),a=a===0?b.length-1:a-1),b[a].classList.add('is-active');let c=b[a].offsetTop+b[a].clientHeight-R;c<0?document.querySelector(".search-content").scrollTop-=b[a].getBoundingClientRect().height:document.querySelector(".search-content").scrollTop=c+b[a].getBoundingClientRect().height}else c.key==='Enter'||e===13?b[a]&&b[a].getAttribute('href')&&(location.href=b[a].getAttribute('href')):(c.key==='Escape'||e===27)&&(c.target.value=null,i&&i.classList.remove('is-active'))}):null,Y?Y.addEventListener('input',function(a){if(!a.target.value){let a=document.getElementById('search-mobile-results');while(a.firstChild)a.removeChild(a.firstChild);return null}c=a.target.value;var b=x.search(a.target.value);_(c,b),w?ad(c,b):_(c,b)}):null,m=document.querySelector('#search-mobile'),L=document.querySelector('.mobile-search'),K=document.querySelectorAll('.navbar-search'),I=document.querySelector('#search-mobile-close'),v=document.querySelector('#search-mobile-container'),p=document.querySelector('#search-mobile-results'),u=document.querySelector('html'),L&&(L.style.display='none'),K?K.forEach(function(a,b){a.addEventListener('click',function(){v&&(v.style.display='block'),m&&m.focus(),u&&(u.style.overflowY='hidden')})}):null,I?I.addEventListener('click',function(){if(v&&(v.style.display='none'),m&&(m.value=''),p)while(p.firstChild)p.removeChild(p.firstChild);u&&(u.style.overflowY='visible')}):null,m?m.addEventListener('keydown',function(a){var b=a.which||a.keyCode;if(a.key==='Escape'||b===27){if(v&&(v.style.display='none'),m&&(m.value=''),p)while(p.firstChild)p.removeChild(p.firstChild);u&&(u.style.overflowY='visible')}}):null;function M(e,a){var g=document.querySelector('.search-result__body'),b=g.querySelector('ul'),c=document.createElement('ul');e?a&&a&&a.length&&(a.forEach(function(a){ac(c,a)}),d?d.setAttribute('data-display','block'):null,f?f.setAttribute('data-display','none'):null):(d?d.setAttribute('data-display','none'):null,f?f.setAttribute('data-display','block'):null),b.parentNode.replaceChild(c,b)}function aa(e,a){var g=document.querySelector('.search-result__body'),b=g.querySelector('ul'),c=document.createElement('ul');e?a&&a&&a.length&&(a.forEach(function(a){al(c,a)}),d?d.setAttribute('data-display','block'):null,f?f.setAttribute('data-display','none'):null):(d?d.setAttribute('data-display','none'):null,f?f.setAttribute('data-display','block'):null),b.parentNode.replaceChild(c,b)}})</script><link rel=stylesheet href=/css/main.min.css><meta name=description content="Blog of JaeSang Yoo, the programmer."><meta name=keywords content="커널"><meta name=created content="2021-05-09T12:19:37+0900"><meta name=modified content="2021-05-09T12:19:37+0900"><meta property="article:published_time" content="2021-05-09T12:19:37+0900"><meta name=author content="JaeSang Yoo"><meta property="og:site_name" content="JSYoo5B.Dev();"><meta property="og:title" content="[iamroot] 1주차 스터디 회고 (리눅스 커널 내부구조)"><meta property="og:url" content="https://devlog.jsyoo5b.net/ko/posts/linux-kernel/iamroot/week1-lki/"><meta property="og:type" content="article"><meta property="og:description" content="Blog of JaeSang Yoo, the programmer."><meta name=generator content="Hugo 0.83.1"><meta name=msapplication-TileColor content="#fff"><meta name=theme-color content="#fff"><meta name=msapplication-navbutton-color content="#fff"><meta name=apple-mobile-web-app-status-bar-style content="#fff"><link rel=canonical href=https://devlog.jsyoo5b.net/ko/posts/linux-kernel/iamroot/week1-lki/><link rel=manifest href=/manifest.json><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=icon href=/favicon.png sizes=any type=image/png><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","headline":"[iamroot] 1주차 스터디 회고 (리눅스 커널 내부구조)","datePublished":"2021-05-09T12:19:37+09:00","dateModified":"2021-05-09T12:19:37+09:00","url":"https://devlog.jsyoo5b.net/ko/posts/linux-kernel/iamroot/week1-lki/","description":"iamroot 17기 스터디를 다행히 아직 참여하고 있다. 요새 진도 내용을 잘 못 따라가고 있기도 하고, 이전 스터디에 대한 복습이 필요한 것 같아, 내용을 정리하려 한다. 이전보","keywords":["커널"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://devlog.jsyoo5b.net/"},"publisher":{"@type":"Organization","name":"JSYoo5B.Dev();","url":"https://devlog.jsyoo5b.net/"}}</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-93278071-1','auto'),ga('send','pageview'))</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-93278071-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body id=root class=theme__dark><script>var localTheme=localStorage.getItem('theme');localTheme&&(document.getElementById('root').className='theme__'+localTheme)</script><div id=container><div class=wrapper data-type=posts data-kind=page><nav class="navbar scrolling" role=navigation aria-label="main navigation" data-dir=ltr><div class=navbar__brand>&nbsp;&nbsp;
<a href=/ko/ title=홈페이지 rel=home class=navbar__title-link><h6 class=navbar__title>JSYoo5B.Dev();</h6></a></div><div class="theme theme-mobile" data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" style=position:absolute;top:0 data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">hacker</a>
<a href=# class="dropdown-item select-theme__item">solarized</a>
<a href=# class="dropdown-item select-theme__item">kimbie</a></div></div></div><a role=button class=navbar__burger aria-label=menu aria-expanded=false data-ani=true><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><div class=navbarm__collapse data-open=false><ul dir=ltr><li class=navbarm__menu--item><a href=/ko/about>소개</a></li><li class="navbarm__menu--item active"><a href=/ko/posts>블로그</a></li><li class=navbarm__menu--item><a href=/ko/tags class=navbarm__menu--term data-index=0>태그</a></li><li class=navbarm__menu--item><a href=/ko/categories class=navbarm__menu--term data-index=1>카테고리</a></li><li class=navbarm__menu--item><a href=/ko/series class=navbarm__menu--term data-index=2>시리즈</a></li></ul></div><div class=navbar__menu><div class=theme data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">hacker</a>
<a href=# class="dropdown-item select-theme__item">solarized</a>
<a href=# class="dropdown-item select-theme__item">kimbie</a></div></div></div><a href=/ko/about class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>소개</a>
<a href=/ko/posts class="navbar__menu-item navbar__slide-down active" dir=ltr data-ani=true>블로그</a></div></nav><main class="single__main main"><nav class="breadcrumb hide" aria-label=breadcrumbs><script>document.querySelector('.breadcrumb').classList.remove('hide')</script><ol><li><a href=https://devlog.jsyoo5b.net/ko/ class=capitalize>JSYoo5B.Dev();</a></li><li><a href=https://devlog.jsyoo5b.net/ko/posts/ class=capitalize>Posts</a></li><li class=is-active><span>[iamroot] 1주차 스터디 회고 (리눅스 커널 내부구조)</span></li></ol></nav><div class=single><div class=single__nojs>자바스크립트를 활성화 해주세요</div><script>document.querySelector('.single').classList.remove('hide'),document.querySelector('.single__nojs').classList.add('hide')</script><h2 class=single__title data-ani=true>[iamroot] 1주차 스터디 회고 (리눅스 커널 내부구조)</h2><h3 class=single__subtitle></h3><div class=single__meta><div class=single__infos><time class=single__info title=작성일>📅&nbsp;2021년 05월 09일</time>
&nbsp;&#183;&nbsp; <span class=single__info title="읽는 시간">☕&nbsp;15&nbsp;min read</span>
<span class=single__info></span></div><ul class="single__tags caption">🏷️<li><a href=https://devlog.jsyoo5b.net/ko/tags/%EC%BB%A4%EB%84%90/ class=single__tag title=커널>#커널</a></li></ul></div><article class=single__contents data-dir=ltr data-ani=true><p>iamroot 17기 스터디를 다행히 아직 참여하고 있다. 요새 진도 내용을 잘 못 따라가고 있기도 하고, 이전 스터디에 대한 복습이 필요한 것 같아, 내용을 정리하려 한다.</p><p>이전보다는 리눅스 커널 소스도 직접 읽어보고, 추가적으로 공부한 지식이 있으니, 당시 있던 의문에 더 정확한 결론을 내릴 수 있을 것 같다.</p><p>스터디 초기에는 커널의 내부 구성, 역할 등에 대한 이론을 이해하기 위해 <a href="http://www.atio.co.kr/bbs/board.php?bo_table=sub0201&wr_id=42&sca=OS%2F%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC">리눅스 커널 내부 구조</a>를 참고해 이론 스터디를 진행했다.</p><p>1주차 진도는 Chapter.0 ~ Chapter.3 (p10 ~ p93)이었다.</p><h2 id=chapter0-운영체제-이야기>Chapter.0 운영체제 이야기</h2><h3 id=q-디스크-블록의-크기는-일반적으로-4kb-무엇을-기준으로-결정되었는가-p12>Q. 디스크 블록의 크기는 (일반적으로 4KB) 무엇을 기준으로 결정되었는가? (p12)</h3><p>해당 부분의 맥락으로 보았을 때, 운영체제가 디스크 사용 시 이미 지정된 단위를 기준으로 OS가 제공한다는 점이 핵심이라고 본다. 이와 다른 경우로는 실제 파일의 크기만큼만 디스크를 제공하는 경우다.</p><p>컴퓨터 내에서는 특정 단위를 기준으로 자르는 것이 속도 관점에서 더 효율적이며, 여기 디스크 블록을 제외한 다른 자원의 단위도 특정 단위를 기준으로 자른다. 이와 비슷한 예로 페이지, 패킷, CPU time 등이 존재한다.</p><p>굳이 4KB를 표기한 것은 일반적으로 페이지 크기가 4KB이기 때문에 언급된 것으로 보인다.</p><h2 id=chapter2-리눅스-커널-구조>Chapter.2 리눅스 커널 구조</h2><h3 id=q-파일-시스템을-사용자가-일관된-인터페이스로-접근한다는-것이-무슨-뜻인가-p38>Q. 파일 시스템을 사용자가 일관된 인터페이스로 접근한다는 것이 무슨 뜻인가? (p38)</h3><p>물리적으로 실제 데이터를 기록하는 파일 시스템은 fat32, ext4 등이 존재한다. 그리고 논리적으로 존재하는 proc, sysfs, devfs 등이 존재한다. 참고로 여기서 내가 의미하는 물리적/논리적의 구분은 기록이 비휘발성인지, 휘발성인지를 기준으로 잡고 있다. (nfs의 경우 물리적으로 실제 데이터를 기록할 때 사용되지만, 파일 시스템의 역할상으로는 논리적으로 수행된다고 볼 수도 있다.)</p><p>이들은 모두 리눅스 파일시스템에 마운트 되어 있다.</p><ul><li><a href=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch03s05.html><code>/boot</code></a>, <a href=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch03s04.html><code>/bin</code></a>, <a href=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch03s07.html><code>/etc</code></a> 등은 ext4 등으로 포맷된 디스크에 실제로 존재한다.</li><li>모든 프로세스와 커널의 정보를 담은 <a href=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch06.html#procKernelAndProcessInformationVir><code>/proc</code></a>은 <a href=https://en.wikipedia.org/wiki/Procfs>procfs</a> 파일시스템으로 정의되어있다.</li><li>연결된 IO장치에 접근하기 위한 <a href=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch03s06.html><code>/dev</code></a>는 <a href=https://en.wikipedia.org/wiki/Device_file>devfs</a> 파일시스템으로 정의되어있다.<br>게다가 <code>/dev/</code>에는 <code>/dev/sda</code>, <code>/dev/hda</code>, <code>/dev/ttyUSB</code> 같은 물리적인 장치 뿐만 아니라,<br><code>/dev/null</code>, <code>/dev/zero</code>, <code>/dev/random</code> 같이 실제 물리적인 장치가 아니지만 자주 사용되는 논리적인 장치가 있다.</li><li>연결된 CPU, RAM, IO장치 등의 정보, 커널의 설정 값을 확인하고 변경할 수 있는 <a href=https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch06.html#sysKernelAndSystemInformation><code>/sys</code></a>는 <a href=https://en.wikipedia.org/wiki/Sysfs>sysfs</a> 파일시스템으로 정의되어있다.</li></ul><p>이들이 모두 일관된 인터페이스로 접근할 수 있는 예시를 확인해보자.</p><ul><li>물리적인 디스크 내에 존재하는 파일의 읽기/쓰기는 다양한 프로그램의 소스 코드에서 확인할 수 있다.<br>대표적으로 C에서 <a href=https://man7.org/linux/man-pages/man3/fopen.3.html><code>fopen()</code></a>, <a href=https://man7.org/linux/man-pages/man3/fprintf.3p.html><code>fprintf()</code></a>, <a href=https://man7.org/linux/man-pages/man3/fread.3.html><code>fread()</code></a> 등을 사용할 수 있다.</li><li>물리적인 파일이 아님에도 위와 같이 파일 읽기/쓰기를 활용하여 프로그래밍을 할 수 있다.<br>C에서 <code>fprintf(stdout, ...)</code>을 통해 printf와 같이 콘솔로 출력할 수 있다.</li><li>커널의 설정을 실행 중 변경할 때는 굳이 텍스트 에디터 등을 사용하지 않고 shell에서 명령어를 통해 변경한다.<br>(일반적으로 echo한 내용을 pipe로 write하거나, cat으로 파일의 내용을 읽는다.)<br><code># echo nop > /sys/kernel/tracing/current_tracer</code> # 커널의 tracer를 끌 때 (nop) 사용<br><code># cat /sys/kernel/tracing/trace</code> # 커널의 trace 내용을 확인하려 할 때 사용</li><li>어떤 실행 파일을 실행시키고, 그 출력 결과에는 관심이 없을 때, /dev/null로 pipe시켜 내용을 버린다.<br>또한 무작위 값을 입력받기 위해 /dev/random을 사용하기도 한다.<br><code># time ./bench_primes 1 > /dev/null 2>&1</code> # ./bench_primes의 stdout, stderr를 출력하지 않게 한다.<br><code># dd if=/dev/random of=rand bs=1K count=2</code> # diskdump할 때 무작위 입력을 위해 /dev/random 파일을 사용한다.</li></ul><p>위의 예시에서 확인할 수 있듯, 물리적/논리적인 파일시스템이 여러개 존재하며 모두 /(root filesystem) 아래 하위 디렉터리로 존재한다. 그리고 <strong>모든 파일들은 <a href=https://linux.die.net/man/2/creat><code>creat()</code></a>, <a href=https://linux.die.net/man/2/open><code>open()</code></a>, <a href=https://linux.die.net/man/2/read><code>read()</code></a>, <a href=https://linux.die.net/man/2/write><code>write()</code></a>, <a href=https://linux.die.net/man/2/close><code>close()</code></a> 등의 system call을 통해 접근하게 된다.</strong></p><p>VFS(Virtual File System)은 물리적/논리적으로 다른 파일시스템에서의 syscall을 수행할 수 있게 호환시켜주는 역할을 한다.</p><p>리눅스의 전신인 유닉스 시절부터 <a href=https://en.wikipedia.org/wiki/Everything_is_a_file>모든 것은 파일이다</a> 철학에 따라 개발되었으므로, 운영체제가 사용자에게 제공하는 모든 기능은 파일의 형태를 이루어 제공되게 되었고, 이에 따라 가상 파일 시스템이 필수적이었던 것으로 예상된다.</p><h3 id=q-커널-컴파일-과정에서-objcopy가-하는-역할-의미는-무엇인가-p43>Q. 커널 컴파일 과정에서 objcopy가 하는 역할, 의미는 무엇인가? (p43)</h3><p>컴파일 과정에서 생긴 <a href=https://en.wikipedia.org/wiki/Vmlinux><code>vmlinux</code></a>는 virtual memory가 적용된 linux 커널 실행 파일이란 뜻이다.</p><p><code>objcopy</code> 과정을 거치기 위해 사용된 <code>Makefile</code>과 관련 명령어, 결과를 먼저 비교해보자.</p><div id=46a673584113c1a9 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">arch/arm64/boot/Makefile</button>
<button class=codetab__link aria-label="Tab link">Shell 확인</button></div><div id=5be7f0172f7782d2 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=hl><span class=lnt>17
</span></span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=hl><span class=lnt>21
</span></span><span class=hl><span class=lnt>22
</span></span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-Makefile data-lang=Makefile><span class=c>#
</span><span class=c># arch/arm64/boot/Makefile
</span><span class=c>#
</span><span class=c># This file is included by the global makefile so that you can add your own
</span><span class=c># architecture-specific flags and dependencies.
</span><span class=c>#
</span><span class=c># This file is subject to the terms and conditions of the GNU General Public
</span><span class=c># License.  See the file &#34;COPYING&#34; in the main directory of this archive
</span><span class=c># for more details.
</span><span class=c>#
</span><span class=c># Copyright (C) 2012, ARM Ltd.
</span><span class=c># Author: Will Deacon &lt;will.deacon@arm.com&gt;
</span><span class=c>#
</span><span class=c># Based on the ia64 boot/Makefile.
</span><span class=c>#
</span><span class=c></span>
<span class=hl><span class=nv>OBJCOPYFLAGS_Image</span> <span class=o>:=</span>-O binary -R .note -R .note.gnu.build-id -R .comment -S
</span>
<span class=nv>targets</span> <span class=o>:=</span> Image Image.bz2 Image.gz Image.lz4 Image.lzma Image.lzo

<span class=hl><span class=nf>$(obj)/Image</span><span class=o>:</span> <span class=n>vmlinux</span> <span class=n>FORCE</span>
</span><span class=hl>	<span class=k>$(</span>call if_changed,objcopy<span class=k>)</span>
</span>
<span class=nf>$(obj)/Image.bz2</span><span class=o>:</span> <span class=k>$(</span><span class=nv>obj</span><span class=k>)</span>/<span class=n>Image</span> <span class=n>FORCE</span>
	<span class=k>$(</span>call if_changed,bzip2<span class=k>)</span>

<span class=nf>$(obj)/Image.gz</span><span class=o>:</span> <span class=k>$(</span><span class=nv>obj</span><span class=k>)</span>/<span class=n>Image</span> <span class=n>FORCE</span>
	<span class=k>$(</span>call if_changed,gzip<span class=k>)</span>

<span class=nf>$(obj)/Image.lz4</span><span class=o>:</span> <span class=k>$(</span><span class=nv>obj</span><span class=k>)</span>/<span class=n>Image</span> <span class=n>FORCE</span>
	<span class=k>$(</span>call if_changed,lz4<span class=k>)</span>

<span class=nf>$(obj)/Image.lzma</span><span class=o>:</span> <span class=k>$(</span><span class=nv>obj</span><span class=k>)</span>/<span class=n>Image</span> <span class=n>FORCE</span>
	<span class=k>$(</span>call if_changed,lzma<span class=k>)</span>

<span class=nf>$(obj)/Image.lzo</span><span class=o>:</span> <span class=k>$(</span><span class=nv>obj</span><span class=k>)</span>/<span class=n>Image</span> <span class=n>FORCE</span>
	<span class=k>$(</span>call if_changed,lzo<span class=k>)</span>

<span class=nf>install</span><span class=o>:</span>
	<span class=k>$(</span>CONFIG_SHELL<span class=k>)</span> <span class=k>$(</span>srctree<span class=k>)</span>/<span class=k>$(</span>src<span class=k>)</span>/install.sh <span class=k>$(</span>KERNELRELEASE<span class=k>)</span> <span class=se>\
</span><span class=se></span>	<span class=k>$(</span>obj<span class=k>)</span>/Image System.map <span class=s2>&#34;</span><span class=k>$(</span>INSTALL_PATH<span class=k>)</span><span class=s2>&#34;</span>

<span class=nf>zinstall</span><span class=o>:</span>
	<span class=k>$(</span>CONFIG_SHELL<span class=k>)</span> <span class=k>$(</span>srctree<span class=k>)</span>/<span class=k>$(</span>src<span class=k>)</span>/install.sh <span class=k>$(</span>KERNELRELEASE<span class=k>)</span> <span class=se>\
</span><span class=se></span>	<span class=k>$(</span>obj<span class=k>)</span>/Image.gz System.map <span class=s2>&#34;</span><span class=k>$(</span>INSTALL_PATH<span class=k>)</span><span class=s2>&#34;</span>

</code></pre></td></tr></table></div></div></div><div id=b1e67ba35fb93008 class=codetab__content><div class=highlight><pre class=chroma><code class=language-text data-lang=text><span class=hl>$ aarch64-linux-gnu-objcopy --help 
</span>Usage: aarch64-linux-gnu-objcopy [option(s)] in-file [out-file]
 Copies a binary file, possibly transforming it in the process
 The options are:
  -I --input-target &lt;bfdname&gt;      Assume input file is in format &lt;bfdname&gt;
  -O --output-target &lt;bfdname&gt;     Create an output file in format &lt;bfdname&gt;
:
  -j --only-section &lt;name&gt;	 Only copy section &lt;name&gt; into the output
     --add-gnu-debuglink=&lt;file&gt;    Add section .gnu_debuglink linking to &lt;file&gt;
<span class=hl>  -R --remove-section &lt;name&gt;       Remove section &lt;name&gt; from the output
</span><span class=hl>     --remove-relocations &lt;name&gt;   Remove relocations from section &lt;name&gt;
</span><span class=hl>  -S --strip-all		   Remove all symbol and relocation information
</span>:
  -V --version		     Display this program&#39;s version number
  -h --help			Display this output
     --info			List object formats &amp; architectures supported
aarch64-linux-gnu-objcopy: supported targets: elf64-littleaarch64 elf64-bigaarch64 elf32-littleaarch64 elf32-bigaarch64 elf32-littlearm elf32-bigarm elf64-little elf64-big elf32-little elf32-big srec symbolsrec verilog tekhex binary ihex plugin
Report bugs to &lt;http://www.sourceware.org/bugzilla/&gt;

# 커널 컴파일을 통해 얻은 리눅스 커널 실행파일 vmlinux가 어떤 파일인지 확인해보자.
<span class=hl>$ file vmlinux
</span>vmlinux: ELF 64-bit LSB shared object, ARM aarch64, version 1 (SYSV), statically linked, BuildID[sha1]=33523a2bcbaf40ff140171d6169def75f68aadcd, with debug_info, not stripped
# 보다시피 ELF 형식의 파일이다.

# 커널 컴파일 과정에서 objcopy로 생성된 Image를 확인해보자.
<span class=hl>$ file arch/arm64/boot/Image
</span>arch/arm64/boot/Image: MS-DOS executable PE32+ executable (EFI application) Aarch64 (stripped to external PDB), for MS Windows
# 현재 커널 config에 EFI 지원이 있어, MS-DOS 실행파일의 결과물로 나타난다.

# arch/arm64/boot/Makefile 내에 있는 objcopy 플래그를 그대로 사용하여 Image를 직접 생성해보자.
<span class=hl>$ aarch64-linux-gnu-objcopy -O binary -R .note -R .note.gnu.build-id -R .comment -S vmlinux Image
</span>
# 직접 명령어로 생성한 Image와 커널 컴파일의 결과로 나온 Image와 비교해보자.
<span class=hl>$ diff Image arch/arm64/boot/Image
</span># 동일한 바이너리 파일이므로 특별한 결과가 출력되지 않는다.
</code></pre></div></div></div><script>'use strict';var containerId=JSON.parse('"46a673584113c1a9"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[],i;containerElem&&(codetabLinks=containerElem.querySelectorAll('.codetab__link'),codetabContents=containerElem.querySelectorAll('.codetab__content'));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute('id')),codetabContents[i].style.display='none',0===parseInt(i,10)&&!codetabContents[i].classList.contains('active')&&codetabContents[i].classList.add('active');for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute('id',ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains('active')?codetabLinks[i].classList.add('active'):codetabLinks[i].classList.remove('active');codetabContents.length>0&&(codetabContents[0].style.display='block')</script><p>실행된 <code>objcopy</code> 명령의 옵션을 확인해보면, binary 형식으로 obj(컴파일 과정에서 설명하는 그 목적 코드)들을 복사하는데, 이 때 <code>.note</code>, <code>.comment</code> 등의 섹션은 완전히 지우고, <a href=https://en.wikipedia.org/wiki/Strip_(Unix)>strip</a>을 하게 되는데, 이 과정에서 실제 실행에 불필요한 모든 정보를 지우게 된다.</p><p>즉 커널을 실행하기 위해 필요한 순수한 기계어만 남기는 과정이라 볼 수 있다.</p><h2 id=chapter3-태스크-관리>Chapter.3 태스크 관리</h2><h3 id=q-execl을-통해-기존-프로세스의-수행-이미지가-바뀌는-과정에서-내부적으로-do_fork가-일어나는-것이-아닐까-p57>Q. execl()을 통해 기존 프로세스의 수행 이미지가 바뀌는 과정에서 내부적으로 do_fork()가 일어나는 것이 아닐까? (p57)</h3><p><code>execl()</code> 함수가 호출될 때, <code>struct task_struct</code>의 관계(PID, 부모 task 등)는 그대로 유지되지만 새로운 이미지를 실행하기 위한 부분(<code>.text</code>, <code>.data</code>, <code>.stack</code>, &mldr;)만 변경된다.</p><p>직접 예시로 나온 코드를 수정해서 확실한 관계를 확인해보자. 어떤 실행 파일이 출력을 하고 있는 것인지, PID가 몇 번인지 매번 확인할 수 있게 수정했다.</p><div id=ae62ef761a324e08 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">fork_exec.c</button>
<button class=codetab__link aria-label="Tab link">fork.c</button>
<button class=codetab__link aria-label="Tab link">실행 결과</button></div><div id=611629f368945f32 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=cp>#include</span> <span class=cpf>&lt;sys/types.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;sys/wait.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;unistd.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span><span class=o>*</span> <span class=n>argv</span><span class=p>[])</span>
<span class=p>{</span>
	<span class=n>pid_t</span> <span class=n>pid</span><span class=p>;</span>
	<span class=kt>int</span> <span class=n>exit_status</span><span class=p>;</span>

	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s (%d): Before fork</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>getpid</span><span class=p>());</span>
	<span class=k>if</span><span class=p>((</span><span class=n>pid</span><span class=o>=</span><span class=n>fork</span><span class=p>())</span><span class=o>&lt;</span><span class=mi>0</span><span class=p>){</span>
		<span class=n>perror</span><span class=p>(</span><span class=s>&#34;fork error&#34;</span><span class=p>);</span>
		<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>pid</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
		<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s (%d): Before exec</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>getpid</span><span class=p>());</span>
		<span class=n>execl</span><span class=p>(</span><span class=s>&#34;./fork&#34;</span><span class=p>,</span> <span class=s>&#34;fork&#34;</span><span class=p>,</span> <span class=p>(</span><span class=kt>char</span> <span class=o>*</span><span class=p>)</span><span class=mi>0</span><span class=p>);</span>
		<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s (%d): After exec</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>getpid</span><span class=p>());</span>
	<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
		<span class=n>pid</span> <span class=o>=</span> <span class=n>wait</span><span class=p>(</span><span class=o>&amp;</span><span class=n>exit_status</span><span class=p>);</span>
	<span class=p>}</span>

	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s (%d): Parent</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>getpid</span><span class=p>());</span>
	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div></div><div id=a7e848cd5cdb7152 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-c data-lang=c><span class=cp>#include</span> <span class=cpf>&lt;sys/types.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;sys/wait.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;unistd.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=n>g</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span><span class=o>*</span> <span class=n>argv</span><span class=p>[])</span>
<span class=p>{</span>
	<span class=n>pid_t</span> <span class=n>pid</span><span class=p>;</span>
	<span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
	<span class=kt>int</span> <span class=n>exit_status</span><span class=p>;</span>

	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s (%d): Parent g=%d, l=%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>getpid</span><span class=p>(),</span> <span class=n>g</span><span class=p>,</span> <span class=n>l</span><span class=p>);</span>

	<span class=k>if</span><span class=p>((</span><span class=n>pid</span><span class=o>=</span><span class=n>fork</span><span class=p>())</span><span class=o>&lt;</span><span class=mi>0</span><span class=p>){</span>
		<span class=n>perror</span><span class=p>(</span><span class=s>&#34;fork error&#34;</span><span class=p>);</span>
		<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>pid</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
		<span class=n>g</span><span class=o>++</span><span class=p>;</span>
		<span class=n>l</span><span class=o>++</span><span class=p>;</span>
	<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
		<span class=n>pid</span> <span class=o>=</span> <span class=n>wait</span><span class=p>(</span><span class=o>&amp;</span><span class=n>exit_status</span><span class=p>);</span>
	<span class=p>}</span>

	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;%s (%d): g=%d, l=%d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>getpid</span><span class=p>(),</span> <span class=n>g</span><span class=p>,</span> <span class=n>l</span><span class=p>);</span>

	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div></div><div id=e6300c31635d66d8 class=codetab__content><div class=highlight><pre class=chroma><code class=language-text data-lang=text># 각 소스 코드들을 컴파일한다.
$ gcc fork.c -o fork
$ gcc fork_exec.c -o fork_exec

$ ./fork_exec
./fork_exec (3319361): Before fork
./fork_exec (3319362): Before exec
fork (3319362): Parent g=2, l=3
fork (3319363): g=3, l=4
fork (3319362): g=2, l=3
./fork_exec (3319361): Parent
</code></pre></div></div></div><script>'use strict';var containerId=JSON.parse('"ae62ef761a324e08"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[],i;containerElem&&(codetabLinks=containerElem.querySelectorAll('.codetab__link'),codetabContents=containerElem.querySelectorAll('.codetab__content'));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute('id')),codetabContents[i].style.display='none',0===parseInt(i,10)&&!codetabContents[i].classList.contains('active')&&codetabContents[i].classList.add('active');for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute('id',ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains('active')?codetabLinks[i].classList.add('active'):codetabLinks[i].classList.remove('active');codetabContents.length>0&&(codetabContents[0].style.display='block')</script><ol><li>fork_exec에서 <code>fork()</code> 함수를 호출하기 전의 프로세스(3319361)애서 &ldquo;Before fork"를 출력한다.</li><li>fork_exec에서 <code>fork()</code> 함수가 호출되었고, 그 중 자식 프로세스(3319362)에서 &ldquo;Before exec"를 출력한다.</li><li>fork_exec의 자식 프로세스(3319362)가 <code>execl()</code> 함수를 통해 다른 실행파일인 fork를 실행한다.<br>(새로 실행시키는 것이 아닌, 실행 이미지를 교체한다.) 여전히 같은 프로세스 ID(3319362)를 가지는 것을 확인할 수 있다.</li><li>교체된 fork 프로세스(3319362)가 <code>fork()</code> 함수를 호출했고, 그 새로운 자식인 fork 프로세스 (3319363)가 생성되었다.</li><li>교체된 fork 프로세스(3319362)는 자신의 자식 프로세스 (3319363)이 종료되는 것을 기다린 뒤 출력하고 종료된다.</li><li>교체된 fork 프로세스(3319362)의 부모 프로세스 (3319361)는 자식 프로세스가 종료된 것을 확인한 뒤 &ldquo;Parent"를 출력한다.</li><li>교체된 fork 프로세스(3319362)는 이미지가 fork_exec에서 fork로 교체되었기 때문에 &ldquo;After exec"는 출력되지 않는다.</li></ol><p>이 결과를 통해 이미지가 바뀌는 과정에서 <code>do_fork()</code>는 호출되지 않는 것을 확인할 수 있다. (더 정확한 실험을 하려면 trace를 해서 <code>do_fork()</code>가 호출되지 않았음을 증명하면 되지만, 일단 <code>do_fork()</code>의 결과로 PID가 바뀐다는 것을 통해 증명했다.)</p><p>사실 이 질문이 생긴 원인은 <strong>하필 <code>execl()</code>로 교체하는 프로그램이 <code>fork()</code>를 호출하는 프로그램이라</strong> 헷갈리기 쉬웠던 것 같다.</p><h3 id=q-리눅스가-지원한다는-linux-exec-도메인-bsd나-svr4-exec-도메인은-무슨-뜻인가-p69>Q. 리눅스가 지원한다는 Linux exec 도메인, BSD나 SVR4 exec 도메인은 무슨 뜻인가? (p69)</h3><p>해당 내용은 <a href=https://www.oreilly.com/library/view/understanding-the-linux/0596005652/ch20s03.html>Understanding the linux kernel</a> 내용을 참고하여 설명하도록 하겠다.</p><p>리눅스는 다른 운영체제 용으로 컴파일 된 실행파일을 실행해 줄 수도 있다. (단, 같은 아키텍쳐라서 동일한 기계어를 실행할 수 있을 때를 기준으로 한다.)</p><p>여기서 다른 운영체제라고 무조건 실행할 수 있는 것이 아니다.</p><ul><li>에뮬레이션 된 실행: POSIX 호환되지 않는 시스템 콜이 있을 경우, 이에 대한 에뮬레이션을 지원해야 한다.</li><li>Native 실행: 모든 시스템 콜이 POSIX 호환되어, 그대로 실행할 수 있다.</li></ul><p>MS-DOS나 Windows의 경우, API 자체가 리눅스와 다르다. (당연히 UNIX를 뿌리로 두지 않기 때문에) 그래서 이를 에뮬레이션 하기 위해 <a href=https://en.wikipedia.org/wiki/Wine_(software)>Wine</a>이나 DOSemu 등을 통해 API를 리눅스 환경에 맞게 변환해 주는 작업이 필요하다. (ex. WinAPI -> Syscall)</p><p><a href=https://man7.org/linux/man-pages/man2/personality.2.html>personality</a>에 대한 설명을 읽어보면 해당 실행 파일이 (다른 운영체제 용으로 컴파일된) 커널의 기능을 얼마나 지원할 수 있는지에 대한 flag 형식으로 표현되는 것을 확인할 수 있다.</p><p>이 부분은 리눅스 커널 분석 과정에서 중요한 부분이라기 보단, <strong>이런 기능도 리눅스 커널에서 제공된다</strong>라고 하고 넘어갈 수 있을 것 같다. (해당 부분에 관심 있는 사람이라면 모를까)</p><h3 id=q-n개의-cpu를-갖는-시스템에서는-임의의-시점에-최대-n개의-task라는-것이-physical-core인가-logical-processor인가-p70>Q. n개의 CPU를 갖는 시스템에서는 임의의 시점에 최대 n개의 task라는 것이 Physical core인가? Logical processor인가? (p70)</h3><p>하드웨어 제조사들마다 다른 용어를 쓰는 바람에 조금 헷갈릴 수도 있는데, 아래와 같이 정의해보겠다. (좀 더 정확한 정의는 추후 시도해 보도록 하겠다.)</p><ul><li>Physical core: 물리적으로 구별되는 CPU,<br>일반적으로 제품 소개에 core라고 표기됨 (ex. Dual core -> Physical core 2개)</li><li>Logical processor: 논리적으로 구별되는 CPU, <a href=https://en.wikipedia.org/wiki/Hyper-threading>하이퍼쓰레드</a>나 <a href=https://en.wikipedia.org/wiki/Simultaneous_multithreading>SMT</a> 기술로 구현된 CPU 단위,<br>최근 제품들의 경우 1개 physical core 당 2개의 logical processor가 지원되며, 전체 개수는 physical core의 개수보다 작을 수 없다.<br>일반적으로 제품 소개에 thread라고 표기됨</li></ul><p>추후 책에서 runqueue를 다룰 때, Logical processor를 뜻하는 것으로 예측된다. (p77)</p><p>리눅스에서 <code>$ cat /proc/cpuinfo</code>를 해보면 Logical processor의 개수만큼 나타난다. 즉 리눅스 커널에서는 Logical processor를 CPU 단위로 취급하는 것으로 보인다.</p><h3 id=q-exit_zombie-상태가-유지되는-경우시스템에-불필요한-부하를-주는-상태는-어떤-경우인가-p71>Q. EXIT_ZOMBIE 상태가 유지되는 경우(시스템에 불필요한 부하를 주는 상태)는 어떤 경우인가? (p71)</h3><p>일반적인 프로세스의 경우, 부모 프로세스가 <code>wait()</code> 함수를 호출하여 자식 프로세스의 상태가 EXIT_DEAD로 바뀌게 허가해준다. 이 개념대로라면 부모가 <code>wait()</code> 함수를 호출하지 못하고 죽으면(ex. SEGFAULT) 자식 프로세스는 좀비 프로세스 상태가 계속 유지되는 것이라 생각하고 있었다.</p><p>하지만 <a href=https://man7.org/linux/man-pages/man2/wait.2.html><code>wait()</code></a> 시스템 콜의 설명에서 아래와 같은 설명이 있다. (<code>man 2 wait</code>에서 NOTES 부분을 확인해 보면 자세한 설명이 나와있다.)</p><blockquote><p>A child that terminates, but has not been waited for becomes a &ldquo;zombie&rdquo;. The kernel maintains a minimal set of information about the zombie process (PID, termination status, resource usage information) in order to allow the parent to later perform a wait to obtain information about the child. As long as a zombie is not removed from the system via a wait, it will consume a slot in the kernel process table, and if this table fills, it will not be possible to create further processes. If a parent process terminates, then its &ldquo;zombie&rdquo; children (if any) are adopted by init(1), (or by the nearest &ldquo;subreaper&rdquo; process as defined through the use of the prctl(2) PR_SET_CHILD_SUBREAPER operation); init(1) automatically performs a wait to remove the zombies.</p></blockquote><p>해석하면 아래와 같다.</p><blockquote><p>자식 프로세스가 종료되었지만 부모 프로세스로부터 wait을 호출받지 못하면 좀비 프로세스가 된다. 커널은 좀비 프로세스에 대한 최소한의 정보(PID, 종료 상태, 자원 사용 정보)를 유지하여, 추후 부모 프로세스가 나중에 wait을 했을 때 이 정보들을 얻을 수 있게 한다. 좀비 프로세스가 wait으로 제거되지 않는 상태로 유지된다면, 커널의 프로세스 테이블의 한 칸을 계속 소모하고 있는 것이며, 해당 테이블이 꽉 찰 경우 추후 새로운 프로세스를 생성할 수 없게 된다. 만약 부모 프로세스가 종료되면, 그 프로세스에 딸려 있던 좀비 자식 프로세스들은 init 프로세스에게 입양된다. (혹은 prctl 시스템콜의 PR_SET_CHILD_SUBREAPER 동작을 수행한 가장 가까운 subreaper에게 입양된다.) init은 자동으로 wait을 수행하여 좀비 프로세스들을 삭제한다.</p></blockquote><p>좀비 프로세스가 되는 데 가장 중요한 것은 wait()의 호출이 이루어 지지 않는 것이었다.</p><p>직접 내가 생각했던 방법과, wait의 설명에서 한 내용을 실험해보자.</p><div id=bcb18e317e973153 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">parent_segfault.c</button>
<button class=codetab__link aria-label="Tab link">no_wait.c</button>
<button class=codetab__link aria-label="Tab link">parent_segfault 실행</button>
<button class=codetab__link aria-label="Tab link">no_wait 실행</button></div><div id=fd04fbadc192773d class=codetab__content><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;unistd.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;sys/types.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;sys/wait.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span> <span class=p>{</span>
	<span class=n>pid_t</span> <span class=n>pid</span><span class=p>;</span>
	<span class=kt>int</span> <span class=n>status</span><span class=p>;</span>

	<span class=k>if</span> <span class=p>((</span><span class=n>pid</span> <span class=o>=</span> <span class=n>fork</span><span class=p>())</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
		<span class=n>perror</span><span class=p>(</span><span class=s>&#34;fork&#34;</span><span class=p>);</span>
		<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
	<span class=p>}</span>

	<span class=k>if</span> <span class=p>(</span><span class=n>pid</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
	<span class=p>{</span>
		<span class=cm>/* Child waits 50 second and terminate */</span>
		<span class=n>sleep</span><span class=p>(</span><span class=mi>50</span><span class=p>);</span>
		<span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
	<span class=p>}</span>
	<span class=k>else</span>
	<span class=p>{</span>
		<span class=cm>/* Parent will be terminated before the child&#39;s termination */</span>
    <span class=kt>char</span> <span class=o>*</span><span class=n>msg</span> <span class=o>=</span> <span class=s>&#34;Test&#34;</span><span class=p>;</span>
		<span class=n>msg</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=sc>&#39;S&#39;</span><span class=p>;</span> <span class=cm>/* triggering segfault */</span>
	<span class=p>}</span>

	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></div><div id=995b2f2375280791 class=codetab__content><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;unistd.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;sys/types.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;sys/wait.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span> <span class=p>{</span>
	<span class=n>pid_t</span> <span class=n>pid</span><span class=p>;</span>
	<span class=kt>int</span> <span class=n>status</span><span class=p>;</span>

	<span class=k>if</span> <span class=p>((</span><span class=n>pid</span> <span class=o>=</span> <span class=n>fork</span><span class=p>())</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
		<span class=n>perror</span><span class=p>(</span><span class=s>&#34;fork&#34;</span><span class=p>);</span>
		<span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
	<span class=p>}</span>

	<span class=cm>/* Child */</span>
	<span class=k>if</span> <span class=p>(</span><span class=n>pid</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
	<span class=p>{</span>
		<span class=cm>/* Child terminate immediately */</span>
		<span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
	<span class=p>}</span>
	<span class=k>else</span>
	<span class=p>{</span>
		<span class=cm>/* Parent waits 50 second and terminate */</span>
		<span class=n>sleep</span><span class=p>(</span><span class=mi>50</span><span class=p>);</span>
	<span class=p>}</span>

	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></div><div id=093e70dc46d62e92 class=codetab__content><div class=highlight><pre class=chroma><code class=language-text data-lang=text># 실행파일로 컴파일한다.
$ gcc parent_segfault.c -o parent_segfault

# parent_segfault 실행한다. (ps로 결과를 확인해야 하므로 &amp;을 붙여 백그라운드 실행시킨다.)
$ ./parent_segfault &amp;
[1] 1244753
[1]  + 1244753 segmentation fault (core dumped)  ./parent_segfault

# 바로 ps 명령으로 ./parent_segfault의 자식 프로세스 상태를 조회해 보자.
$ ps -ef | grep parent_segfault
jsyoo5b  1244755       1  0 13:40 pts/2    00:00:00 ./parent_segfault
jsyoo5b  1245371 4116883  0 13:40 pts/2    00:00:00 grep ... # grep 명령의 process

# 50초 뒤에 다시 조회하여 zombie상태인지 확인해보자.
$ ps -ef | grep parent_segfault
jsyoo5b  1247619 4116883  0 13:42 pts/2    00:00:00 grep ... # grep 명령의 process
# 아무 결과도 나타나지 않는다.
</code></pre></div></div><div id=6f66c922eef14c32 class=codetab__content><div class=highlight><pre class=chroma><code class=language-text data-lang=text># 실행파일로 컴파일한다.
$ gcc no_wait.c -o no_wait

# no_wait 실행한다. (ps로 결과를 확인해야 하므로 &amp;을 붙여 백그라운드 실행시킨다.)
$ ./no_wait &amp;
[1] 1257718

# 바로 ps 명령으로 ./no_wait의 자식 프로세스 상태를 조회해 보자.
$ ps -ef | grep no_wait
jsyoo5b  1257718 4116883  0 13:47 pts/2    00:00:00 ./no_wait
jsyoo5b  1257720 1257718  0 13:47 pts/2    00:00:00 [no_wait] &lt;defunct&gt;
jsyoo5b  1257956 4116883  0 13:47 pts/2    00:00:00 grep ... # grep 명령의 process

# 50초 뒤에 다시 조회하여 zombie상태인지 확인해보자.
$ ps -ef | grep no_wait
jsyoo5b  1264140 4116883  0 13:51 pts/2    00:00:00 grep ... # grep 명령의 process
# 아무 결과도 나타나지 않는다.
</code></pre></div></div></div><script>'use strict';var containerId=JSON.parse('"bcb18e317e973153"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[],i;containerElem&&(codetabLinks=containerElem.querySelectorAll('.codetab__link'),codetabContents=containerElem.querySelectorAll('.codetab__content'));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute('id')),codetabContents[i].style.display='none',0===parseInt(i,10)&&!codetabContents[i].classList.contains('active')&&codetabContents[i].classList.add('active');for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute('id',ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains('active')?codetabLinks[i].classList.add('active'):codetabLinks[i].classList.remove('active');codetabContents.length>0&&(codetabContents[0].style.display='block')</script><p>위의 실험에서 parent_segfault는 부모 프로세스가 강제 종료될 수 있도록 강제로 SEGFAULT를 일으켰다. 부모 프로세스가 강제 종료되면 부모 프로세스가 1(<code>init</code> 프로세스)으로 변경된 것을 볼 수 있다.</p><p>반대로 자식이 먼저 종료되도록 부모가 <code>wait()</code>을 호출하지 않는 경우, 자식 프로세스는 &lt;defunct> 상태가 되는데, 이 상태가 좀비 프로세스 상태임을 의미한다. 자식 프로세스는 50초동안 부모 프로세스에서 <code>wait()</code>를 호출하길 기다리며 좀비 프로세스 상태였지만, 부모 프로세스는 그냥 종료되었고, 아마 1(<code>init</code> 프로세스)에게 입양되어, <code>wait()</code> 처리를 통해 종료되었을 것이다.</p><h3 id=q-sigkill이-발생하는-경우는-어떤-경우인가-p72>Q. SIGKILL이 발생하는 경우는 어떤 경우인가? (p72)</h3><p>스터디 당시 Ctrl+C로 발생시키는 것이 아니냐고 했는데, Ctrl+C는 SIGKILL이 아니라 <a href=https://en.wikipedia.org/wiki/Signal_(IPC)#SIGINT><code>SIGINT</code>(Interrupt Signal)</a>다. 아마 Ctrl+C를 통해 실행 중이던 프로세스를 종료시키기 때문에 그런 것으로 생각할텐데, 정확하게 설명하자면 <code>SIGINT</code>의 기본 핸들러가 해당 프로세스의 종료기 때문이다.</p><p>SIGINT의 핸들러를 직접 정의하는 예제를 간단하게 짜 보았다. 참고로 <code>signal()</code>을 사용하는 것은 좋지 않으며, <code>sigaction()</code>을 사용하는 것이 좋다고 알고 있으나, 이 부분은 추후 제대로 공부하고 글을 쓰도록 하겠다. (게다가 간단한 예제라서 공을 들이지 않은 것도 있다.)</p><div id=3909331dd833a856 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">sigint_hndl.c</button>
<button class=codetab__link aria-label="Tab link">실행 결과</button></div><div id=3a08cc503dbd3b5c class=codetab__content><div class=highlight><pre class=chroma><code class=language-c data-lang=c><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;stdlib.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;signal.h&gt;</span><span class=cp>
</span><span class=cp>#include</span> <span class=cpf>&lt;unistd.h&gt;</span><span class=cp>
</span><span class=cp></span>
<span class=cp>#define SIGINT_THRESHOLD 3
</span><span class=cp></span>
<span class=kt>void</span> <span class=nf>sigint_hndl</span><span class=p>(</span><span class=kt>int</span> <span class=n>signo</span><span class=p>)</span>
<span class=p>{</span>
	<span class=k>static</span> <span class=kt>int</span> <span class=n>sigint_cnt</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
	<span class=k>if</span> <span class=p>(</span><span class=n>signo</span> <span class=o>==</span> <span class=n>SIGINT</span><span class=p>)</span>
	<span class=p>{</span>
		<span class=n>sigint_cnt</span><span class=o>++</span><span class=p>;</span>
		<span class=k>if</span> <span class=p>(</span><span class=n>sigint_cnt</span> <span class=o>&lt;</span> <span class=n>SIGINT_THRESHOLD</span><span class=p>)</span>
		<span class=p>{</span>
			<span class=n>printf</span><span class=p>(</span><span class=s>&#34; Send %d more SIGINT to terminate</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span>
				<span class=p>(</span><span class=n>SIGINT_THRESHOLD</span> <span class=o>-</span> <span class=n>sigint_cnt</span><span class=p>));</span>
		<span class=p>}</span>
		<span class=k>else</span>
		<span class=p>{</span>
			<span class=n>exit</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
		<span class=p>}</span>
	<span class=p>}</span>
<span class=p>}</span>

<span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
<span class=p>{</span>
	<span class=n>signal</span><span class=p>(</span><span class=n>SIGINT</span><span class=p>,</span> <span class=n>sigint_hndl</span><span class=p>);</span>

	<span class=k>while</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
		<span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

</code></pre></div></div><div id=9388d1dcc9285374 class=codetab__content><div class=highlight><pre class=chroma><code class=language-text data-lang=text># 실행파일로 컴파일한다.
$ gcc sigint_hndl.c -o sigint_hndl

# sigint_hndl을 실행하고 Ctrl+C를 3번 입력하여 종료시킨다.
$ ./sigint_hndl
^C Send 2 more SIGINT to terminate
^C Send 1 more SIGINT to terminate
^C 
# Ctrl+C를 3번째 입력받고 나서야 종료된다. (signal handler에 작성한 대로 동작함)
</code></pre></div></div></div><script>'use strict';var containerId=JSON.parse('"3909331dd833a856"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[],i;containerElem&&(codetabLinks=containerElem.querySelectorAll('.codetab__link'),codetabContents=containerElem.querySelectorAll('.codetab__content'));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute('id')),codetabContents[i].style.display='none',0===parseInt(i,10)&&!codetabContents[i].classList.contains('active')&&codetabContents[i].classList.add('active');for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute('id',ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains('active')?codetabLinks[i].classList.add('active'):codetabLinks[i].classList.remove('active');codetabContents.length>0&&(codetabContents[0].style.display='block')</script><p>다시 본론으로 돌아와서, <code>SIGKILL</code>은 명시적으로 호출했을 때만 발생한다. 대표적인 경우로 <code>kill -9 $PID</code>와 같은 명령어를 통해 종료시키는 방법이 있다. (여기서 9는 SIGKILL의 <a href=https://en.wikipedia.org/wiki/Signal_%28IPC%29#POSIX_signals>portable number</a>다.)</p><p><a href=https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html>프로세스를 종료시키는 시그널 종류는 <code>SIGTERM</code>, <code>SIGINT</code>, <code>SIGQUIT</code>, <code>SIGKILL</code>, <code>SIGHUP</code>이 존재한다.</a></p><ul><li><code>SIGTERM</code>은 종료 요청으로, <code>kill</code> 명령이 보내는 기본 시그널이다.<br>GUI에서 종료버튼을 누르거나, Task Manager에서 종료 요청을 보낼 때와 비슷하다고 볼 수 있다.<br>문서 작업 프로그램의 경우 종료 요청 시 저장하겠냐고 다시 물어보는 동작을 하듯, 사용자가 작성한 핸들러를 동작시킬 수 있다.</li><li><code>SIGINT</code>는 위에서 설명했듯 Program interrupt를 보내는 것이다. INTR 글자의 가장 일반적인 예가 우리가 아는 Ctrl+C이다.</li><li><code>SIGQUIT</code>는 <code>SIGINT</code>와 비슷하지만 다른 QUIT 글자 (Ctrl+\)로 발생되며, core dump를 발생시킨다.<br>사용자가 직접 프로그램 에러를 발생시키며 종료시키는 경우라 볼 수 있다. (다른 예시로는 SEGFAULT 등의 오류로 인해 <a href=https://www.gnu.org/software/libc/manual/html_node/Program-Error-Signals.html>프로그램에서 에러 시그널을 발생하는 경우</a>가 있다.)</li><li><code>SIGHUP</code>는 hang-up 신호로, 사용자 터미널의 연결이 끊긴 경우 이를 알려 동작중이던 프로세스들이 종료되라고 알리는 것이다. (네트워크 연결 끊김 등)</li></ul><p>위 예시된 시그널등과 달리 <code>SIGKILL</code>은 해당 프로세스의 의사와 관계 없이 (핸들러를 등록하지 못하고) 강제 종료할 때 사용된다.</p><p><a href=https://github.com/systemd/systemd/blob/f8bff7805/src/shutdown/shutdown.c#L392-L396>시스템을 종료시키는 shutdown의 경우, <code>SIGTERM</code>과 <code>SIGKILL</code>의 용도를 확실히 알 수 있게 해 준다.</a></p><ol><li>먼저 모든 프로세스에 <code>SIGTERM</code>을 보내, 자발적으로 종료되길 기다린다.</li><li>혹시나 <code>SIGTERM</code>에도 종료되지 않은 프로세스들을 강제 종료시키기 위해 <code>SIGKILL</code>을 보낸다.</li></ol><p>일부 시스템 관리 프로그램의 경우, lock을 잡고 있거나, db를 수정하고 있는 데 <code>SIGKILL</code>만으로 종료하면 프로그램의 상태가 이상해진 상태로 종료되므로, 기본적으로는 <code>SIGTERM</code>으로 종료시키는 것이 적합하다.</p></article><script defer src=/js/clipboard.min.1626706afc88d95ebe1173b553ec732c6dc82a576989315fdf5e7779af738a44.js></script><script defer src=/js/helper/prev.min.js></script><script defer src=/js/helper/prop.min.js></script><script>'use strict';document.addEventListener('DOMContentLoaded',function(){var a=!1,b=document.querySelectorAll('pre.chroma'),c=document.querySelectorAll('.language-code'),d=document.querySelectorAll('div.language-\\$'),e=document.querySelectorAll('div.language-\\>'),f=function(c){var k=c,b=c.textContent,j,g,h,i,d,f,e;if(b.length>15){a||(j=new ClipboardJS('.copy-to-clipboard',{text:function(a){var c=prev(a).querySelectorAll('code');return c.length>1?b=prev(a).querySelector('code[class^="language-"]').textContent:b=prev(a).querySelector('code').textContent,b.replace(/^\$\s/gm,'')}}),j.on('success',function(a){a.clearSelection(),g=prop(a.trigger.parentNode,'tagName')=='PRE',a.trigger.setAttribute('aria-label','Copied to clipboard!'),a.trigger.classList.add('tooltipped'),a.trigger.classList.add('tooltipped-w')}),j.on('error',function(a){g=prop(a.trigger.parentNode,'tagName')=='PRE',a.trigger.setAttribute('aria-label',a.action.toString()),a.trigger.classList.add('tooltipped'),a.trigger.classList.add('tooltipped-w')}),a=!0),h=['language-mermaid','language-viz','language-wave','language-chart','language-msc','language-flowchart'],i=!1,d=k.getAttribute('class');for(f=0;f<h.length;f++)if(d&&d.startsWith(h[f])){i=!0;break}i||d&&(e=document.createElement('span'),e.setAttribute('class','copy-to-clipboard'),e.setAttribute('title','Copy to clipboard'),c.parentNode.parentNode.insertBefore(e,c.parentNode.nextElementSibling))}},g=function(b){var a=document.createElement('span');a.setAttribute('class','copy-to-clipboard'),a.setAttribute('title','Copy to clipboard'),b.parentNode.parentNode.insertBefore(a,b.parentNode.nextElementSibling)};b?b.forEach(function(a){a.querySelectorAll('code').forEach(function(a){f(a)})}):null,c?c.forEach(function(a){a.querySelectorAll('code').forEach(function(a){f(a)})}):null,d?d.forEach(function(a){a.querySelectorAll('code').forEach(function(a){g(a)})}):null,e?e.forEach(function(a){a.querySelectorAll('code').forEach(function(a){g(a)})}):null})</script><script>'use strict';var langCodeElem,dollarCodeElem,gtCodeElem;function wrap(a,b){a.parentNode.insertBefore(b,a),b.appendChild(a)}(function(){var a=document.querySelector('.single__contents');a?a.querySelectorAll('pre > code').forEach(function(b){var a=b.getAttribute('data-lang'),c=document.createElement('div'),e=null,d=null;a&&a.includes(':')?(e=a.split(':')[0],d=a.split(':')[1],c.className='language-'+e,c.setAttribute('data-lang',d),b.className='language-'+e,b.setAttribute('data-lang',d),b.setAttribute('id',d)):a||(c.setAttribute('data-lang','Code'),c.className='language-code'),(!a||d)&&wrap(b.parentNode,c)}):null})(),langCodeElem=document.querySelectorAll('.language-code'),langCodeElem?langCodeElem.forEach(function(b){var a=document.createElement('span');a.className='copy-to-clipboard',a.setAttribute('title','Copy to clipboard'),b.append(a)}):null,dollarCodeElem=document.querySelectorAll('div.language-\\$'),gtCodeElem=document.querySelectorAll('div.language-\\>'),dollarCodeElem?dollarCodeElem.forEach(function(a){var b=a.parentNode.parentNode?a.parentNode.parentNode.querySelectorAll('.lnt'):null;b?b.forEach(function(a){a.innerHTML='$<br/>'}):null}):null,gtCodeElem?gtCodeElem.forEach(function(a){var b=a.parentNode.parentNode?a.parentNode.parentNode.querySelectorAll('.lnt'):null;b?b.forEach(function(a){a.innerHTML='><br/>'}):null}):null</script><div class=donation><div class=donation__message>공유하기</div><div class=donation__icons><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdevlog.jsyoo5b.net%2fko%2fposts%2flinux-kernel%2fiamroot%2fweek1-lki%2f" title=Facebook aria-label="Facebook Share Button" class=donation__item target=_blank rel=noreferrer data-type=share><svg data-name="facebook" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="35" height="35" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path d="m15.997 3.985h2.191V.169c-.378-.052-1.678-.169-3.192-.169-3.159.0-5.323 1.987-5.323 5.639V9H6.187v4.266h3.486V24h4.274V13.267h3.345l.531-4.266h-3.877V6.062c.001-1.233.333-2.077 2.051-2.077z"/></svg></a><a href="https://twitter.com/intent/tweet?text=%5biamroot%5d%201%ec%a3%bc%ec%b0%a8%20%ec%8a%a4%ed%84%b0%eb%94%94%20%ed%9a%8c%ea%b3%a0%20%28%eb%a6%ac%eb%88%85%ec%8a%a4%20%ec%bb%a4%eb%84%90%20%eb%82%b4%eb%b6%80%ea%b5%ac%ec%a1%b0%29&url=https%3a%2f%2fdevlog.jsyoo5b.net%2fko%2fposts%2flinux-kernel%2fiamroot%2fweek1-lki%2f&hashtags=%ec%bb%a4%eb%84%90&via=" title=Twitter aria-label="Twitter Share Button" class=donation__item target=_blank rel=noreferrer data-type=share><svg data-name="twitter" enable-background="new 0 0 24 24" viewBox="0 0 24 24" width="35" height="35" fill="currentcolor" xmlns="http://www.w3.org/2000/svg"><path d="m21.534 7.113C22.51 6.42 23.331 5.555 24 4.559v-.001c-.893.391-1.843.651-2.835.777 1.02-.609 1.799-1.566 2.165-2.719-.951.567-2.001.967-3.12 1.191-.903-.962-2.19-1.557-3.594-1.557-2.724.0-4.917 2.211-4.917 4.921.0.39.033.765.114 1.122-4.09-.2-7.71-2.16-10.142-5.147-.424.737-.674 1.58-.674 2.487.0 1.704.877 3.214 2.186 4.089-.791-.015-1.566-.245-2.223-.606v.054c0 2.391 1.705 4.377 3.942 4.835-.401.11-.837.162-1.29.162-.315.0-.633-.018-.931-.084.637 1.948 2.447 3.381 4.597 3.428-1.674 1.309-3.8 2.098-6.101 2.098-.403.0-.79-.018-1.177-.067 2.18 1.405 4.762 2.208 7.548 2.208 8.683.0 14.342-7.244 13.986-14.637z"/></svg></a></div></div><div class=whoami__gutter></div><hr class="hr-slash whoami-hr"><section class=whoami><div class=whoami__image-wrapper><img data-src=/images/whoami/avatar.jpg src="data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath fill='%23aaa' d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-4.44-6.19l-2.35 3.02-1.56-1.88c-.2-.25-.58-.24-.78.01l-1.74 2.23c-.26.33-.02.81.39.81h8.98c.41 0 .65-.47.4-.8l-2.55-3.39c-.19-.26-.59-.26-.79 0z'/%3E%3C/svg%3E" alt="JaeSang Yoo" class="lazyload whoami__image"></div><div class=whoami__contents><div class=whoami__written-by>글쓴이</div><div class=whoami__title>JaeSang Yoo</div><div class=whoami__desc>the developer</div><div class=whoami__social><a href=mailto:jsyoo5b@gmail.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/JSYoo5B title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a></div></div></section><hr class="hr-slash whoami-hr"><section class=related><h1 class=related__title><hr class=hr-dots><div>관련글</div><hr class=hr-dots></h1><ul class=related-ul><li><a href=/ko/posts/linux-kernel/my-first-commit/ class=related__link>내 첫 리눅스 커널 기여</a></li></ul></section><div class=grow></div><nav class=pagination-single><a href=https://devlog.jsyoo5b.net/ko/posts/golang/musthave/ch05/ class=pagination-single__left><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03.0-1.42s-1.02-.39-1.41.0l-6.59 6.59c-.39.39-.39 1.02.0 1.41l6.59 6.59c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L7.83 13H19c.55.0 1-.45 1-1s-.45-1-1-1z"/></svg></div><div class=pagination-single__left-title>Tucker의 Go 언어 프로그래밍 5장 요약</div></a><div class=grow></div><a href=https://devlog.jsyoo5b.net/ko/posts/golang/musthave/ch06/ class=pagination-single__right><div class=pagination-single__right-title>Tucker의 Go 언어 프로그래밍 6장 요약</div><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03.0 1.42.39.39 1.02.39 1.41.0l6.59-6.59c.39-.39.39-1.02.0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41.0s-.39 1.02.0 1.41L16.17 11H5c-.55.0-1 .45-1 1s.45 1 1 1z"/></svg></div></a></nav><div id=utterances></div><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript><script>document.addEventListener('DOMContentLoaded',function(){var b,c,d,e,f,a;function g(b,c){var a=b||c;return a==="dark"?"photon-dark":a==="hacker"?"photon-dark":a==="kimbie"?"github-dark-orange":"github-light"}try{b=JSON.parse('"jsyoo5b"'),c=JSON.parse('"blog"'),d=JSON.parse('"dark"'),e=localStorage.getItem('theme'),f=g(e,d),a=document.createElement('script'),a.setAttribute('src','https://utteranc.es/client.js'),a.setAttribute('repo',`${b}/${c}`),a.setAttribute('issue-term','pathname'),a.setAttribute('theme',f),a.setAttribute('crossorigin','anonymous'),a.setAttribute('async',''),a.onload=function(){},document.getElementById('utterances').appendChild(a)}catch(a){console.log(a)}})</script><div id=comments-fallback class=viaemail><div class=utterances__message><a href=https://github.com/jsyoo5b/blog/issues/ target=_blank rel=noreferrer>&nbsp;</a></div></div><div class="modal micromodal-slide" id=modal aria-hidden=true><div class=modal__overlay tabindex=-1 data-micromodal-close><div class=modal__container role=dialog aria-modal=true aria-labelledby=modal-title><div class=modal__content id=modal-content><div id=mySwipe class=swipe><div class=swipe-wrap></div></div></div><span class=modal__items><span class=modal__header><div class=modal__paging title="Page Info" aria-label="Current Page"></div><div class="modal__icon modal__toolbar modal__toolbar--close" title=Close aria-label="Close Button" data-micromodal-close><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="25" height="25"><path fill="currentcolor" d="M21.734375 19.640625l-2.097656 2.09375C19.253906 22.121094 18.628906 22.121094 18.242188 21.734375L13 16.496094 7.761719 21.734375C7.375 22.121094 6.746094 22.121094 6.363281 21.734375l-2.097656-2.09375c-.386719-.386718999999999-.386719-1.011719.0-1.398437L9.503906 13 4.265625 7.761719c-.382812-.390625-.382812-1.019531.0-1.398438L6.363281 4.265625C6.746094 3.878906 7.375 3.878906 7.761719 4.265625L13 9.507813l5.242188-5.242188c.386718000000002-.386719 1.015625-.386719 1.394531.0l2.097656 2.09375C22.121094 6.746094 22.121094 7.375 21.738281 7.761719L16.496094 13l5.238281 5.242188C22.121094 18.628906 22.121094 19.253906 21.734375 19.640625z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--full" title="Full Screen" aria-label="Full Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25"><path fill="currentcolor" d="M5 3C3.9069372 3 3 3.9069372 3 5V8A1.0001 1.0001.0 105 8V5H8A1.0001 1.0001.0 108 3H5zM16 3a1.0001 1.0001.0 100 2h3V8a1.0001 1.0001.0 102 0V5C21 3.9069372 20.093063 3 19 3H16zM3.984375 14.986328A1.0001 1.0001.0 003 16v3c0 1.093063.9069372 2 2 2H8a1.0001 1.0001.0 100-2H5V16A1.0001 1.0001.0 003.984375 14.986328zm16 0A1.0001 1.0001.0 0019 16v3H16a1.0001 1.0001.0 100 2h3C20.093063 21 21 20.093063 21 19V16a1.0001 1.0001.0 00-1.015625-1.013672z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--normal" title="Normal Screen" aria-label="Normal Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentcolor" d="M16.96875 4.972656C15.867188 4.988281 14.984375 5.894531 15 7v8H7C6.277344 14.988281 5.609375 15.367188 5.246094 15.992188 4.878906 16.613281 4.878906 17.386719 5.246094 18.007813 5.609375 18.632813 6.277344 19.011719 7 19H19V7C19.007813 6.460938 18.796875 5.941406 18.414063 5.558594 18.03125 5.175781 17.511719 4.964844 16.96875 4.972656zm16 0c-1.046875.015625-1.90625.839844-1.964844 1.886719C31 6.90625 31 6.953125 31 7V19H43C43.066406 19 43.132813 19 43.199219 18.992188 44.269531 18.894531 45.070313 17.972656 45.015625 16.902344 44.964844 15.828125 44.074219 14.988281 43 15H35V7C35.007813 6.460938 34.796875 5.941406 34.414063 5.558594 34.03125 5.175781 33.511719 4.964844 32.96875 4.972656zM7 31C6.277344 30.988281 5.609375 31.367188 5.246094 31.992188 4.878906 32.613281 4.878906 33.386719 5.246094 34.007813 5.609375 34.632813 6.277344 35.011719 7 35h8v8C14.988281 43.722656 15.367188 44.390625 15.992188 44.753906 16.613281 45.121094 17.386719 45.121094 18.007813 44.753906 18.632813 44.390625 19.011719 43.722656 19 43V31zm24 0V43C30.988281 43.722656 31.367188 44.390625 31.992188 44.753906 32.613281 45.121094 33.386719 45.121094 34.007813 44.753906 34.632813 44.390625 35.011719 43.722656 35 43V35h8C43.722656 35.011719 44.390625 34.632813 44.753906 34.007813 45.121094 33.386719 45.121094 32.613281 44.753906 31.992188 44.390625 31.367188 43.722656 30.988281 43 31z"/></svg></div></span><div class="modal__icon modal__arrow modal__arrow--left" title="Arrow Left" aria-label="Arrow Left Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M23.28125 11 10 10V6.851563C10 6.523438 9.839844 6.277344 9.519531 6.03125 9.199219 5.949219 8.878906 5.949219 8.640625 6.113281c-3.28125 2.296875-6.402344 6.144532-6.480469 6.308594-.078125.15625-.152343.390625-.15625.554688000000001C2.003906 12.980469 2 12.988281 2 12.992188 2 13.15625 2.078125 13.402344 2.160156 13.484375 2.238281 13.648438 5.28125 17.507813 8.640625 19.804688 8.960938 19.96875 9.28125 20.050781 9.519531 19.886719 9.839844 19.722656 10 19.476563 10 19.148438V16l13.28125-1C23.679688 14.679688 24 13.875 24 12.992188 24 12.195313 23.761719 11.320313 23.28125 11z"/></svg></div><div class="modal__icon modal__arrow modal__arrow--right" title="Arrow Right" aria-label="Arrow Right Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M2.71875 11.023438l13.28125-1V6.875C16 6.546875 16.160156 6.300781 16.480469 6.054688 16.800781 5.972656 17.121094 5.972656 17.359375 6.136719c3.28125 2.296875 6.402344 6.144531 6.480469 6.308594.078125.15625.152343999999999.390625.15625.554687C23.996094 13.003906 24 13.011719 24 13.015625 24 13.179688 23.921875 13.425781 23.839844 13.507813 23.761719 13.671875 20.71875 17.53125 17.359375 19.828125 17.039063 19.992188 16.71875 20.074219 16.480469 19.910156 16.160156 19.746094 16 19.5 16 19.171875V16.023438L2.71875 15.023438C2.320313 14.703125 2 13.898438 2 13.015625c0-.796875.238281-1.671875.71875-1.992187z"/></svg></div><div class=modal__caption><div class=modal__caption--text></div></div></span></div></div></div><script defer src=/js/swipe.min.989e074dfb92ce7f57a92c1df7027f88b53c50a54fd9ad450a673a64aa91bfa4.js></script><script defer src=/js/micromodal.min.de01b44b2f383056bbcaf6ee921fd385d79108ec1129afd0eb2f3f5a07e11f45.js></script><script defer src=/js/helper/fadeinout.min.js></script><script>document.addEventListener('DOMContentLoaded',function(){var d=document.documentElement,g,f,s,r,m,o,l,b,c,i,n,e,h,j,a,p,q;function t(){d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()}function k(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}g=document.getElementById('modal'),f=document.querySelector('.gallery__container'),s=document.querySelector('.swipe-wrap'),r=document.getElementById('mySwipe'),m=document.querySelector('.modal__arrow--left'),o=document.querySelector('.modal__arrow--right'),l=document.querySelector('.modal__toolbar--close'),b=document.querySelector('.modal__toolbar--full'),c=document.querySelector('.modal__toolbar--normal'),i=document.querySelector('.modal__caption'),n=document.querySelector('.modal__paging'),e=document.querySelector('.modal__items'),h=null,j=null,a=null,p=function(b){b.key==='ArrowRight'?g&&g.classList.contains('is-open')&&a.next():b.key==='ArrowLeft'&&g&&g.classList.contains('is-open')&&a.prev()},f?h=f.querySelectorAll('img').length:(f=document.querySelector('.single__contents'),h=f.querySelectorAll('img').length),MicroModal.init({onClose:function(){a&&(a.kill(),a=null,k()),window.removeEventListener('keydown',p)},disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!1,awaitCloseAnimation:!1,debugMode:!1}),q=function(a){return new Promise(function(c,d){var b=new Image;b.onload=function(){c(b)},b.onerror=d,b.src=a})},f.querySelectorAll('img').forEach(function(g,k){var f,d;g.style.cursor='pointer',f=g.cloneNode(!0),f.style.maxHeight='100%',f.style.maxWidth='100%',f.onclick=function(a){a.stopPropagation()},d=document.createElement('div'),d.style.width='100%',d.style.height='100vh',d.setAttribute('data-micromodal-close',''),d.onclick=function(){a&&(a.kill(),a=null)},d.onmouseenter=function(){clearTimeout(j),fadeIn(e,200)},d.onmouseleave=function(){j=setTimeout(function(){fadeOut(e,200)},2500)},d.ontouchstart=function(){fadeIn(e,200)},d.append(f),s.append(d),g.addEventListener('click',async function(d){var m,l,g;MicroModal.show('modal'),a&&(a.kill(),a=null),m=d.target.getAttribute('data-src')||d.target.getAttribute('src'),l=await q(m),f.style.width=l.width+'px',f.style.height=l.height+'px',a=new Swipe(r,{startSlide:k,draggable:!0,autoRestart:!1,continuous:!1,disableScroll:!0,stopPropagation:!0,callback:async function(d,f){var a=f.querySelector('img'),g=a.getAttribute('data-src')||a.getAttribute('src'),c=await q(g),b;a.style.width=c.width+'px',a.style.height=c.height+'px',i&&a&&(b=null,a.getAttribute('data-caption')?b=a.getAttribute('data-caption'):a.getAttribute('title')?b=a.getAttribute('title'):a.getAttribute('alt')?b=a.getAttribute('alt'):b=a.getAttribute('src'),i.querySelector('.modal__caption--text').innerText=b,n.innerText=d+1+' / '+h,clearTimeout(j),fadeIn(e,200))}}),fadeIn(e),i&&(g=null,d.target.getAttribute('data-caption')?g=d.target.getAttribute('data-caption'):d.target.getAttribute('title')?g=d.target.getAttribute('title'):d.target.getAttribute('alt')?g=d.target.getAttribute('alt'):g=d.target.getAttribute('src'),i.querySelector('.modal__caption--text').innerText=g,n.innerText=k+1+' / '+h),c&&b&&(c.style.zIndex=-1,c.style.opacity=0,b.style.zIndex=25,b.style.opacity=1)}),window.addEventListener('keydown',p)}),m?m.addEventListener('click',function(b){a&&a.prev()}):null,o?o.addEventListener('click',function(b){a&&a.next()}):null,l?l.addEventListener('click',function(){a&&(a.kill(),a=null),k(),MicroModal.close('modal')}):null,b?b.addEventListener('click',function(a){t(),c&&(c.style.zIndex=25,c.style.opacity=1,b.style.zIndex=-1,b.style.opacity=0)}):null,c?c.addEventListener('click',function(a){k(),b&&(b.style.zIndex=25,b.style.opacity=1,c.style.zIndex=-1,c.style.opacity=0)}):null})</script><div class=hide></div></div></main><aside class="single__side main-side"><section class="sidebar hide"><script>document.querySelector('.sidebar').classList.remove('hide')</script><div class=toc__flexbox data-position=absolute><h6 class=toc__title data-ani=true>목차</h6><label class=switch data-ani=true><input id=toggle-toc aria-label="Toggle TOC" type=checkbox>
<span class="slider round"></span></label></div><div class="toc hide" data-dir=ltr data-folding=true data-ani=true><nav id=TableOfContents><ul><li><a href=#chapter0-운영체제-이야기>Chapter.0 운영체제 이야기</a><ul><li><a href=#q-디스크-블록의-크기는-일반적으로-4kb-무엇을-기준으로-결정되었는가-p12>Q. 디스크 블록의 크기는 (일반적으로 4KB) 무엇을 기준으로 결정되었는가? (p12)</a></li></ul></li><li><a href=#chapter2-리눅스-커널-구조>Chapter.2 리눅스 커널 구조</a><ul><li><a href=#q-파일-시스템을-사용자가-일관된-인터페이스로-접근한다는-것이-무슨-뜻인가-p38>Q. 파일 시스템을 사용자가 일관된 인터페이스로 접근한다는 것이 무슨 뜻인가? (p38)</a></li><li><a href=#q-커널-컴파일-과정에서-objcopy가-하는-역할-의미는-무엇인가-p43>Q. 커널 컴파일 과정에서 objcopy가 하는 역할, 의미는 무엇인가? (p43)</a></li></ul></li><li><a href=#chapter3-태스크-관리>Chapter.3 태스크 관리</a><ul><li><a href=#q-execl을-통해-기존-프로세스의-수행-이미지가-바뀌는-과정에서-내부적으로-do_fork가-일어나는-것이-아닐까-p57>Q. execl()을 통해 기존 프로세스의 수행 이미지가 바뀌는 과정에서 내부적으로 do_fork()가 일어나는 것이 아닐까? (p57)</a></li><li><a href=#q-리눅스가-지원한다는-linux-exec-도메인-bsd나-svr4-exec-도메인은-무슨-뜻인가-p69>Q. 리눅스가 지원한다는 Linux exec 도메인, BSD나 SVR4 exec 도메인은 무슨 뜻인가? (p69)</a></li><li><a href=#q-n개의-cpu를-갖는-시스템에서는-임의의-시점에-최대-n개의-task라는-것이-physical-core인가-logical-processor인가-p70>Q. n개의 CPU를 갖는 시스템에서는 임의의 시점에 최대 n개의 task라는 것이 Physical core인가? Logical processor인가? (p70)</a></li><li><a href=#q-exit_zombie-상태가-유지되는-경우시스템에-불필요한-부하를-주는-상태는-어떤-경우인가-p71>Q. EXIT_ZOMBIE 상태가 유지되는 경우(시스템에 불필요한 부하를 주는 상태)는 어떤 경우인가? (p71)</a></li><li><a href=#q-sigkill이-발생하는-경우는-어떤-경우인가-p72>Q. SIGKILL이 발생하는 경우는 어떤 경우인가? (p72)</a></li></ul></li></ul></nav></div></section></aside><script>var enableToc=JSON.parse("true"),toc=JSON.parse("null"),tocPosition=JSON.parse('"inner"'),singleMainElem=document.querySelector('.single__main'),singleSideElem=document.querySelector('.single__side');enquire.register("screen and (max-width: 769px)",{match:function(){(enableToc||toc)&&tocPosition!=="outer"?singleMainElem&&singleSideElem&&(singleMainElem.classList.remove('main-main'),singleMainElem.classList.add('main'),singleSideElem.classList.remove('main-side'),singleSideElem.classList.add('hide')):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains('main-main')&&(singleMainElem.classList.remove('main-main'),singleMainElem.classList.add('main')),singleSideElem&&!singleSideElem.classList.contains('hide')&&singleSideElem.classList.add('hide'))},unmatch:function(){var b,a;(enableToc||toc)&&tocPosition!=="outer"?(singleMainElem.classList.remove('main'),singleMainElem.classList.add('main-main'),singleSideElem.classList.remove('hide'),singleSideElem.classList.add('main-side')):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains('main-main')&&(singleMainElem.classList.remove('main-main'),singleMainElem.classList.add('main')),singleSideElem&&!singleSideElem.classList.contains('hide')&&singleSideElem.classList.add('hide')),b=document.querySelector('.navbar__burger'),a=document.getElementsByClassName('navbarm__collapse')[0],a&&(a.setAttribute('data-open',!1),a.style.maxHeight=0,b.classList.remove('is-active')),document.getElementsByClassName('navbar__menu')[0].classList.remove('is-active'),document.getElementsByClassName('mobile-search')[0].classList.add('hide')},setup:function(){},deferSetup:!0,destroy:function(){}})</script><script defer src=/js/helper/getParents.min.js></script><script defer src=/js/helper/closest.min.js></script><script defer src=/js/helper/prev.min.js></script><script defer src=/js/helper/prop.min.js></script><script defer src=/js/helper/fadeinout.min.js></script><script defer src=/js/helper/throttle.min.js></script><script>'use strict';window.onload=function(){var f=document.querySelector('.navbar'),D=document.querySelector('.single__contents'),E=JSON.parse("null"),J=JSON.parse("null"),s,H,F,L,k,j,A,g,u,x,d,e,l,i,I,C,K,v,N,y,r,z,b,w,t,M,h,c,G,a,m,n,o,p,B,q;E&&J&&(s=document.querySelector('#busuanzi_value_page_pv'),s.textContent=s.textContent.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),H=JSON.parse("true"),F=JSON.parse("null"),L=JSON.parse("true"),k=document.querySelector('.toc__flexbox'),j=document.querySelector('.toc__flexbox--outer'),A=JSON.parse("true"),(H||F)&&document.querySelector('.toc')&&(g=document.querySelector('.toc').querySelector('#TableOfContents'),g.onmouseenter=function(){f.classList.contains('scrolling')&&f.classList.remove('scrolling')},g.onmouseleave=function(){f.classList.contains('scrolling')||f.classList.add('scrolling')},!1===A||(g.querySelectorAll('ul')?g.querySelectorAll('ul').forEach(function(a){a.querySelectorAll('li').forEach(function(a){a.querySelectorAll('ul').forEach(function(a){a.style.display='none'})})}):null),g&&(g.querySelectorAll('a').length>0?g.querySelectorAll('a').forEach(function(a){a.addEventListener('click',function(){var c=a.getAttribute('id'),b;f.classList.contains('scrolling')||(f.classList.remove('navbar--show'),f.classList.remove('navbar--hide'),f.classList.add('navbar--hide')),document.querySelector('.toc').querySelectorAll('a').forEach(function(a){a.classList.remove('active')}),a.classList.add('active'),b=g.querySelector('[href="#'+c+'"]'),b&&b.nextElementSibling&&(b.nextElementSibling.style.display='block'),b&&(getParents(b,'ul')?getParents(b,'ul').forEach(function(a){a.style.display='block'}):null)})}):(k&&(k.setAttribute('data-position',''),k.classList.contains('hide')||k.classList.add('hide')),j&&(j.setAttribute('data-position',''),j.classList.contains('hide')||j.classList.add('hide')))),u=document.getElementById("toggle-toc"),x=document.getElementById('visible-toc'),d=document.querySelector('.toc'),e=document.querySelector('main'),l=document.querySelector('side'),i=document.querySelector('.toc__flexbox'),u?u.addEventListener('change',function(a){a.target.checked?(d&&fadeIn(d,200),i&&i.setAttribute('data-position','fixed'),e&&(e.classList.remove('main-main'),e.classList.remove('main'),e.classList.add('main-main')),l&&l.classList.remove('main-side')):(d&&fadeOut(d,200),i&&i.setAttribute('data-position','absolute'),e&&(e.classList.remove('main-main'),e.classList.remove('main'),e.classList.add('main')),l&&l.classList.remove('main-side'))}):null,x?x.addEventListener('change',function(a){a.target.checked?d&&fadeIn(d,200):d&&fadeOut(d,200)}):null),I=120,C=70,K=function(){d&&(d.style.maxHeight=window.innerHeight-I-C+'px')},v=throttle(K,300),v(),window.addEventListener('resize',v),y=new ClipboardJS('.anchor'),r=D.querySelectorAll("h1, h2, h3, h4"),z=JSON.parse('"ltr"'),r?r.forEach(function(c){var d=parseInt(c.tagName.substr(1),10)*2,e=encodeURI(document.location.origin+document.location.pathname),f=e+"#"+c.getAttribute('id'),b=document.createElement('span'),a;b.classList.add('anchor'),b.classList.add('hide'),b.setAttribute('data-clipboard-text',decodeURI(f)),b.style.position='relative',a=document.createElement('span'),a.style.position='absolute',a.style.top='50%',a.style.left='0.75rem',a.style.transform='translateY(-50%)',a.innerHTML=`
<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${32-d}px" height="${32-d}px"><path d="M 5.5625 0 C 4.136719 0 2.707031 0.542969 1.625 1.625 C -0.539063 3.789063 -0.539063 7.335938 1.625 9.5 L 5.28125 13.15625 C 5.667969 13.554688 6.304688 13.558594 6.703125 13.171875 C 7.101563 12.785156 7.105469 12.148438 6.71875 11.75 L 3.03125 8.0625 C 1.632813 6.664063 1.632813 4.429688 3.03125 3.03125 C 4.429688 1.632813 6.664063 1.632813 8.0625 3.03125 L 12.96875 7.9375 C 14.367188 9.335938 14.367188 11.570313 12.96875 12.96875 C 12.804688 13.132813 12.621094 13.25 12.4375 13.375 C 11.980469 13.6875 11.859375 14.308594 12.171875 14.765625 C 12.484375 15.222656 13.105469 15.34375 13.5625 15.03125 C 13.847656 14.835938 14.125 14.625 14.375 14.375 C 16.539063 12.210938 16.539063 8.664063 14.375 6.5 L 9.5 1.625 C 8.417969 0.542969 6.988281 0 5.5625 0 Z M 10.78125 8.875 C 10.738281 8.882813 10.695313 8.894531 10.65625 8.90625 C 10.507813 8.9375 10.371094 9 10.25 9.09375 C 10.039063 9.253906 9.820313 9.429688 9.625 9.625 C 7.460938 11.789063 7.460938 15.335938 9.625 17.5 L 14.5 22.375 C 16.664063 24.539063 20.210938 24.539063 22.375 22.375 C 24.539063 20.210938 24.539063 16.664063 22.375 14.5 L 18.71875 10.875 C 18.476563 10.578125 18.089844 10.441406 17.714844 10.527344 C 17.34375 10.613281 17.050781 10.90625 16.964844 11.277344 C 16.878906 11.652344 17.015625 12.039063 17.3125 12.28125 L 20.96875 15.9375 C 22.367188 17.335938 22.367188 19.570313 20.96875 20.96875 C 19.570313 22.367188 17.335938 22.367188 15.9375 20.96875 L 11.03125 16.0625 C 9.632813 14.664063 9.632813 12.429688 11.03125 11.03125 C 11.152344 10.90625 11.300781 10.820313 11.4375 10.71875 C 11.839844 10.472656 12.015625 9.976563 11.855469 9.53125 C 11.699219 9.085938 11.25 8.8125 10.78125 8.875 Z"/></svg>`,z==="rtl"?a.style.left='-2rem':a.style.right='-2rem',b.append(a),c.append(b),c.addEventListener('mouseenter',function(){this.querySelector('.anchor').classList.remove('hide')}),c.addEventListener('mouseleave',function(){this.querySelector('.anchor').classList.add('hide')})}):null,document.querySelectorAll('.anchor').forEach(function(a){a.addEventListener('mouseleave',function(){a.setAttribute('aria-label',null),a.classList.remove('tooltipped'),a.classList.remove('tooltipped-s'),a.classList.remove('tooltipped-w')})}),y.on('success',function(a){a.clearSelection(),a.trigger.setAttribute('aria-label','Link copied to clipboard!'),a.trigger.classList.add('tooltipped'),a.trigger.classList.add('tooltipped-s')}),b=JSON.parse("null"),b&&b.includes('mermaid')&&(w=localStorage.getItem('theme')||JSON.parse('"dark"'),w==="dark"||w==="hacker"?mermaid.initialize({theme:'dark'}):mermaid.initialize({theme:'default'}),t=[],[].push.apply(t,document.getElementsByClassName('language-mermaid')),t.forEach(function(b){var a=b.parentNode,c;a!==document.body&&(a.parentNode.insertBefore(b,a),a.parentNode.removeChild(a)),c=document.createElement('div'),c.classList.add('mermaid'),c.style.padding='34px 4px 6px',c.innerHTML=b.innerHTML,b.replaceWith(c)})),b&&b.includes('katex')&&(M=document.getElementsByClassName('math'),h={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]},renderMathInElement(document.querySelector('.single__contents'),h)),b&&b.includes('flowchartjs')&&(h=JSON.parse('{"arrow-end":"block","element-color":"black","fill":"white","flowstate":{"approved":{"fill":"#58C4A3","font-size":12,"no-text":"n/a","yes-text":"APPROVED"},"current":{"fill":"yellow","font-color":"red","font-weight":"bold"},"future":{"fill":"#FFFF99"},"invalid":{"fill":"#444444"},"past":{"fill":"#CCCCCC","font-size":12},"rejected":{"fill":"#C45879","font-size":12,"no-text":"REJECTED","yes-text":"n/a"},"request":{"fill":"blue"}},"font-color":"black","font-size":14,"line-color":"black","line-length":50,"line-width":3,"no-text":"no","scale":1,"symbols":{"end":{"class":"end-element"},"start":{"element-color":"green","fill":"yellow","font-color":"red"}},"text-margin":10,"x":0,"y":0,"yes-text":"yes"}'),c=null,G="language-flowchart",a=0,Array.prototype.forEach.call(document.querySelectorAll("[class^="+G+"]"),function(b){var d,e;b.style.display='none',b.parentNode.style.backgroundColor="transparent",c=b.innerText,d=document.createElement('div'),d.id='flowchart'+a,b.parentNode.insertBefore(d,b),e=flowchart.parse(c),e.drawSVG("flowchart"+a,h),a+=1})),document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'}),b&&b.includes('msc')&&(h=JSON.parse('{"theme":"hand"}'),c=null,a=0,m="language-msc",Array.prototype.forEach.call(document.querySelectorAll("[class^="+m+"]"),function(b){var d,e;b.style.display='none',b.parentNode.style.backgroundColor="transparent",c=b.innerText,d=document.createElement('div'),d.id='msc'+a,b.parentNode.insertBefore(d,b),e=Diagram.parse(c),e.drawSVG("msc"+a,h),a+=1})),b&&b.includes('chart')&&(n="#666",o="#ddd",p=2,Chart.defaults.global.elements.rectangle.borderWidth=p,Chart.defaults.global.elements.rectangle.borderColor=n,Chart.defaults.global.elements.rectangle.backgroundColor=o,Chart.defaults.global.elements.line.borderWidth=p,Chart.defaults.global.elements.line.borderColor=n,Chart.defaults.global.elements.line.backgroundColor=o,Chart.defaults.global.elements.point.borderWidth=p,Chart.defaults.global.elements.point.borderColor=n,Chart.defaults.global.elements.point.backgroundColor=o,m="language-chart",a=0,c=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+m+"]"),function(b){var d,e,f,g;b.style.display='none',b.parentNode.style.backgroundColor="transparent",c=b.innerText,d=document.createElement('canvas'),e=null,d.height=200,d.style.height=200,d.id='myChart'+a,e=JSON.parse(c),b.parentNode.insertBefore(d,b),f=document.getElementById('myChart'+a).getContext('2d'),g=new Chart(f,e),a+=1})),b&&b.includes('wavedrom')&&(B="language-wave",a=0,c=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+B+"]"),function(b){var d,e;b.style.display='none',b.parentNode.style.backgroundColor="transparent",c=b.innerText,d=document.createElement('div'),e=null,d.id='WaveDrom_Display_'+a,e=JSON.parse(c),b.parentNode.insertBefore(d,b),WaveDrom.RenderWaveForm(a,e,"WaveDrom_Display_"),a+=1})),b&&b.includes('viz')&&(q="language-viz-",Array.prototype.forEach.call(document.querySelectorAll("[class^="+q+"]"),function(a){var b,c;a.style.display='none',a.parentNode.style.backgroundColor="transparent",a.getAttribute("class").split(" ").forEach(function(a){a.startsWith(q)&&(b=a.substr(q.length))}),c=new Viz,c.renderSVGElement(a.innerText,{engine:b}).then(function(b){b.style.width="100%",a.parentNode.insertBefore(b,a)})}))}</script><footer class=footer><div class=dropdown><button class=dropdown-trigger aria-label="Select Language Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06.03-.03c1.74-1.94 2.98-4.17 3.71-6.53h1.94c.54.0.99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54.0-.99.45-.99.99.0.55.45.99.99.99h10.18C11.5 7.92 10.44 9.75 9 11.35c-.81-.89-1.49-1.86-2.06-2.88-.16-.29-.45-.47-.78-.47-.69.0-1.13.75-.79 1.35.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87c-.4.39-.4 1.03.0 1.42.39.39 1.02.39 1.42.0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6.0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26.39.0.74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61.65.0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7 1.62-4.33L19.12 17h-3.24z"/></svg></button><div class=dropdown-content><a href=https://devlog.jsyoo5b.net/ko/posts/linux-kernel/iamroot/week1-lki/ data-lang=ko class="dropdown-item is-active">한국어</a></div></div><div class=footer__social><div class=social><a href=mailto:jsyoo5b@gmail.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/JSYoo5B title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=https://devlog.jsyoo5b.net/ko/posts/index.xml type=application/rss+xml title=RSS aria-label="RSS Feed Link"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle fill="currentcolor" cx="6.18" cy="17.82" r="2.18"/><path fill="currentcolor" d="M5.59 10.23c-.84-.14-1.59.55-1.59 1.4.0.71.53 1.28 1.23 1.4 2.92.51 5.22 2.82 5.74 5.74.12.7.69 1.23 1.4 1.23.85.0 1.54-.75 1.41-1.59-.68-4.2-3.99-7.51-8.19-8.18zm-.03-5.71C4.73 4.43 4 5.1 4 5.93c0 .73.55 1.33 1.27 1.4 6.01.6 10.79 5.38 11.39 11.39.07.73.67 1.28 1.4 1.28.84.0 1.5-.73 1.42-1.56-.73-7.34-6.57-13.19-13.92-13.92z"/></svg></a></div></div><div id=gtt><div class=gtt><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 14.71 12 10.83l3.88 3.88c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41.0L6.7 13.3c-.39.39-.39 1.02.0 1.41.39.38 1.03.39 1.42.0z"/></svg></div></div><hr><div class="basicflex flexwrap"></div><div class=footer__poweredby><p class=caption>©2021, All Rights Reserved</p><p class=caption>Powered by <a href=https://gohugo.io/ target=_blank rel=noreferrer>Hugo</a> and the <a href=https://github.com/zzossig/hugo-theme-zzo target=_blank rel=noreferrer>Zzo theme</a></p></div></footer></div><div class="wrapper__right hide" data-pad=true dir=ltr><script>document.querySelector('.wrapper__right').classList.remove('hide')</script></div></div></body></html>