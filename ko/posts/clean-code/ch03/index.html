<!doctype html><html lang=ko dir=ltr><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Clean Code 3장: "함수" 정리 – JSYoo5B.Dev();</title><script src=/js/enquire.min.dfb99dee1e029d51d6cfb672d847929890b1585402de17f5ed092edd72a688b4.js></script>
<script defer src=/js/lazysizes.min.fb649fcae62177dfe63e67081ddceb830b5ce1f05a4184e9bbb7d87ac4b8f4e5.js></script>
<script defer src=/js/helper/getParents.min.086022fb02d7a1517e33c2670bffb976b3e80bcacd9caeee0c6a586064f20e42.js></script>
<script defer src=/js/helper/fadeinout.min.3ce954c8aea3b69cc5e6f734d8273ba4cd48d3a7987dbdca145849bc4b8fc296.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script>"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return t===void 0&&(t=0),this.indexOf(e,t)!==-1}),Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};function _mutation(e){if(!e.length)throw new Error("DOM Exception 8");if(e.length===1)return typeof e[0]=="string"?document.createTextNode(e[0]):e[0];for(var t,n=document.createDocumentFragment(),o=e.length,s=-1;++s<o;)t=e[s],n.appendChild(typeof t=="string"?document.createTextNode(t):t);return n}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),document.addEventListener("DOMContentLoaded",function(){var e,t,n,s,o,i,a,r,c,l,d,u,h,m,f,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,T,z,D,N,L,R,P,H,I,B,V,$,W,U,K,q,Y,G,X,Q,F=document.querySelector(".navbar__burger"),ce,le,ue,ie,fe,me,he,de,re,ae,oe,se,be,ve,ge;F?F.addEventListener("click",function(){var n,t=document.querySelector(".navbarm__collapse");t&&(n=t.getAttribute("data-open"),n==="true"?(t.setAttribute("data-open","false"),t.style.maxHeight=0,F.classList.remove("is-active")):(t.setAttribute("data-open","true"),t.style.maxHeight=t.scrollHeight+"px",F.classList.add("is-active")))}):null,V=document.querySelectorAll(".single__contents > table");for(let e=0;e<V.length;e++)E=V[e],A=document.createElement("div"),A.className="table-wrapper",E.parentElement.replaceChild(A,E),A.appendChild(E);L=document.querySelectorAll(".footnote-ref"),I=document.querySelectorAll(".footnote-backref"),L?L.forEach(function(e){e.onmouseenter=function(){t.classList.contains("scrolling")&&t.classList.remove("scrolling")},e.onmouseleave=function(){t.classList.contains("scrolling")||setTimeout(function(){t.classList.add("scrolling")},100)},e.onclick=function(){t.classList.contains("scrolling")||(t.classList.remove("navbar--show"),t.classList.remove("navbar--hide"),t.classList.add("navbar--hide"))}}):null,I?I.forEach(function(e){e.onmouseenter=function(){t.classList.contains("scrolling")&&t.classList.remove("scrolling")},e.onmouseleave=function(){t.classList.contains("scrolling")||setTimeout(function(){t.classList.add("scrolling")},100)},e.onclick=function(){t.classList.contains("scrolling")||(t.classList.remove("navbar--show"),t.classList.remove("navbar--hide"),t.classList.add("navbar--hide"))}}):null,s=document.querySelector(".summary__container"),o=document.querySelector(".search-result"),B=document.querySelector(".search-result__close"),B?B.addEventListener("click",function(){o.setAttribute("data-display","none"),s.setAttribute("data-display","block")}):null,document.querySelectorAll(".tab")?document.querySelectorAll(".tab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".tab__link"),s=e.querySelectorAll(".tab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,document.querySelectorAll(".codetab")?document.querySelectorAll(".codetab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".codetab__link"),s=e.querySelectorAll(".codetab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,b=document.getElementById("gtt"),b.style.display="none",b.addEventListener("click",function(){window.document.documentMode?document.documentElement.scrollTop=0:je(250)});function je(e){var t=-window.scrollY/(e/15),n=setInterval(function(){window.scrollY!=0?window.scrollBy(0,t):clearInterval(n)},15)}ce=function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?b.style.display="block":b.style.display="none"},P=document.querySelectorAll(".expand__button");for(let e=0;e<P.length;e++)P[e].addEventListener("click",function(){var e=this.nextElementSibling;e.style.maxHeight?(e.style.maxHeight=null,this.querySelector("svg").classList.add("expand-icon__right"),this.querySelector("svg").classList.remove("expand-icon__down")):(e.style.maxHeight=e.scrollHeight+"px",this.querySelector("svg").classList.remove("expand-icon__right"),this.querySelector("svg").classList.add("expand-icon__down"))});q=window.pageYOffset||document.documentElement.scrollTop,m=document.querySelector(".toc"),a=m?m.querySelector("#TableOfContents"):null,x=document.getElementById("toggle-toc"),d=document.querySelector(".single__contents"),t=document.querySelector(".navbar"),j=document.querySelector(".toc__flexbox"),v=document.querySelector(".toc__flexbox--outer"),K=document.querySelectorAll(".expand__content"),$=document.querySelectorAll(".box"),i=null,k=JSON.parse("true"),r=JSON.parse('["h2","h3","h4"]'),r?r=r.toString():r="h1, h2, h3, h4, h5, h6",d&&d.querySelectorAll(".tab")?d.querySelectorAll(".tab").forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,K?K.forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,$?$.forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,window.onscroll=function(){ce();var e=window.pageYOffset||document.documentElement.scrollTop;if(e>q){if(e<250?b.style.display="none":b.style.display="block",e<45)return null;t.classList.contains("scrolling")&&(t.classList.contains("navbar--hide")?t.classList.contains("navbar--show")&&t.classList.remove("navbar--show"):t.classList.add("navbar--hide")),d&&(d.querySelectorAll(r).length>0?d.querySelectorAll(r).forEach(function(e){if(x&&!x.checked)return null;if(i&&i.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&a){var t,n=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+n+'"]')?m.querySelector('a[href="#'+n+'"]').classList.add("active"):null,!1===k||(a.querySelectorAll("ul")?a.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),t=a.querySelector("[href='#"+n+"']"),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null}}):(j&&(j.setAttribute("data-position",""),j.classList.contains("hide")||j.classList.add("hide")),v&&(v.setAttribute("data-position",""),v.classList.contains("hide")||v.classList.add("hide"))))}else e<250&&(b.style.display="none"),t.classList.contains("scrolling")&&(t.classList.contains("navbar--hide")?t.classList.remove("navbar--hide"):t.classList.contains("navbar--show")||t.classList.add("navbar--show")),d&&(d.querySelectorAll(r).length>0?d.querySelectorAll(r).forEach(function(e){if(x&&!x.checked)return null;if(i&&i.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&a){var t,n=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+n+'"]')?m.querySelector('a[href="#'+n+'"]').classList.add("active"):null,!1===k||(a.querySelectorAll("ul")?a.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),t=a.querySelector("[href='#"+n+"']"),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null}}):(j&&!j.classList.contains("hide")&&j.classList.add("hide"),v&&!v.classList.contains("hide")&&v.classList.add("hide"))),a&&document.documentElement.scrollTop<250&&(!1===k||(a.querySelector("ul")?a.querySelector("ul").querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})}):null));q=e<=0?0:e},S=localStorage.getItem("theme"),M=document.getElementById("root"),le=document.querySelectorAll(".select-theme"),C=document.querySelectorAll(".select-theme__item"),ue=JSON.parse('"dark"'),ie=JSON.parse('"light"'),fe=JSON.parse('"hacker"'),me=JSON.parse('"solarized"'),he=JSON.parse('"kimbie"'),T=function(e){var t=document.getElementsByName("msapplication-TileColor")[0],n=document.getElementsByName("theme-color")[0],s=document.getElementsByName("msapplication-navbutton-color")[0],o=document.getElementsByName("apple-mobile-web-app-status-bar-style")[0];e.includes("dark")?(t.setAttribute("content","#fcfcfa"),n.setAttribute("content","#403E41"),s.setAttribute("content","#403E41"),o.setAttribute("content","#403E41")):e.includes("light")?(t.setAttribute("content","#555"),n.setAttribute("content","#eee"),s.setAttribute("content","#eee"),o.setAttribute("content","#eee")):e.includes("hacker")?(t.setAttribute("content","#e3cd26"),n.setAttribute("content","#252526"),s.setAttribute("content","#252526"),o.setAttribute("content","#252526")):e.includes("solarized")?(t.setAttribute("content","#d3af86"),n.setAttribute("content","#51412c"),s.setAttribute("content","#51412c"),o.setAttribute("content","#51412c")):e.includes("kimbie")&&(t.setAttribute("content","#586e75"),n.setAttribute("content","#eee8d5"),s.setAttribute("content","#eee8d5"),o.setAttribute("content","#eee8d5"))},de=function(e){if(e===ue)return"dark";if(e===ie)return"light";if(e===fe)return"hacker";if(e===me)return"solarized";if(e===he)return"kimbie"},S?(C?C.forEach(function(e){e.text.trim()===S?e.classList.add("is-active"):e.classList.remove("is-active")}):null,T(S)):T(M.className),C?C.forEach(function(e){e.addEventListener("click",function(e){var n,s,t=de(e.target.text.trim());localStorage.setItem("theme",t),T(t),M.removeAttribute("class"),M.classList.add("theme__"+t),le.forEach(function(e){e.querySelectorAll("a").forEach(function(e){e.classList&&(e.text.trim()===t?e.classList.contains("is-active")||e.classList.add("is-active"):e.classList.contains("is-active")&&e.classList.remove("is-active"))})}),window.mermaid&&(t==="dark"||t==="hacker"?(mermaid.initialize({theme:"dark"}),location.reload()):(mermaid.initialize({theme:"default"}),location.reload())),n=document.getElementById("utterances"),n&&n.querySelector("iframe").contentWindow.postMessage({type:"set-theme",theme:t==="dark"||t==="hacker"?"photon-dark":t==="kimbie"?"github-dark-orange":"github-light"},"https://utteranc.es"),s=document.querySelectorAll(".twitter-timeline"),s&&window.postMessage({type:"set-twitter-theme",theme:t==="light"||t==="solarized"?"light":"dark"})})}):null,re=JSON.parse('"https://devlog.jsyoo5b.net/"'),X=JSON.parse('"https://devlog.jsyoo5b.net/ko/posts/clean-code/ch03/"'),ae=JSON.parse('"/ko"'),l=null,c=null,n=null,Q=JSON.parse("false"),W=JSON.parse("null"),U=JSON.parse("null"),oe=JSON.parse("null"),_=JSON.parse("false"),Y=JSON.parse("null"),G=JSON.parse('"posts"'),se=JSON.parse('"page"'),O=null,Q&&function(){var t=new XMLHttpRequest;G==="publication"&&se!=="page"?t.open("GET",X+"index.json"):t.open("GET",re+ae+"/index.json"),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.onload=function(){t.status===200?(O=new Fuse(JSON.parse(t.response.toString("utf-8")),{keys:G.includes("publication")?["title","abstract"]:oe?["title","description","content"]:["title","description"],includeMatches:_,shouldSort:!0,threshold:U||.4,location:0,distance:W||100,maxPatternLength:32,minMatchCharLength:1,isCaseSensitive:!1,findAllMatches:!1,useExtendedSearch:!1}),window.fuse=O):console.error("["+t.status+"]Error:",t.statusText)},t.send()}();function _e(e,t){var n,s,o=document.createElement("li");o.className="search-result__item",n=document.createElement("a"),n.innerHTML=t.item.title,n.setAttribute("class","search-result__item--title"),n.setAttribute("href",t.item.uri),s=document.createElement("div"),s.setAttribute("class","search-result__item--desc"),t.item.description?s.innerHTML=t.item.description:t.item.content&&(s.innerHTML=t.item.content.substring(0,225)),o.appendChild(n),o.appendChild(s),e.appendChild(o)}function ye(e,t){var n,s,o,i=document.createElement("li");if(i.className="search-result__item",n=null,o=document.createElement("a"),o.innerHTML=t.item.title,o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri),t.matches&&t.matches.length){for(s=0;s<t.matches.length;s++)"title"===t.matches[s].key&&(o=document.createElement("a"),o.innerHTML=p(t.matches[s].value,t.matches[s].indices),o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri)),"description"===t.matches[s].key?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=p(t.item.description,t.matches[s].indices)):"content"===t.matches[s].key?n||(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=p(t.item.content.substring(0,150),t.matches[s].indices)):t.item.description?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.description):(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.content.substring(0,150));i.appendChild(o),n&&i.appendChild(n),i&&e.appendChild(i)}}function ee(e,t){l=document.getElementById("search-results"),c=document.getElementById("search-menu"),l.setAttribute("class","dropdown is-active");var s,n=document.createElement("ul");for(n.setAttribute("class","dropdown-content search-content"),t.length?t.forEach(function(e){var t,o,i=document.createElement("li"),s=document.createElement("a");s.setAttribute("href",e.uri),s.setAttribute("class","dropdown-item"),s.appendChild(i),o=document.createElement("div"),o.innerHTML=e.title,o.setAttribute("class","menu-item__title"),t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),e.description?t.innerHTML=e.description:e.content&&(t.innerHTML=e.content.substring(0,150)),i.appendChild(o),i.appendChild(t),n.appendChild(s)}):(s=document.createElement("li"),s.setAttribute("class","dropdown-item"),s.innerText="No results found",n.appendChild(s));c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(n)}function te(e,t){l=document.getElementById("search-results"),c=document.getElementById("search-menu"),l.setAttribute("class","dropdown is-active");var s,n=document.createElement("ul");for(n.setAttribute("class","dropdown-content search-content"),t.length?t.forEach(function(e){var s,o,a=document.createElement("li"),i=document.createElement("a"),t=null;if(i.setAttribute("href",e.item.uri),i.setAttribute("class","dropdown-item"),i.appendChild(a),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","menu-item__title"),e.matches&&e.matches.length){for(s=0;s<e.matches.length;s++)"title"===e.matches[s].key&&(o.innerHTML=p(e.matches[s].value,e.matches[s].indices)),"description"===e.matches[s].key?(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=p(e.item.description,e.matches[s].indices)):"content"===e.matches[s].key?t||(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=p(e.item.content.substring(0,150),e.matches[s].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=e.item.content.substring(0,150));a.appendChild(o),t&&a.appendChild(t),n.appendChild(i)}}):(s=document.createElement("li"),s.setAttribute("class","dropdown-item"),s.innerText="No results found",n.appendChild(s));c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(n)}function ne(e,t){l=document.getElementById("search-mobile-results");var o,n=document.createElement("div");n.setAttribute("class","mobile-search__content"),t.length>0?t.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.uri),t.innerHTML='<div class="mobile-search__item"><div class="mobile-search__item--title">📄 '+e.title+'</div><div class="mobile-search__item--desc">'+(e.description?e.description:e.content)+"</div></div>",n.appendChild(t)}):(o=document.createElement("span"),n.appendChild(o));let s=document.getElementById("search-mobile-results");for(;s.firstChild;)s.removeChild(s.firstChild);l.appendChild(n)}function pe(e,t){l=document.getElementById("search-mobile-results");var o,n=document.createElement("div");n.setAttribute("class","mobile-search__content"),t.length?t.forEach(function(e){var s,o,i=document.createElement("li"),a=document.createElement("a"),t=null;if(a.setAttribute("href",e.item.uri),a.appendChild(i),i.setAttribute("class","mobile-search__item"),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","mobile-search__item--title"),e.matches&&e.matches.length){for(s=0;s<e.matches.length;s++)"title"===e.matches[s].key&&(o.innerHTML=p(e.matches[s].value,e.matches[s].indices)),"description"===e.matches[s].key?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=p(e.item.description,e.matches[s].indices)):"content"===e.matches[s].key?t||(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=p(e.item.content.substring(0,150),e.matches[s].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.content.substring(0,150));i.appendChild(o),t&&i.appendChild(t),n.appendChild(a)}}):(o=document.createElement("span"),n.appendChild(o));let s=document.getElementById("search-mobile-results");for(;s.firstChild;)s.removeChild(s.firstChild);l.appendChild(n)}function p(e,t){if(!t)return e;var n="",s=0;return t.forEach(function(t){if(t[0]===t[1])return null;n+=""+e.substring(s,t[0])+'<span class="search__highlight">'+e.substring(t[0],t[1]+1)+"</span>",s=t[1]+1}),n+=e.substring(s),n}h=document.getElementById("search"),H=document.getElementById("search-mobile"),u=document.getElementById("search-results"),h?h.addEventListener("input",function(e){if(!e.target.value|window.innerWidth<770)return u?u.setAttribute("class","dropdown"):null,o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null,null;n=e.target.value;var i,t=O.search(e.target.value);Y==="main"?_?Z(n,t):J(n,t):(_?te(n,t):ee(n,t),i=u.querySelectorAll(".dropdown-item"),i?i.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null)}):null,h?h.addEventListener("blur",function(){if(window.innerWidth<770)return null;u?u.setAttribute("class","dropdown"):null}):null,h?h.addEventListener("click",function(e){if(window.innerWidth<770)return null;if(!e.target.value)return u?u.setAttribute("class","dropdown"):null,null;n=e.target.value;var s,t=O.search(e.target.value);Y==="main"?_?Z(n,t):J(n,t):(_?te(n,t):ee(n,t),s=u.querySelectorAll(".dropdown-item"),s?s.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null)}):null,be=document.getElementById("search-menu"),ve=document.querySelector("#search-menu .dropdown-item.is-active"),e=null,ge=null,D=350,h?h.addEventListener("keydown",function(t){if(window.innerWidth<770)return null;t.key==="Escape"&&(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null);var n=document.querySelectorAll("#search-menu .dropdown-item"),i=t.which||t.keyCode;if(!n||!n.length)return null;if(t.key==="ArrowDown"||i===40){e===null?(e=0,n[e].classList.remove("is-active")):(n[e].classList.remove("is-active"),e=e===n.length-1?0:e+1),n[e].classList.add("is-active");let t=n[e].offsetTop+n[e].clientHeight-D;t>0?document.querySelector(".search-content").scrollTop+=n[e].getBoundingClientRect().height:e===0&&(document.querySelector(".search-content").scrollTop=0)}else if(t.key==="ArrowUp"||i===38){e===null?(e=n.length-1,n[e].classList.remove("is-active")):(n[e].classList.remove("is-active"),e=e===0?n.length-1:e-1),n[e].classList.add("is-active");let t=n[e].offsetTop+n[e].clientHeight-D;t<0?document.querySelector(".search-content").scrollTop-=n[e].getBoundingClientRect().height:document.querySelector(".search-content").scrollTop=t+n[e].getBoundingClientRect().height}else t.key==="Enter"||i===13?n[e]&&n[e].getAttribute("href")&&(location.href=n[e].getAttribute("href")):(t.key==="Escape"||i===27)&&(t.target.value=null,l&&l.classList.remove("is-active"))}):null,H?H.addEventListener("input",function(e){if(!e.target.value){let e=document.getElementById("search-mobile-results");for(;e.firstChild;)e.removeChild(e.firstChild);return null}n=e.target.value;var t=O.search(e.target.value);ne(n,t),_?pe(n,t):ne(n,t)}):null,g=document.querySelector("#search-mobile"),N=document.querySelector(".mobile-search"),R=document.querySelectorAll(".navbar-search"),z=document.querySelector("#search-mobile-close"),w=document.querySelector("#search-mobile-container"),f=document.querySelector("#search-mobile-results"),y=document.querySelector("html"),N&&(N.style.display="none"),R?R.forEach(function(e){e.addEventListener("click",function(){w&&(w.style.display="block"),g&&g.focus(),y&&(y.style.overflowY="hidden")})}):null,z?z.addEventListener("click",function(){if(w&&(w.style.display="none"),g&&(g.value=""),f)for(;f.firstChild;)f.removeChild(f.firstChild);y&&(y.style.overflowY="visible")}):null,g?g.addEventListener("keydown",function(e){var t=e.which||e.keyCode;if(e.key==="Escape"||t===27){if(w&&(w.style.display="none"),g&&(g.value=""),f)for(;f.firstChild;)f.removeChild(f.firstChild);y&&(y.style.overflowY="visible")}}):null;function J(e,t){var a=document.querySelector(".search-result__body"),n=a.querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){_e(i,e)}),o?o.setAttribute("data-display","block"):null,s?s.setAttribute("data-display","none"):null):(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null),n.parentNode.replaceChild(i,n)}function Z(e,t){var a=document.querySelector(".search-result__body"),n=a.querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){ye(i,e)}),o?o.setAttribute("data-display","block"):null,s?s.setAttribute("data-display","none"):null):(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null),n.parentNode.replaceChild(i,n)}})</script><link rel=stylesheet href=/css/main.min.css><meta name=description content="Blog of JaeSang Yoo, The Programmer."><meta name=keywords content="클린 코드,함수"><meta name=created content="2021-08-13T11:01:15+0900"><meta name=modified content="2022-05-29T22:02:34+0900"><meta property="article:published_time" content="2021-08-13T11:01:15+0900"><meta name=author content="JaeSang Yoo"><meta property="og:site_name" content="JSYoo5B.Dev();"><meta property="og:title" content="Clean Code 3장: &#34;함수&#34; 정리"><meta property="og:url" content="https://devlog.jsyoo5b.net/ko/posts/clean-code/ch03/"><meta property="og:type" content="article"><meta property="og:description" content="Blog of JaeSang Yoo, The Programmer."><meta name=generator content="Hugo 0.115.3"><meta name=msapplication-TileColor content="#fff"><meta name=theme-color content="#fff"><meta name=msapplication-navbutton-color content="#fff"><meta name=apple-mobile-web-app-status-bar-style content="#fff"><link rel=canonical href=https://devlog.jsyoo5b.net/ko/posts/clean-code/ch03/><link rel=manifest href=/manifest.json><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=icon href=/favicon.png sizes=any type=image/png><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","headline":"Clean Code 3장: \"함수\" 정리","datePublished":"2021-08-13T11:01:15+09:00","dateModified":"2022-05-29T22:02:34+09:00","url":"https://devlog.jsyoo5b.net/ko/posts/clean-code/ch03/","description":"","keywords":["클린 코드","함수"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://devlog.jsyoo5b.net/"},"publisher":{"@type":"Organization","name":"JSYoo5B.Dev();","url":"https://devlog.jsyoo5b.net/"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TWBDVMPEX1"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-TWBDVMPEX1",{anonymize_ip:!1})}</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-TWBDVMPEX1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body id=root class=theme__dark><script>var localTheme=localStorage.getItem("theme");localTheme&&(document.getElementById("root").className="theme__"+localTheme)</script><div id=container><div class=wrapper data-type=posts data-kind=page><nav class="navbar scrolling" role=navigation aria-label="main navigation" data-dir=ltr><div class=navbar__brand>&nbsp;&nbsp;
<a href=/ko/ title=홈페이지 rel=home class=navbar__title-link><h6 class=navbar__title>JSYoo5B.Dev();</h6></a></div><div class="theme theme-mobile" data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" style=position:absolute;top:0 data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">hacker</a>
<a href=# class="dropdown-item select-theme__item">solarized</a>
<a href=# class="dropdown-item select-theme__item">kimbie</a></div></div></div><a role=button class=navbar__burger aria-label=menu aria-expanded=false data-ani=true><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><div class=navbarm__collapse data-open=false><ul dir=ltr><li class=navbarm__menu--item><a href=/ko/about>소개</a></li><li class="navbarm__menu--item active"><a href=/ko/posts>블로그</a></li><li class=navbarm__menu--item><a href=/ko/tags class=navbarm__menu--term data-index=0>태그</a></li><li class=navbarm__menu--item><a href=/ko/categories class=navbarm__menu--term data-index=1>카테고리</a></li><li class=navbarm__menu--item><a href=/ko/series class=navbarm__menu--term data-index=2>시리즈</a></li></ul></div><div class=navbar__menu><div class=theme data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">hacker</a>
<a href=# class="dropdown-item select-theme__item">solarized</a>
<a href=# class="dropdown-item select-theme__item">kimbie</a></div></div></div><a href=/ko/about class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>소개</a>
<a href=/ko/posts class="navbar__menu-item navbar__slide-down active" dir=ltr data-ani=true>블로그</a></div></nav><main class="single__main main"><nav class="breadcrumb hide" aria-label=breadcrumbs><script>document.querySelector(".breadcrumb").classList.remove("hide")</script><ol><li><a href=https://devlog.jsyoo5b.net/ko/ class=capitalize>JSYoo5B.Dev();</a></li><li><a href=https://devlog.jsyoo5b.net/ko/posts/ class=capitalize>Posts</a></li><li class=is-active><span>Clean Code 3장: "함수" 정리</span></li></ol></nav><div class=single><div class=single__nojs>자바스크립트를 활성화 해주세요</div><script>document.querySelector(".single").classList.remove("hide"),document.querySelector(".single__nojs").classList.add("hide")</script><h2 class=single__title data-ani=true>Clean Code 3장: "함수" 정리</h2><h3 class=single__subtitle></h3><div class=single__meta><div class=single__infos><time class=single__info title=작성일>📅&nbsp;2021년 08월 13일</time>
&nbsp;&#183;&nbsp; <time class=single__info title=수정일>📝&nbsp;2022년 05월 29일</time>
&nbsp;&#183;&nbsp; <span class=single__info title="읽는 시간">☕&nbsp;25&nbsp;min read</span>
<span class=single__info></span></div><ul class="single__tags caption">🏷️<li><a href=https://devlog.jsyoo5b.net/ko/tags/%ED%81%B4%EB%A6%B0-%EC%BD%94%EB%93%9C/ class=single__tag title="클린 코드">#클린 코드</a></li><li><a href=https://devlog.jsyoo5b.net/ko/tags/%ED%95%A8%EC%88%98/ class=single__tag title=함수>#함수</a></li></ul></div><article class=single__contents data-dir=ltr data-ani=true><p>3장 함수를 읽으면서 내용에 대해 보충하거나, 개인적인 의견으로 반박하거나, 고민해 볼 부분에 대해 적어보려 한다.</p><p>일단 해당 장에서는 함수나 메서드를 모두 함수라고 통칭하도록 하겠다. (굳이 메서드로 구분해서 언급해야 할 때는 구분하여 이야기하도록 하겠다.)</p><p>처음 예시로는 FitNesse의 길게 작성된 코드를 짧게 줄임으로서 가독성을 확보할 수 있는 부분을 보여준다. (줄바꿈이나 들여쓰기를 원본 그대로 쓰기엔 불편한 부분이 있어 일부 수정했다.)</p><div id=f8426d94887ab670 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">기존의 HtmlUtil.java 코드</button>
<button class=codetab__link aria-label="Tab link">리팩토링한 HtmlUtil.java</button></div><div id=f529ca66bfb99ddd class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>String</span> <span class=nf>testableHtml</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>PageData</span> <span class=n>pageData</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>includeSuiteSetup</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>WikiPage</span> <span class=n>wikiPage</span> <span class=o>=</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getWikiPage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>StringBuffer</span> <span class=n>buffer</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StringBuffer</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>pageData</span><span class=o>.</span><span class=na>hasAttribute</span><span class=o>(</span><span class=s>&#34;Test&#34;</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>includeSuiteSetup</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>WikiPage</span> <span class=n>suiteSetup</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                    <span class=n>PageCrawlerImpl</span><span class=o>.</span><span class=na>getInheritedPage</span><span class=o>(</span>
</span></span><span class=line><span class=cl>                            <span class=n>SuiteResponder</span><span class=o>.</span><span class=na>SUITE_SETUP_NAME</span><span class=o>,</span> <span class=n>wikiPage</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>suiteSetup</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>WikiPagePath</span> <span class=n>pagePath</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                        <span class=n>suiteSetup</span><span class=o>.</span><span class=na>getPageCrawler</span><span class=o>().</span><span class=na>getFullPath</span><span class=o>(</span><span class=n>suiteSetup</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>String</span> <span class=n>pagePathName</span> <span class=o>=</span> <span class=n>PathParser</span><span class=o>.</span><span class=na>render</span><span class=o>(</span><span class=n>pagePath</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>buffer</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;!include -setup .&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                      <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>pagePathName</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                      <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;\n&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>WikiPage</span> <span class=n>setup</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                <span class=n>PageCrawlerImpl</span><span class=o>.</span><span class=na>getInheritedPage</span><span class=o>(</span><span class=s>&#34;SetUp&#34;</span><span class=o>,</span> <span class=n>wikiPage</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>setup</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>WikiPagePath</span> <span class=n>setupPath</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                    <span class=n>wikiPage</span><span class=o>.</span><span class=na>getPageCrawler</span><span class=o>().</span><span class=na>getFullPath</span><span class=o>(</span><span class=n>setup</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>String</span> <span class=n>setupPathName</span> <span class=o>=</span> <span class=n>PathParser</span><span class=o>.</span><span class=na>render</span><span class=o>(</span><span class=n>setupPath</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>buffer</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;!include -setup .&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                  <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>setupPathName</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                  <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;\n&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>buffer</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>pageData</span><span class=o>.</span><span class=na>getContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>pageData</span><span class=o>.</span><span class=na>hasAttribute</span><span class=o>(</span><span class=s>&#34;Test&#34;</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>WikiPage</span> <span class=n>teardown</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                <span class=n>PageCrawlerImpl</span><span class=o>.</span><span class=na>getInheritedPage</span><span class=o>(</span><span class=s>&#34;TearDown&#34;</span><span class=o>,</span> <span class=n>wikiPage</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>teardown</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>WikiPagePath</span> <span class=n>tearDownPath</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                    <span class=n>wikiPage</span><span class=o>.</span><span class=na>getPageCrawler</span><span class=o>().</span><span class=na>getFullPath</span><span class=o>(</span><span class=n>teardown</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>String</span> <span class=n>tearDownPathName</span> <span class=o>=</span> <span class=n>PathParser</span><span class=o>.</span><span class=na>render</span><span class=o>(</span><span class=n>tearDownPath</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>buffer</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;\n&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                  <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;!include -teardown .&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                  <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>tearDownPathName</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                  <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;\n&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>includeSuiteSetup</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>WikiPage</span> <span class=n>suiteTeardown</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                    <span class=n>PageCrawlerImpl</span><span class=o>.</span><span class=na>getInheritedPage</span><span class=o>(</span>
</span></span><span class=line><span class=cl>                            <span class=n>SuiteResponder</span><span class=o>.</span><span class=na>SUITE_TEARDOWN_NAME</span><span class=o>,</span> <span class=n>wikiPage</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>suiteTeardown</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>WikiPagePath</span> <span class=n>pagePath</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>                        <span class=n>suiteTeardown</span><span class=o>.</span><span class=na>getPageCrawler</span><span class=o>().</span><span class=na>getFullPath</span><span class=o>(</span><span class=n>suiteTeardown</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>String</span> <span class=n>pagePathName</span> <span class=o>=</span> <span class=n>PathParser</span><span class=o>.</span><span class=na>render</span><span class=o>(</span><span class=n>pagePath</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>buffer</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;!include -teardown .&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                      <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>pagePathName</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                      <span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=s>&#34;\n&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>pageData</span><span class=o>.</span><span class=na>setContent</span><span class=o>(</span><span class=n>buffer</span><span class=o>.</span><span class=na>toString</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getHtml</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div><div id=6d866386bcb5fc2d class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>String</span> <span class=nf>renderPageWithSetupsAndTeardowns</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>PageData</span> <span class=n>pageData</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>isSuite</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=n>isTestPage</span> <span class=o>=</span> <span class=n>pageData</span><span class=o>.</span><span class=na>hasAttribute</span><span class=o>(</span><span class=s>&#34;Test&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>isTestPage</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>WikiPage</span> <span class=n>testPage</span> <span class=o>=</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getWikiPage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>StringBuffer</span> <span class=n>newPageContent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StringBuffer</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>includeSetupPages</span><span class=o>(</span><span class=n>testPage</span><span class=o>,</span> <span class=n>newPageContent</span><span class=o>,</span> <span class=n>isSuite</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>newPageContent</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>pageData</span><span class=o>.</span><span class=na>getContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>includeTeardownPages</span><span class=o>(</span><span class=n>testPage</span><span class=o>,</span> <span class=n>newPageContent</span><span class=o>,</span> <span class=n>isSuite</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>pageData</span><span class=o>.</span><span class=na>setContent</span><span class=o>(</span><span class=n>newPageContent</span><span class=o>.</span><span class=na>toString</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getHtml</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"f8426d94887ab670"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>일단 기존 코드는 <strong>코드의 내용이 길고</strong>, <strong>문맥 안에 조건문의 조건문 중첩이 너무 많고</strong>, <strong>비슷한 코드 패턴이 자주 나타난다.</strong> 전체적인 코드 내용은 함수를 추출하여 맥락 위주로 설명하여 코드의 길이를 줄였고, 그 과정에서 문맥의 조건문 중첩을 없앴으며, 아마 각 함수 안에 중복되는 코드를 줄이는 내부 함수가 새로 작성되었을 것이다.</p><h2 id=작게-만들어라>작게 만들어라</h2><p>함수를 작게, 여러 개로 잘 나눠 작성할 수록 가독성이 올라간다. 객체의 설계나 메서드/멤버 변수의 관계에 대한 규칙은 대표적으로 <a href=https://ko.wikipedia.org/wiki/SOLID_(%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%EC%84%A4%EA%B3%84)>SOLID</a>가 있다. <a href=https://dl.acm.org/doi/10.1145/3172871.3172878>응집도나 결합도를 측정</a>하여 코드의 품질을 측정하고 개선할 수 있지만, 함수의 경우 품질 측정을 위해 쓸만한 수치라고는 함수의 코드 길이밖에 없을 것이다.</p><p>책에서는 과거 <a href=https://en.wikipedia.org/wiki/VT100>VT100</a> 같이 80x24 글자 표현이 가능하던 시절에 화면을 넘어가지 않는 것을 기준으로 잡았다고 한다. (보통 그때 시절에 4줄 정도는 관리 용도로 사용했으므로 20줄을 넘기지 말라는 뜻이다.) 이건 과거부터 공통적인 기준인지 <a href=https://www.kernel.org/doc/html/latest/process/coding-style.html#functions>커널 코딩스타일</a>에서도 비슷한 식으로 언급한다. (여기선 화면 2번 안에 나오는, 대략 40~50줄 정도를 권장한다.)</p><p>물론 함수가 매번 짧아질 수는 없다. 함수가 해야 할 일이 많다면 당연히 길어질 수 밖에 없다. 함수의 길이를 줄이기 위해 가능한 방법은 함수 내부 흐름을 다른 작은 함수로 추출할 수 있을까 고민하는 것이다. 서론에서 본 예제도 코드의 흐름에서 하고자 하는 목적에 따라 함수로 추출하여 표현한 것이다. 보통 프로그래밍을 처음 배울때는 중복되는 부분을 줄이기 위해 함수로 추출해야 한다고 가르쳤을 것이다. 하지만 코드의 흐름을 표현하기 위해 함수로 분리해도 된다.</p><p>보통 함수를 자주 분리할 때 걱정하는 것이 성능일 것이다. (Java쪽은 생산성을 위해 성능을 포기하거나, JVM을 믿는 것 같다.) 시스템 프로그래밍 등의 강의를 수강하면 배우는데, 함수 호출을 위해 스택 프레임을 쌓는 과정 등에 생기는 부하를 걱정하게 되는데, 최근 컴파일러의 최적화 기술이 많은 부분을 보조해 주기 때문에 큰 걱정 없이 사용해도 될 것이다. 물론 모든 상황에서 무분별하게 사용하면 안되지만, 실행했을 때 걸리는 사소한 부하보단 가독성이 더 중요할 것이다.</p><p>대표적으로 <a href=https://gcc.gnu.org/onlinedocs/gcc-4.1.2/gcc/Inline.html>인라인 함수로 선언되지 않아도 함수를 인라인화 한다던가</a>, <a href=https://en.wikipedia.org/wiki/Tail_call#Implementation_methods>재귀 호출이 함수의 마지막에 이뤄진다면 스택 프레임을 쌓지 않고, 반복적인 형태로 구현하는 등</a> 컴파일러 최적화 기술은 무궁무진하다.</p><h3 id=블록과-들여쓰기>블록과 들여쓰기</h3><p>책에서는 <code>if</code>, <code>else</code>, <code>while</code> 문 아래 있는 코드들도 가능하면 함수 호출 한 줄로 표현하라고 한다. 즉, 조건에 따른 동작은 각각 함수로 추출하고, 조건문은 각 함수를 호출하기 까지 분기를 결정하는 역할로 사용하라는 것이다. 함수로 추출하면서 서술적인 이름으로 함수를 명명하면 간접적으로 코드에 대한 문서화도 가능할 것이라고 이야기하고 있다. 게다가 이 과정에서 자연스럽게 중첩 블록 (<code>if</code> 블록 안에 <code>if</code>문)을 줄일 수 있다고 이야기한다.</p><p>완전 틀린 이야기는 아닌 것 같지만, 동의하지 않는 부분은 있다. 분명 함수로 추출하면 각 함수별로 좀 더 간단한 단계로 표현이 가능한 것은 사실이다. 하지만 실무적인 가독성 면에서 오히려 더 불편하다 생각한다. <strong>실무적인 가독성</strong>이란 표현은 내가 지어낸 표현인데, <strong>한 실행 흐름을 완전히 분석하는 과정의 가독성</strong>이라 해석하면 될 것 같다.</p><p>내가 조금 코드를 깊이 열어보는 경향이 있긴 한데, 특정 프로젝트를 개발 및 디버깅 하다보면 코드 흐름에 따른 내용을 모두 읽게 되는 것 같다. (외부 라이브러리의 경우 상황에 따라 열어볼 수도 있고, 문서만 참고하기도 한다.) 보통 코드를 다 읽으려면 함수 정의를 찾아 들어가야 하는데, 정의를 찾아 들어가는건 IDE 등으로 지원이 되지만, 매번 들어갔다 나왔다 하는 부분에서 피로도가 증가한다 생각한다. 특히 코드의 난이도가 좀 있는 경우(코드의 난이도와 가독성은 별개라고 생각한다.) 큰 흐름의 코드를 읽고 나왔다가 다시 들어가면 앞의 내용을 까먹는 등 불편함이 존재한다 생각한다.</p><p>앞의 함수 크기 설명 기준을 참고하여, 내 생각에는 <strong>코드 블럭이 한 화면을 넘어가면</strong> 함수로 추출하는 것이 적절하다 생각한다. 조건문/반복문 안의 코드 블럭이 길어지면 앞의 조건을 까먹을 수도 있다. 물론 책에서 설명한 대로 조건문/반복문이 중첩이 심해지면 각 들여쓰기 별 흐름이 헷갈리기 시작한다.</p><h2 id=한-가지만-해라>한 가지만 해라</h2><p>처음에 나온 예제 코드는 한 함수에서 너무 많은 일을 수행한다. 첫 리팩토링을 한 코드는 코드의 상세한 구현을 함수로 추출함으로서 가독성에 대한 추상화가 이뤄졌다. 아래와 같이 추가 리팩토링을 한 코드에서는 이 추상화도 한 가지 이상의 일을 하고 있으므로 (<code>WikiPage</code> 앞, 뒤로 <code>includeSetupPages()</code>, <code>includeTeardownPages()</code>를 수행하고, 문자열 버퍼에 넣었다가 다시 HTML로 변환하는 등) 이걸 한 가지 일로 추상화했다.</p><div id=904d64d794cbb5b2 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">1차 리팩토링한 HtmlUtil.java 코드</button>
<button class=codetab__link aria-label="Tab link">2차 리팩토링한 HtmlUtil.java</button></div><div id=6d866386bcb5fc2d class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>String</span> <span class=nf>renderPageWithSetupsAndTeardowns</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>PageData</span> <span class=n>pageData</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>isSuite</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=n>isTestPage</span> <span class=o>=</span> <span class=n>pageData</span><span class=o>.</span><span class=na>hasAttribute</span><span class=o>(</span><span class=s>&#34;Test&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>isTestPage</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>WikiPage</span> <span class=n>testPage</span> <span class=o>=</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getWikiPage</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>StringBuffer</span> <span class=n>newPageContent</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StringBuffer</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>includeSetupPages</span><span class=o>(</span><span class=n>testPage</span><span class=o>,</span> <span class=n>newPageContent</span><span class=o>,</span> <span class=n>isSuite</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>newPageContent</span><span class=o>.</span><span class=na>append</span><span class=o>(</span><span class=n>pageData</span><span class=o>.</span><span class=na>getContent</span><span class=o>());</span>
</span></span><span class=line><span class=cl>        <span class=n>includeTeardownPages</span><span class=o>(</span><span class=n>testPage</span><span class=o>,</span> <span class=n>newPageContent</span><span class=o>,</span> <span class=n>isSuite</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>pageData</span><span class=o>.</span><span class=na>setContent</span><span class=o>(</span><span class=n>newPageContent</span><span class=o>.</span><span class=na>toString</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getHtml</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div><div id=c94e99523f35d4ec class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=n>String</span> <span class=nf>renderPageWithSetupsAndTeardowns</span><span class=o>(</span>
</span></span><span class=line><span class=cl>        <span class=n>PageData</span> <span class=n>pageData</span><span class=o>,</span> <span class=kt>boolean</span> <span class=n>isSuite</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>isTestPage</span><span class=o>(</span><span class=n>pageData</span><span class=o>))</span>
</span></span><span class=line><span class=cl>        <span class=n>includeSetupAndTeardownPages</span><span class=o>(</span><span class=n>pageData</span><span class=o>,</span> <span class=n>isSuite</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pageData</span><span class=o>.</span><span class=na>getHtml</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"904d64d794cbb5b2"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>나는 1차 리팩토링 정도로도 충분하다고 생각한다. 2차 리팩토링 코드에 비해 긴 함수긴 하지만, 그렇게 길지도 않다. 또한 <code>includeSetupPages()</code>와 <code>includeTeardownPages()</code>를 <code>includeSetupAndTeardownPages()</code>로 추상화했는데, 함수 이름에 <code>And</code>가 들어가는 시점부터 깔끔하지 않다고 생각한다.</p><p>위 예시는 부적합하다고 생각하지만, <strong>한 가지 일만 해야 한다</strong> 는 부분에는 동의한다. 이미 객체지향에서 클래스에 대해 <a href=https://ko.wikipedia.org/wiki/%EB%8B%A8%EC%9D%BC_%EC%B1%85%EC%9E%84_%EC%9B%90%EC%B9%99>단일 책임 원칙</a>이 존재하며, 상세한 내용은 조금 다르지만 <strong>객체가 한 역할만 맡는다</strong> 는 관점에서 비슷하다 생각한다.</p><h3 id=함수-내-섹션>함수 내 섹션</h3><p>아래 예시를 보면 (소수를 생성하는 함수) 변수 선언, 초기화, 동작(에라토스테네스의 체) 단위로 섹션이 구분되어 있는 것을 확인할 수 있다. 섹션이 구분되어 있다는 것은 해당 함수가 한 가지만 하고 있지 않다는 증거라고 볼 수 있다고 한다. 함수가 한 가지 일만 한다면 섹션을 의미있게 구분하기 힘들 것이라고 한다.</p><div id=1705aba70ac517b5 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">함수의 구성을 섹션 별로 구별한 예시</button></div><div id=ed73eeaf881186b2 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=hl><span class=lnt>33
</span></span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=hl><span class=lnt>37
</span></span><span class=lnt>38
</span><span class=lnt>39
</span><span class=hl><span class=lnt>40
</span></span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=hl><span class=lnt>51
</span></span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=hl><span class=lnt>59
</span></span><span class=lnt>60
</span><span class=hl><span class=lnt>61
</span></span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * This class Generates prime numbers up to a user specified
</span></span></span><span class=line><span class=cl><span class=cm> * maximum. The algorithm used is the Sieve of Eratosthenes.
</span></span></span><span class=line><span class=cl><span class=cm> * &lt;p&gt;
</span></span></span><span class=line><span class=cl><span class=cm> * Eratosthenes of Cyrene, b. c. 276 BC, Cyrene, Libya --
</span></span></span><span class=line><span class=cl><span class=cm> * d. c. 194, Alexandria. The first man to calculate the
</span></span></span><span class=line><span class=cl><span class=cm> * circumference of the Earth. Also known for working on
</span></span></span><span class=line><span class=cl><span class=cm> * calendars with leap years and ran the library at Alexandria.
</span></span></span><span class=line><span class=cl><span class=cm> * &lt;p&gt;
</span></span></span><span class=line><span class=cl><span class=cm> * The algorithm is quite simple. Given an array of integers
</span></span></span><span class=line><span class=cl><span class=cm> * starting at 2. Cross out all multiples of 2. Find the next
</span></span></span><span class=line><span class=cl><span class=cm> * uncrossed integer, and cross out all of its multiples.
</span></span></span><span class=line><span class=cl><span class=cm> * Repeat untilyou have passed the square root of the maximum
</span></span></span><span class=line><span class=cl><span class=cm> * value.
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alphonse
</span></span></span><span class=line><span class=cl><span class=cm> * @version 13 Feb 2002 atp
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.*</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>GeneratePrimes</span>
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     * @param maxValue is the generation limit.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>int</span><span class=o>[]</span> <span class=nf>generatePrimes</span><span class=o>(</span><span class=kt>int</span> <span class=n>maxValue</span><span class=o>)</span> 
</span></span><span class=line><span class=cl>    <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>maxValue</span> <span class=o>&gt;=</span> <span class=mi>2</span><span class=o>)</span> <span class=c1>// the only valid case
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// declarations
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>int</span> <span class=n>s</span> <span class=o>=</span> <span class=n>maxValue</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span> <span class=c1>// size of array
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>boolean</span><span class=o>[]</span> <span class=n>f</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>boolean</span><span class=o>[</span><span class=n>s</span><span class=o>];</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// initialize array to true.
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>for</span> <span class=o>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>                <span class=n>f</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class="line hl"><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// get rid of known non-primes
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>f</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>=</span> <span class=n>f</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>=</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class="line hl"><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// sieve
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>int</span> <span class=n>j</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>2</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>Math</span><span class=o>.</span><span class=na>sqrt</span><span class=o>(</span><span class=n>s</span><span class=o>)</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>f</span><span class=o>[</span><span class=n>i</span><span class=o>])</span> <span class=c1>// if i is uncrossed, cross its multiples.
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span> <span class=o>(</span><span class=n>j</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>i</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>s</span><span class=o>;</span> <span class=n>j</span> <span class=o>+=</span> <span class=n>i</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                        <span class=n>f</span><span class=o>[</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=kc>false</span><span class=o>;</span> <span class=c1>// multiple is not prime
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class="line hl"><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// how many primes are there?
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>f</span><span class=o>[</span><span class=n>i</span><span class=o>])</span>
</span></span><span class=line><span class=cl>                <span class=n>count</span><span class=o>++;</span> <span class=c1>// bump count.
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=o>}</span>
</span></span><span class="line hl"><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=kt>int</span><span class=o>[]</span> <span class=n>primes</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>count</span><span class=o>];</span>
</span></span><span class="line hl"><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// move the primes into the result
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>for</span> <span class=o>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=o>,</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>s</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>f</span><span class=o>[</span><span class=n>i</span><span class=o>])</span> <span class=c1>// if prime
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=n>primes</span><span class=o>[</span><span class=n>j</span><span class=o>++]</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>primes</span><span class=o>;</span> <span class=c1>// return the primes
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span> <span class=c1>// maxValue &lt; 2
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>return</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=mi>0</span><span class=o>];</span> <span class=c1>// return null array if bad input.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"1705aba70ac517b5"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>예시가 부적절한 것 같다. 변수를 선언하는 것은 함수에서 일을 하기 위한 준비 과정인데, 이건 당연히 섹션을 분리 할 수밖에 없다고 생각한다. 차라리 소수 판정을 위한 <code>f</code> 배열의 플래그 초기화, 소수 판정, <code>f</code> 배열로부터 <code>primes</code> 배열을 채우는 과정이 명시적으로 서술되어 있기 때문에 각 함수로 추출해야 한다고 주장해야 할 것 같다.</p><h2 id=함수-당-추상화-수준은-하나로>함수 당 추상화 수준은 하나로</h2><p>첫 예시 코드에서 나온 추상화 수준은 <code>getHtml()</code>같이 높은 수준의 추상화와, <code>StringBuffer</code>를 사용하는 구현 수준의 낮은 추상화가 섞여있다. 이렇게 추상화 수준이 섞여 있으면 각 코드 라인의 표현이 <strong>개념</strong> 을 나타내는 것인지, <strong>구현</strong> 을 나타내는 것인지 구별하기 힘드므로 추상화 수준을 맞추라고 이야기한다.</p><p>의도는 좋은데 실제 코드 작성에서 이런 식으로 추성화 수준을 맞추는 게 가능할지 의문이 든다.</p><h3 id=위에서-아래로-코드-읽기-내려가기-규칙>위에서 아래로 코드 읽기: 내려가기 규칙</h3><p>함수의 동작 흐름을 하향식(Top-down)으로 읽기 위해, 함수의 동작 흐름을 <code>TO</code>(<code>~~하려면</code>으로 번역했을 것 같다.) 단위로 서술해서 추상화 수준을 조절하는 기법을 설명한다. 보통 프로그래밍을 처음 배울 때 큰 함수를 단계별로 나누고, 그 단계들을 더 자세히 나누면서 코드를 작성해야 한다고 배우는데, 이게 원하는 수준의 추상화 단계 조절로 이뤄질지 의문이 든다.</p><h2 id=switch-문>Switch 문</h2><p>당연하게도 <code>switch</code>문을 사용하는 함수에선 하나에 하나만의 동작을 수행하기 힘들다. 특정 변수의 값에 대해 조건문의 개수가 발산하는 상황에서 사용되기 때문이다. 책에서는 <code>switch</code>문을 통해 동작을 결정하는 코드를 추상 팩토리 패턴으로 숨기는 방법을 제안한다.</p><div id=da1cd372ef24feec class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">기존 switch로 동작을 결정하는 코드</button>
<button class=codetab__link aria-label="Tab link">추상 팩토리에서 switch를 사용하여 책임 분리</button></div><div id=e974e8ae69ba51e7 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=n>Money</span> <span class=nf>calculatePay</span><span class=o>(</span><span class=n>Employee</span> <span class=n>e</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=kd>throws</span> <span class=n>InvalidEmployeeType</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>type</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=n>COMMISSIONED</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>calculateCommissionedPay</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=n>HOURLY</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>calculateHourlyPay</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=n>SALARIED</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>calculateSalariedPay</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=k>new</span> <span class=n>InvalidEmployeeType</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>type</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div><div id=6c01086bcd1da671 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Employee</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>abstract</span> <span class=kt>boolean</span> <span class=nf>isPayday</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>abstract</span> <span class=n>Money</span> <span class=nf>calculatePay</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>deliverPay</span><span class=o>(</span><span class=n>Money</span> <span class=n>pay</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=cm>/*-----------------*/</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>EmployeeFactory</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Employee</span> <span class=nf>makeEmployee</span><span class=o>(</span><span class=n>EmployeeRecord</span> <span class=n>r</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>InvalidEmployeeType</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=cm>/*-----------------*/</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>EmployeeFactoryImpl</span> <span class=kd>implements</span> <span class=n>EmployeeFactory</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Employee</span> <span class=nf>makeEmployee</span><span class=o>(</span><span class=n>EmployeeRecord</span> <span class=n>r</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>InvalidEmployeeType</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>switch</span> <span class=o>(</span><span class=n>r</span><span class=o>.</span><span class=na>type</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>COMMISSIONED</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>CommissionedEmployee</span><span class=o>(</span><span class=n>r</span><span class=o>)</span> <span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>HOURLY</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>HourlyEmployee</span><span class=o>(</span><span class=n>r</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=n>SALARIED</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>new</span> <span class=n>SalariedEmploye</span><span class=o>(</span><span class=n>r</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=n>InvalidEmployeeType</span><span class=o>(</span><span class=n>r</span><span class=o>.</span><span class=na>type</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"da1cd372ef24feec"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>객체지향적으로 프로그래밍 하는 입장에서 틀린 리팩토링은 아니다. 하지만 내가 생각하는 <code>switch</code>문의 문제는 객체지향이 아닌 상황에서도 여러 이슈가 있는 문법이다. <a href=https://en.wikipedia.org/wiki/Switch_statement>위키의 설명</a>을 참고하면, <code>switch</code>문은 크게 두 종류로 나뉘는데, Pascal과 같은 언어에서는 값의 각 조건마다 분기하고 무조건 아래로 내려가는 방식이고, C언어 등에서는 <code>goto</code>문과 비슷한 방식으로 동작한다. 현대적으로 인기 있는 대부분의 언어는 C언어의 동작 방식을 따라간다. 문제는 이런 <code>goto</code>식 동작은 초보자들이 잘못 이해하기 좋고, 경력자들도 가끔씩 실수로 <code>break</code>를 생략하여 버그를 만드는 경우도 있다. 이렇게 잘못 사용하는 경우만 있다면 다행이겠지만, 문제는 의도적으로 <code>break</code>를 생략하는 경우도 있다는 것이다. <code>goto</code>형 <code>switch</code>의 특성을 극대화해서 루프 풀기를 적용한 <a href=https://en.wikipedia.org/wiki/Duff%27s_device><code>Duff's device</code></a>란 기법이 대표적이다. (현대 코딩 가이드라인 기준에서는 위험하다 판단하여 사용하지 않을 것을 권고/강제한다.) 이렇게 <code>switch</code>문에서는 <code>실수</code>와 <code>의도</code>를 구분하기 위해 코드의 의도를 정확히 이해해야 한다.</p><p>아래 예시는 내가 참여했던 <a href=https://github.com/Hanjp-IM/libhanjp>Hanjp 프로젝트</a>에서 한글 자모를 카나 50음도표로 변환하는 오토마타의 코드 중 일부다. 아래 코드의 일부를 예시로 보면 <code>ㄱ</code>, <code>ㅋ</code>, <code>ㄲ</code>을 <code>K</code>행 자음으로 변환해야 하며, <code>ㄱ</code>의 경우 탁음 처리를 위해 추가 변환이 필요하다. 동일한 동작을 시키려고 일부러 <code>break</code>를 생략하고, 예외 처리인 <code>ㄱ</code>을 앞에 배치해서 먼저 처리하는 식으로 코드를 작성했다. 이렇게 특정 변수의 여러 값을 한번에 처리하는 것은 효율적이긴 하지만, 읽다보면 어디서 지금 조건의 흐름이 종료된 것인지(<code>break</code>), 아래 흐름과 연결되는지 (<code>ㄱ</code>의 탁음 처리만 하고, 자음 행 결정은 그 아래서 수행) 직관적으로 이해하기 힘들다.</p><p>보통 여러 조건을 묶는 경우는 <code>case</code>가 여러번 묶어서 나타나므로 의도를 쉽게 이해할 수 있을 것이다. 그리고 <code>ㄱ</code> 탁음 처리 후 아래로 내려가는 부분같은 경우 보통은 <code>fallthrough</code>를 사용하여 아래 흐름으로 내려가야 한다고 표기해 줄 수 있다. 그리고 <code>break</code>에서 빈 줄을 넣어 문맥을 구분해주면 좀 더 가독성이 좋아진다 생각한다.</p><div id=f7f55fa18ac62db2 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">한글 초성에서 카나 50음도 자음 행, 탁음 변환 함수</button>
<button class=codetab__link aria-label="Tab link">fallthrough 표기로 switch문의 의도를 표현한 방식</button></div><div id=8a3fa6419cea80f9 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=hl><span class=lnt>10
</span></span><span class=hl><span class=lnt>11
</span></span><span class=hl><span class=lnt>12
</span></span><span class=hl><span class=lnt>13
</span></span><span class=hl><span class=lnt>14
</span></span><span class=hl><span class=lnt>15
</span></span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>static</span> <span class=n>gint</span> <span class=nf>choseong_to_kana_index</span><span class=p>(</span><span class=n>gunichar</span> <span class=n>cho</span><span class=p>,</span> <span class=n>gint</span> <span class=o>*</span><span class=n>conso_idx</span><span class=p>,</span> <span class=n>gint</span> <span class=o>*</span><span class=n>diacrit</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=p>(</span><span class=n>cho</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>0</span><span class=o>:</span>         <span class=c1>// VOID
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_IEUNG</span><span class=p>:</span>         <span class=c1>// ㅇ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>conso_idx</span> <span class=o>=</span> <span class=n>KANA_CONSONANT__</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_KIYEOK</span><span class=p>:</span>        <span class=c1>// ㄱ
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_KHIEUKH</span><span class=p>:</span>       <span class=c1>// ㅋ
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SSANGKIYEOK</span><span class=p>:</span>   <span class=c1>// ㄲ
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>conso_idx</span> <span class=o>=</span> <span class=n>KANA_CONSONANT_K</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_CIEUC</span><span class=p>:</span>         <span class=c1>// ㅈ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SIOS</span><span class=p>:</span>          <span class=c1>// ㅅ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SSANGSIOS</span><span class=p>:</span>     <span class=c1>// ㅆ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>conso_idx</span> <span class=o>=</span> <span class=n>KANA_CONSONANT_S</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// skip other similar Hangul choseong mappings
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SSANGNIEUN</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>KANA_CONV_FAIL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>KANA_CONV_SUCCESS</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div><div id=1e83431fb32a3174 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=hl><span class=lnt> 7
</span></span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=hl><span class=lnt>11
</span></span><span class=lnt>12
</span><span class=lnt>13
</span><span class=hl><span class=lnt>14
</span></span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=hl><span class=lnt>19
</span></span><span class=lnt>20
</span><span class=lnt>21
</span><span class=hl><span class=lnt>22
</span></span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=hl><span class=lnt>27
</span></span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>static</span> <span class=n>gint</span> <span class=nf>choseong_to_kana_index</span><span class=p>(</span><span class=n>gunichar</span> <span class=n>cho</span><span class=p>,</span> <span class=n>gint</span> <span class=o>*</span><span class=n>conso_idx</span><span class=p>,</span> <span class=n>gint</span> <span class=o>*</span><span class=n>diacrit</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=p>(</span><span class=n>cho</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>0</span><span class=o>:</span>         <span class=c1>// VOID
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>        <span class=cm>/* fallthrough; */</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_IEUNG</span><span class=p>:</span>         <span class=c1>// ㅇ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>conso_idx</span> <span class=o>=</span> <span class=n>KANA_CONSONANT__</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_KIYEOK</span><span class=p>:</span>        <span class=c1>// ㄱ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>        <span class=cm>/* fallthrough; */</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_KHIEUKH</span><span class=p>:</span>       <span class=c1>// ㅋ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SSANGKIYEOK</span><span class=p>:</span>   <span class=c1>// ㄲ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>conso_idx</span> <span class=o>=</span> <span class=n>KANA_CONSONANT_K</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_CIEUC</span><span class=p>:</span>         <span class=c1>// ㅈ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>diacrit</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>        <span class=cm>/* fallthrough; */</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SIOS</span><span class=p>:</span>          <span class=c1>// ㅅ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SSANGSIOS</span><span class=p>:</span>     <span class=c1>// ㅆ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>conso_idx</span> <span class=o>=</span> <span class=n>KANA_CONSONANT_S</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// skip other similar Hangul choseong mappings
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=nl>HANGUL_CHOSEONG_SSANGNIEUN</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>KANA_CONV_FAIL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>KANA_CONV_SUCCESS</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"f7f55fa18ac62db2"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p><a href=https://elixir.bootlin.com/linux/latest/source/include/linux/compiler_attributes.h#L208>리눅스 커널의 경우</a> <code>fallthrough</code>를 매크로로 설정해서 컴파일러가 의도된 <code>break</code> 생략인지 분석할 수 있게 한다. Go 언어의 경우 아예 Pascal의 경우처럼 <a href=/ko/posts/golang/musthave/ch10/#break-%EC%83%9D%EB%9E%B5%EA%B3%BC-fallthrough><code>break</code>가 기본 동작하되, <code>fallthrough</code> 키워드를 통해 아래 코드 블럭까지 수행할 수 있게 문법을 구성했다.</a></p><h2 id=서술적인-이름을-사용하라>서술적인 이름을 사용하라</h2><p>일반적으로 함수의 작성 목적은 중복된 흐름/기능을 추출하여 <strong>일반화된 흐름으로 압축하기 위해</strong> 사용한다 생각한다. 일반화가 목적인 만큼 과도하게 서술적인 이름은 오히려 안 어울린다고 생각한다. (책에서는 이름을 길게 쓰는 것을 두려워 하지 말라고 하는데, 나는 <a href=/ko/posts/clean-code/ch02/#%EB%B0%9C%EC%9D%8C%ED%95%98%EA%B8%B0-%EC%89%AC%EC%9A%B4-%EC%9D%B4%EB%A6%84%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC>이전 장</a>에서 언급했듯, 과도한 서술적인 이름은 시간/공간 낭비라고 생각한다.) 서술적으로 함수 이름을 지어서 좋다고 생각하는 예외는 <strong>테스트 코드</strong> 를 작성할 때라고 생각한다.</p><p>앞서 설명한대로 함수 작성이 <strong>일반화</strong> 과정이라면, 테스트 코드는 함수의 안정성 확인 등을 위해 <strong>역으로 예시를 집어넣어 구체적인 입출력을 비교하는</strong> 행위라 생각한다. 이 책에서 이야기하는 <strong>이 함수가 무슨 일을 하는가?</strong> 를 표현하기에 가장 적합하다 생각한다.</p><p>참고로 몇몇 환경의 테스트 프레임워크는 함수 이름 외에도, 추가적으로 해당 테스트를 설명하는 메시지로 표현할 수 있다.</p><div id=bba6239a2b741bb8 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">Go test</button>
<button class=codetab__link aria-label="Tab link">JUnit</button></div><div id=e0ce916e3ca4ddb2 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;testing&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>TestSquare9ShouldBe81</span><span class=p>(</span><span class=nx>t</span> <span class=o>*</span><span class=nx>testing</span><span class=p>.</span><span class=nx>T</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>result</span> <span class=o>:=</span> <span class=nf>square</span><span class=p>(</span><span class=mi>9</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>result</span> <span class=o>!=</span> <span class=mi>81</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>t</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;square(9) should be 81&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><div id=9c0aba3ff74adae2 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class="line hl"><span class=cl><span class=nd>@DisplayName</span><span class=o>(</span><span class=s>&#34;square(9) should be 81&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>assertSquare_9_ShouldBe_81</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>assertEquals</span><span class=o>(</span><span class=mi>81</span><span class=o>,</span> <span class=n>square</span><span class=o>(</span><span class=mi>9</span><span class=o>))</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"bba6239a2b741bb8"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><h2 id=함수-인수>함수 인수</h2><p>책에서는 함수에 인수가 적을 수록 좋다고 한다. 예를 들어 1개 인자를 받는 <code>includeSetupPageInto(newPageContent)</code> 보단 <code>includeSetupPage()</code>처럼 인자를 없애는 것이 더 이해하기 쉽다는 것이다. 코드의 이해 뿐만 아니라, 테스팅을 할 때도 유리하다. 인자 개수가 늘어나면 테스트 커버리지 확보를 위해 여러 인자에 대한 조합들을 다 확인해야 하므로 테스팅이 더 어려워 진다는 것이다.</p><p>게다가 함수는 기본적으로 인자들을 입력으로 받고 결과를 반환(return)하는 것이 일반적인 흐름인데, 인자에 부수 효과(Side effect)를 일으키는 함수는 반환되는 값이 2개 이상이 되므로 더 어려워진다고 한다. 그런데 이건 Java같이 객체의 생성(할당), 반환(해제)가 유연하고, 예외처리가 자연스러운 언어의 이야기일 뿐, C/C++같은 언어에서는 현실적으로 감수해야 하는 문제라고 생각한다.</p><p>책에서는 마치 함수의 인자 개수가 늘어날수록 큰 문제가 생기는 것 처럼 경고하지만, <a href=https://research.google/pubs/pub46317/>Google의 함수 인자 개수와 코드의 오류 비율에 대한 관계를 분석한 연구</a>에 따르면, 인자를 잘못 넣는 실수는 인자가 5개 이상일 때부터 증가한다고 한다.</p><h3 id=많이-쓰는-단항-형식>많이 쓰는 단항 형식</h3><p>함수의 인자가 한개 들어가는 대표적인 예시로는 <code>boolean fileExists("MyFile")</code>처럼 인자에 대한 질문을 하는 경우, <code>InputStream fileOpen("MyFile")</code>처럼 인자를 다른 형태로 변환하는 경우가 있다고 한다. 각 용도를 잘 구분하기 위해 함수 이름을 잘 지어야 한다는데, 보통 질문에 해당하는 함수는 <code>isFileExists()</code> 같은 식으로 앞에 <code>is</code>, <code>has</code> 같이 <code>boolean</code>한 결과라는 것을 예측할 수 있는 이름으로 구분하면 충분할 것 같다.</p><h3 id=플래그-인수>플래그 인수</h3><p><code>boolean</code> 형의 플래그 인자를 사용하는 함수는 <strong>한 가지 일만 하지 않는다는 뜻</strong> 이므로 좋지 않다고 한다.</p><p>격하게 동의한다. MFC 개발할 때, <code>UpdateData(BOOL bSaveAndValidate = TRUE)</code> 함수가 있는데, 이 함수는 <a href="https://docs.microsoft.com/en-us/cpp/mfc/dialog-data-exchange?view=msvc-170">다이얼로그의 컨트롤(GUI의 버튼 같은 요소)과 변수를 연결했을 때</a>, 컨트롤과 변수의 상태를 반영하는 함수다. 아쉽게도 MFC는 <a href=https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel>MVVM의 data binding</a>같은 방식이 아니라서, 명시적으로 View(MFC의 컨트롤)와 View-Model(연결된 변수)의 변화를 수동적으로 반영해 줘야 한다. <code>UpdateData(TRUE)</code>를 호출하여 컨트롤의 상태에 맞게 변수 값을 변경시키고, <code>UpdateData(FALSE)</code>를 호출하면 변수 값에 맞게 컨트롤의 상태를 변경한다.</p><p>함수의 상세한 정의나 MFC의 동작 원리를 잘 알지 못하면 각 함수를 잘못 사용할 가능성이 높다. <code>UpdateData(TRUE)</code>는 <code>UpdateDataFromCtrl()</code>로, <code>UpdateData(FALSE)</code>는 <code>UpdateCtrlFromData()</code>로 리팩토링한다면 사용법을 헷갈릴 일은 없을 것이다.</p><h3 id=이항-함수-삼항-함수-인수-객체>이항 함수, 삼항 함수, 인수 객체</h3><p>책에서는 이항 함수(인자를 2개 받는), 삼항 함수(인자를 3개 받는), 인수 객체(객체를 인자로 전달하는)를 나눠 설명하고 있지만, 핵심적인 이야기는 초반에 말했던 것 처럼 인자의 개수가 많아질수록 함수를 이해하기 어려워지니까 어떻게든 함수의 인자 개수를 줄여야 한다는 것이다. 예를 들어 함수에 전달하는 인자들이 호출마다 자주 바뀌는지, 각 인자들이 정말 함수 안에서 의미있게 사용되는지 등을 고려하여 제외할 수 있다면 제외하라는 것이다. 아니면 전달하는 여러 인자들의 관계가 하나의 객체로 묶을 수 있다면, 객체로 표현해 인자 개수를 줄이라는 것이다. 물론 <strong>불가피하게 줄일 수 없는 경우</strong>는 괜찮다고 한다.</p><p><code>writeField(outputStream, name)</code>와 같은 메서드에서 값을 출력시킬 <code>outputStream</code>이 자주 변경되는 것이 아니라면, 해당 인자를 멤버 변수로 승격하여 인자의 개수를 줄이라는 것이다. 물론 정상적인 동작을 유지시키려면, 승격한 멤버 변수를 변경할 수 있는 다른 함수를 만들거나, 내부 메서드 호출 과정에서 미리 직접적으로 변경을 해야 할 것이다.</p><p>다른 예시로 단위 테스트에서 자주 사용되는 형태인 <code>assertEquals(message, expected, actual)</code>의 경우, <code>message</code>를 얼마나 중요하게 보느냐는 것이다. 만약 실패를 알리는 이 <code>message</code>가 너무 단순한 정보만 표현한다면 생략할 수 있을 것이다. 만약 단위 테스트가 서술적으로 잘 작성되었다면, 실패한 테스트 함수의 이름만 확인하고 상세한 부분은 코드를 보면 된다.</p><p>혹은 <code>Circle makeCircle(double x, double y, double radius)</code>와 같은 삼항 함수에서 <code>double x, double y</code>는 원의 중심점에 대한 직교좌표계 값을 표현하는 것이다. 엄밀하게 수학적 정의를 따진다면 <code>x</code>와 <code>y</code>는 독립적이지만, 원의 중심점을 표현한다는 입장에서는 두 좌표의 값을 묶어 하나의 객체로 표현할 수 있다. 이를 통해 <code>Circle makeCircle(Point center, double radius)</code>로 인자의 개수를 줄일 수 있다. (원의 중점과 반지름까지 묶어 원을 표현하면 그게 <code>Circle</code> 객체인 것이고, 그 객체를 생성하는 과정이니 더 이상 줄일 수 없다고 봐야 한다.)</p><p>물론 함수 인자가 적은게 더 읽기 쉬운건 맞고, 줄이는 근거도 충분히 논리적이다. 다만 어차피 같은 맥락인데 굳이 이항, 삼항, 객체로 나눠 설명할 필요가 있었을까 하는 의문이 든다.</p><h3 id=인수-목록>인수 목록</h3><p>C언어에서 보통 처음 접하는 <code>printf(const char* fmt, ...)</code>나, 책에서 나오는 Java의 <code>String.format​(String format, Object... args)</code> 함수는 대표적인 <a href=https://en.wikipedia.org/wiki/Variadic_function>가변 인자 함수</a>다.</p><p>이 형태 함수의 가장 큰 특징은 인자의 개수가 몇개가 될 지 알 수 없기 때문에 기본 인자(<code>%d</code> 등을 포함하는 형식 문자열)만 정확히 정의되어있고, 나머지 변수의 개수는 0개부터 무한하게(이론상 무한인데, 실무적으로는 이런 식으로 인자를 전달하지 않을 뿐더러, 메모리 제한 등으로 한계는 있을 것이다.) 전달할 수 있다.</p><p>책에서는 이런 식의 가변 인자 부분은 같은 자료형의 리스트와 같고, 결과적으로 가변 인자 부분을 묶어서 하나의 인자로 취급할 수 있다고 이야기한다.</p><p>사실 <code>String.format()</code> 같은 함수는 특수한 목적을 가진 함수이기 때문에 존재 자체는 부정할 수 없으나, 안심하고 사용해도 된다는 식의 언급은 좋지 않다고 생각한다. 대표적으로 <code>String.format()</code>만 해도, 인자의 개수가 늘어나다 보면 변수의 위치를 실수하는 경우가 잦은 편이라 생각한다. 함수의 정의 자체에서 인자를 줄이는 것도 중요하지만, 함수를 사용할 때도 인자의 개수를 줄이는 것 또한 같은 이유로 중요하다 생각한다. 책의 의도대로 설명하려면 차라리 가변 인자 부분을 정말 <code>List</code> 등으로 묶어서 전달하는 것이 맞다고 생각한다.</p><h3 id=동사와-키워드>동사와 키워드</h3><p>2장에서 이름짓기의 연장에 해당하는 내용이라 생각하는데, 전반적으로 서술적인 이름 작성법과 같은 이야기다.</p><p>의도를 잘 드러내기 위해 <code>write(name)</code>보단 <code>writeField(name)</code>을 추천하고, <code>assertEquals()</code>보단 <code>assertExpectedEqualsActual(expected, actual)</code>과 같이 더 서술적으로 작성하여 전달 인자에 대한 부가 정보를 더 제공하라는 이야기다.</p><h2 id=부수-효과를-일으키지-마라>부수 효과를 일으키지 마라</h2><p>함수형 프로그래밍 패러다임의 주요 철학 중 하나와 겹치는 부분이라 생각한다. 부수 효과를 완전히 배제하면서 프로그래밍을 하는 것은 거의 불가능에 가깝겠지만, 일반적인 함수의 경우 <a href=https://en.wikipedia.org/wiki/Pure_function>순수 함수(pure function)</a>로 작성하여 부수 효과를 없앰으로서 의도치 않은 버그를 없앤다는 것이 핵심이다.</p><p>책에서 설명하듯 부수 효과는 의도치 않은 함수와 변수 간의 커플링이 생기기 때문에 안 좋다는 것이다. 책의 예시를 보며 이야기해보자.</p><div id=633c1cce33f01e12 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">부수 효과를 일으키는 함수의 예시</button></div><div id=d1a1d9780b86522a class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserValidator</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Cryptographer</span> <span class=n>cryptographer</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>checkPassword</span><span class=o>(</span><span class=n>String</span> <span class=n>userName</span><span class=o>,</span> <span class=n>String</span> <span class=n>password</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>User</span> <span class=n>user</span> <span class=o>=</span> <span class=n>UserGateway</span><span class=o>.</span><span class=na>findByName</span><span class=o>(</span><span class=n>userName</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>user</span> <span class=o>!=</span> <span class=n>User</span><span class=o>.</span><span class=na>NULL</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>String</span> <span class=n>codedPhrase</span> <span class=o>=</span> <span class=n>user</span><span class=o>.</span><span class=na>getPhraseEncodedByPassword</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>String</span> <span class=n>phrase</span> <span class=o>=</span> <span class=n>cryptographer</span><span class=o>.</span><span class=na>decrypt</span><span class=o>(</span><span class=n>codedPhrase</span><span class=o>,</span> <span class=n>password</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=s>&#34;Valid Password&#34;</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>phrase</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class="line hl"><span class=cl>                <span class=n>Session</span><span class=o>.</span><span class=na>initialize</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"633c1cce33f01e12"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>위 예시 코드는 사용자를 인증하기 위해 아이디/비밀번호에 대한 검증을 시도하는데, 만약 올바른 아이디/비밀번호로 인증되었다면 마음대로 <code>Session.initialize()</code>를 호출하여 세션을 미리 초기화해버린다. 함수 이름대로 <code>checkPassword()</code>라면 아이디와 비밀번호만 검사해야하니, 세션 초기화 과정은 부수 효과인 것이고, 함수 외부로 추출해야 한다. (<code>checkPassword()</code> 함수의 결과를 바탕으로 <code>Session.initialize()</code>가 호출되어야 한다.)</p><h3 id=출력-인수>출력 인수</h3><p>기본적으로 함수의 인자는 <strong>입력 값</strong>으로 생각하므로, 함수의 인자 값을 변경하거나 인자 값으로 결과를 반환하는 형태를 지양하라는 이야기를 하고 있다.</p><p>사실 함수의 인자를 통해 값을 변환하는 문제는 Java가 제안되기 전의 C/C++ 등의 언어의 한계로 인해 사용되던 기법 중 하나다. 이 언어들은 예외 처리에 대한 오버헤드가 크거나, 객체의 동적 생성/반환에 대한 추가적인 코드 작성이 필요하기 때문이다. 프로그래밍 언어의 발전에 따라 출력 인수를 사용하는 방식은 도태될 수도 있지만, 무시하거나 완전히 배제할 수는 없는 기법이다.</p><p>특히 C++의 경우 객체를 인자로 전달하는 경우, 객체가 복사되어 전달하는 오버헤드를 없애기 위해 레퍼런스 변수로 인자를 선언하기도 한다. 이 때, 위 얘기처럼 출력 인수화 되는 것을 막고, 부수 효과 발생을 방지하기 위해 <a href=https://www.demo2s.com/cpp/cpp-function-parameter-passing-by-const-reference.html><code>const</code> 한정자를 붙인 레퍼런스 변수를 사용하는 기법이 자주 사용된다.</a></p><h2 id=명령과-조회를-분리하라>명령과 조회를 분리하라</h2><p>함수는 어떤 일을 수행하거나, 혹은 질문에 대한 답을 주는 기능 중 하나만 선택하여 제공해야 한다고 한다. 사실 앞의 부수 효과를 일으키지 말라는 부분의 연장으로 보이는데, 위 예시에서는 아이디-비밀번호 인증(질의 응답)과 세션 시작(다른 일을 수행)이 한 함수에서 이뤄진다는 점이 문제라는 것이다. 반면 아래서 설명하는 예시는 뭔가 부족한 부분이 보인다.</p><p><code>boolean set(String attribute, String value)</code>와 같은 함수가 있고, 해당 속성의 값을 설정하는 데 성공하면 <code>true</code>를 반환하는 함수라 가정하자.</p><ol><li><p>함수 이름의 모호성을 언급하려면 위의 동사와 키워드 부분에서 언급되었어야 했다.<br>명령과 조회의 분리를 집중하고 싶었다면 진작에 함수 이름이 <code>setAttribute()</code>로 변경한 채 설명했어야 했다.</p></li><li><p><code>set</code>의 실패 원인에 집중하고 싶다면, 아래 예외 처리가 더 먼저 이야기되었어야 했다.<br>해당 함수에서 생길 수 있는 주요 시나리오는 다음과 같다.</p><ol><li>속성 자체가 존재하지 않았을 때, 실패를 시킬 것인가?</li><li>해당 속성의 값을 바꾸는데 성공/실패했는가?</li><li>이미 요청된 속성 값이 설정되어 있을 때 성공인가? 실패인가?</li></ol><p>여기서 2~3번은 함수의 설계와 관련된 문제고 여기서 언급하는 것이 맞다. 하지만 1번의 경우 아래서 설명할 예외 처리 등으로 취급이 가능하다.<br>2~3번 문제도 아래 오류 코드 문제의 확장선이라 생각한다. (ex. 성공: <code>0</code>, 실패: <code>-1</code>, 변동사항 없음: <code>1</code>)</p></li></ol><h2 id=오류-코드보다-예외를-사용하라>오류 코드보다 예외를 사용하라</h2><p>앞서 출력 인수 부분에서 언급했듯, C/C++의 경우는 예외 처리에 대한 오버헤드가 큰 편이라 오류 코드 반환을 사용하는 방식을 선호하지만, Java의 경우 예외 처리를 통한 방식이 일반적으로 사용된다. 물론 책은 Java 위주로 서술하기 때문에 무조건 예외 처리를 선호하는 방향으로 설명한다.</p><p>C의 경우 아예 예외 처리 방식을 언어적으로 지원하지 않기 때문에, API상 문제가 되는 부분이 몇가지 있다. 멀티쓰레딩이 일반화 되기 전에는 <a href=https://man7.org/linux/man-pages/man3/errno.3.html><code>errno</code></a> 변수를 사용해 최근 오류 정보를 저장했는데, 멀티쓰레딩이 일반화되면서 각 쓰레드에서 발생한 오류가 덮어써져서 동기화 문제가 발생할 수도 있다.</p><p><a href=https://www.kernel.org/doc/html/latest/process/coding-style.html#function-return-values-and-names>커널의 경우에는 함수의 성공 여부에 오류 코드를 반환하고, 원래 함수의 반환 값을 출력 인수로 전달하는 방식으로 함수를 구성한다.</a></p><h3 id=trycatch-블록-뽑아내기>Try/Catch 블록 뽑아내기</h3><p>사실 내가 예외 처리를 가장 기피하는 이유는 이 <code>try</code>/<code>catch</code> 블록의 더러움이다. 예외 발생을 잡기 위해 <code>try</code> 블록으로 묶어야 하고, <code>catch</code> 블록에서 예외 처리 작업을 해야 한다는 점이 마음에 들지 않는다. 필요 이상으로 들여쓰기를 유도하게 되고, <code>catch</code>에서도 적합한 예외 처리보단 기계적으로 로그 정도만 찍고 끝나는 점이 마음에 안든다.</p><p>책에서도 <code>try</code>/<code>catch</code> 블록이 코드를 더럽게 만드는 점을 동의하고 있으며, 이 블록 들여쓰기 상에 생기는 더러움을 최소화 하기 위해 <code>try</code>문에서 시도하는 부분도 함수로 추출하고, <code>catch</code>에서 처리하는 코드도 함수로 추출하는 방법을 제안하고 있다.</p><div id=4289586a89685213 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">try-catch 블록을 그대로 사용하는 코드</button>
<button class=codetab__link aria-label="Tab link">try-catch 블록의 내용을 다른 함수로 추출하는 코드</button></div><div id=892b6c25a3493bfa class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>delete</span><span class=o>(</span><span class=n>Page</span> <span class=n>page</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>deletePage</span><span class=o>(</span><span class=n>page</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>registry</span><span class=o>.</span><span class=na>deleteReference</span><span class=o>(</span><span class=n>page</span><span class=o>.</span><span class=na>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>configKeys</span><span class=o>.</span><span class=na>deleteKey</span><span class=o>(</span><span class=n>page</span><span class=o>.</span><span class=na>name</span><span class=o>.</span><span class=na>makeKey</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>logger</span><span class=o>.</span><span class=na>log</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>getMessage</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div><div id=0aac28e6ce1a24b4 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>delete</span><span class=o>(</span><span class=n>Page</span> <span class=n>page</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>deletePageAndAllReferences</span><span class=o>(</span><span class=n>page</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>logError</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>void</span> <span class=nf>deletePageAndAllReferences</span><span class=o>(</span><span class=n>Page</span> <span class=n>page</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>deletePage</span><span class=o>(</span><span class=n>page</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>registry</span><span class=o>.</span><span class=na>deleteReference</span><span class=o>(</span><span class=n>page</span><span class=o>.</span><span class=na>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>configKeys</span><span class=o>.</span><span class=na>deleteKey</span><span class=o>(</span><span class=n>page</span><span class=o>.</span><span class=na>name</span><span class=o>.</span><span class=na>makeKey</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>private</span> <span class=kt>void</span> <span class=nf>logError</span><span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>logger</span><span class=o>.</span><span class=na>log</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>getMessage</span><span class=o>());</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"4289586a89685213"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><h3 id=오류-처리도-한-가지-작업이다>오류 처리도 한 가지 작업이다</h3><p>위에서 설명한 <code>catch</code> 블록의 예외 처리 과정도 하나의 작업이라는 것이다. 그러므로 함수는 한 가지 일만 해야하니, 예외 처리 과정을 하나의 함수로 추출해야 한다고 한다.</p><p>게다가 위 주장의 확장으로, 한 함수에서는 <code>try</code>문이 한 번만 등장하는 것이 좋다고 한다. 논리적으로 틀린 이야기는 아닌 것 같은데, 너무 많은 함수 추출로 코드가 복잡해 지진 않을까 의문이 들긴 한다.</p><h3 id=errorjava-의존성-자석>Error.java 의존성 자석</h3><p>예외를 처리하지 않고, 오류 코드를 사용하다 보면 오류의 종류에 따라 오류 코드를 선언해야 하고, 결국 오류 코드들을 선언한 (선언할) <code>Error.java</code> 파일에 점점 의존성이 추가될 것이라는 것이다. 간접적으로 SOLID의 단일 책임 원칙을 위반할 가능성이 높다 해석할 수 있다.</p><h2 id=반복하지-마라>반복하지 마라</h2><p>3장 초반의 코드를 보면 <code>SetUp</code>, <code>SuiteSetUp</code>, <code>TearDown</code>, <code>SuiteTearDown</code>과 같이 4개에 대한 <code>WikiPage</code> 존재 여부를 확인하고, <code>buffer</code>에 넣는 과정이 반복된다. 하지만 코드의 흐름이 완벽하게 동일한 형태로 반복되지 않기 때문에 함수로 추출해야 한다는 생각을 하기 힘들 수도 있다. (책에서는 결국 해당 부분을 클래스로 추출한 예시를 보여주긴 하는데, 중요한 예시 코드는 아닌 것 같아 생략한다.)</p><p>만약 중간에 <code>TestSetUp</code>, <code>TestTearDown</code> 같은 <code>WikiPage</code> 처리가 추가된다면 이전의 코드를 바탕으로 새로 복사해 넣어야 할 것이다. 이렇게 복사하는 과정에서 수정해야 할 부분을 누락하면 버그가 발생하기 마련이다. (<code>"!include -setup"</code> 과 같이 옵션을 그대로 두거나, <code>buffer.append(setupPathName)</code> 처럼 인자를 변경하지 않는 등) 코드를 짤 때는 편의를 위해 급하게 <strong>복사-붙여넣기</strong>를 하지만, 본인도 모르게 위험한 행동을 하는 것이다. 책에서 언급하듯, 중복 문제를 해결하기 위해 여러 이론과 실무적 기법이 제안되었다. <a href=https://en.wikipedia.org/wiki/Database_normalization>데이터베이스 정규화</a>, 객체지향 프로그래밍 기법과 디자인 패턴 등 다양한 분야에서 여러 기법을 볼 수 있다.</p><h2 id=구조적-프로그래밍>구조적 프로그래밍</h2><p>길찾기 알고리즘으로 잘 알려져있고, 세마포어로도 유명한 <a href=https://ko.wikipedia.org/wiki/%EC%97%90%EC%B8%A0%ED%97%88%EB%A5%B4_%EB%8D%B0%EC%9D%B4%ED%81%AC%EC%8A%A4%ED%8A%B8%EB%9D%BC>에츠허르 데이크스트라</a>는 구조적 프로그래밍이란 규칙을 제안했는데, 함수/코드 블록의 시작점과 끝점을 하나로 만들라는 것이다. 즉, 함수의 <code>return</code>문은 제일 마지막에 하나만 있어야 하고, 반복문 내에 <code>continue</code>나 <code>break</code>를 사용하지 말라는 것이다. (<code>goto</code>는 당연히 사용하면 안된다.)</p><p>책에서는 함수를 작은 단위로 잘 작성할 수 있다면 구조적 프로그래밍의 장점보다 단점이 더 많아지므로 <strong>이런 접근법도 있다</strong> 정도로만 언급하고 따르지 않을 것을 권고하고 있다.</p><p>나도 이 의견에 동의하지만, 여기서 이야기 하는 <strong>구조적 프로그래밍</strong>의 생각과 비슷한 관점으로 <a href=https://www.misra.org.uk/>MISRA-C</a>의 <a href=https://rules.sonarsource.com/c/RSPEC-1005>비슷한 규칙</a>을 경험한 적이 있어 소개한다. 해당 규정은 <code>MISRA-C:2012 Rule 15.5</code>인데 해당 문서는 유료 문서이므로 원문을 첨부하는 대신 간단한 예시와 함께 설명하겠다.</p><p>보통 Java 등의 언어는 GC(Garbage Collection)가 지원되므로 자원할당(객체 생성)에 대한 해제 작업을 매번 명시적으로 해 줄 필요가 없다. (C++의 <code>delete</code>같은 명시적 자원 해제는 불가능하고, <code>System.gc()</code>같은 함수 호출로 GC 동작 시기를 앞당길 수 있는 것으로 알고있다.) 하지만 C나 C++의 경우 GC가 지원되지 않는 것이 일반적인데, 한 함수의 종료 지점(<code>return</code>)이 여러 곳으로 나뉠 경우, 모든 지점마다 자원 해제가 정상적으로 이뤄졌는지 잘 확인해야 한다. 함수의 종료 흐름을 하나로 통일함으로서 자원 해제에 대한 추적을 쉽게 하기 위해 이런 규칙이 작성되었다. (권고사항 수준의 규정이긴 하다.)</p><p>참고로 코드 상의 자원 관리는 직관적으로 변수에 대한 메모리 관리만 생각하겠지만, 그 외의 자원 관리도 필요하다. 다른 자원 관리의 대표적인 예시로 작업 쓰레드를 종료시키거나, 파일 입출력을 위해 열었던 파일을 닫는 등이 있을 것이다. 이런 자원 관리의 경우 명시적으로 수행되어야 하므로, 코드의 종료 흐름마다 관리하는 것 보다 한 곳으로 종료 흐름을 강제하는 것이 더 편리할 수도 있을 것이다.</p><p>참고로 Python의 경우 <a href=https://docs.python.org/3/reference/datamodel.html#context-managers><code>with</code> 키워드를 통해 객체/자원의 생명주기를 제한할 수 있고</a>, Go 언어의 경우 <a href=https://go.dev/blog/defer-panic-and-recover>함수의 종료 시에 처리될 코드를 <code>defer</code> 키워드를 통해 미리 선언할 수 있다.</a> 아래는 파일 입출력 이후 자원 반환을 간편하게 작성하는 코드의 예시다.</p><div id=1bd80dd126d1694f class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">Python의 with 키워드로 생명 주기 제한</button>
<button class=codetab__link aria-label="Tab link">Go의 defer 키워드를 통한 지연 호출</button></div><div id=25e52f20abd24666 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>read_log</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1># Start reading &#34;log.txt&#34; file</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;log.txt&#34;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># Do something #1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1># Early return condition</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>exception</span><span class=p>:</span>
</span></span><span class="line hl"><span class=cl>            <span class=c1># Early return will invoke f.close() internally</span>
</span></span><span class="line hl"><span class=cl>            <span class=k>return</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1># Do something #2</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl>        <span class=c1># At the end of with block, it internally calls f.close()</span>
</span></span><span class="line hl"><span class=cl>        <span class=c1># No need to explicitly close file</span>
</span></span><span class=line><span class=cl>    
</span></span><span class="line hl"><span class=cl>    <span class=c1># the &#34;log.txt&#34; file read done, it&#39;s closed.</span>
</span></span></code></pre></div></div><div id=db5b63d48d9f5784 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>read_log</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Start reading &#34;log.txt&#34; file
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>f</span><span class=p>,</span> <span class=nx>err</span> <span class=p>=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Open</span><span class=p>(</span><span class=s>&#34;log.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nf>painc</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>    <span class=c1>// At the end of current function, it will call f.Close()
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>    <span class=k>defer</span> <span class=nx>f</span><span class=p>.</span><span class=nf>Close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Do something #1
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>// Early return condition
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=nx>exception</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=c1>// f.Close() (deferred code) will invoked before end of current function
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>        <span class=k>return</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Do something #2
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl>    <span class=c1>// At the end of function, f.Close() (deferred code) will invoked
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"1bd80dd126d1694f"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><h2 id=함수를-어떻게-짜죠>함수를 어떻게 짜죠?</h2><p>함수 작성시 고려할만한 사항, 적절한 규칙들을 앞에서 많이 알아봤다.</p><p>책에서 설명하는 방식은 상향식 접근법(Bottom-up)에 가까운 것 같다. 함수를 먼저 의도대로 작성하고, 함수를 분리하고, 이름을 바꾸고, 중복을 제거한다는 것이다.</p><p>TDD 식으로 접근한다면 오히려 하향식 접근법(Top-down)으로 코드를 작성하게 될 것이라 생각한다. 한 함수 내부에서 이뤄져야 하는 일을 막연하게 순차적으로 정의하고, 그 함수 내부를 구현하는 방식으로 접근할 것이라 생각한다.</p><p>사실 어느 방법으로 접근하던, 위에서 봤던 규칙들이나, 그 철학을 반영하여 가독성을 높이는 것이 중요하다.</p></article><script defer src=/js/clipboard.min.1626706afc88d95ebe1173b553ec732c6dc82a576989315fdf5e7779af738a44.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script>"use strict";document.addEventListener("DOMContentLoaded",function(){var e=!1,t=document.querySelectorAll("pre.chroma"),n=document.querySelectorAll(".language-code"),s=document.querySelectorAll("div.language-\\$"),o=document.querySelectorAll("div.language-\\>"),i=function(t){var s,o,i,a,r,c,l,d=t,n=t.textContent;if(n.length>15){e||(a=new ClipboardJS(".copy-to-clipboard",{text:function(e){var t=prev(e).querySelectorAll("code");return t.length>1?n=prev(e).querySelector('code[class^="language-"]').textContent:n=prev(e).querySelector("code").textContent,n.replace(/^\$\s/gm,"")}}),a.on("success",function(e){e.clearSelection(),l=prop(e.trigger.parentNode,"tagName")=="PRE",e.trigger.setAttribute("aria-label","Copied to clipboard!"),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-w")}),a.on("error",function(e){l=prop(e.trigger.parentNode,"tagName")=="PRE",e.trigger.setAttribute("aria-label",e.action.toString()),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-w")}),e=!0),r=["language-mermaid","language-viz","language-wave","language-chart","language-msc","language-flowchart"],c=!1,s=d.getAttribute("class");for(o=0;o<r.length;o++)if(s&&s.startsWith(r[o])){c=!0;break}c||s&&(i=document.createElement("span"),i.setAttribute("class","copy-to-clipboard"),i.setAttribute("title","Copy to clipboard"),t.parentNode.parentNode.insertBefore(i,t.parentNode.nextElementSibling))}},a=function(e){var t=document.createElement("span");t.setAttribute("class","copy-to-clipboard"),t.setAttribute("title","Copy to clipboard"),e.parentNode.parentNode.insertBefore(t,e.parentNode.nextElementSibling)};t?t.forEach(function(e){e.querySelectorAll("code").forEach(function(e){i(e)})}):null,n?n.forEach(function(e){e.querySelectorAll("code").forEach(function(e){i(e)})}):null,s?s.forEach(function(e){e.querySelectorAll("code").forEach(function(e){a(e)})}):null,o?o.forEach(function(e){e.querySelectorAll("code").forEach(function(e){a(e)})}):null})</script><script>"use strict";function wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}(function(){var e=document.querySelector(".single__contents");e?e.querySelectorAll("pre > code").forEach(function(e){var t=e.getAttribute("data-lang"),n=document.createElement("div"),o=null,s=null;t&&t.includes(":")?(o=t.split(":")[0],s=t.split(":")[1],n.className="language-"+o,n.setAttribute("data-lang",s),e.className="language-"+o,e.setAttribute("data-lang",s),e.setAttribute("id",s)):t||(n.setAttribute("data-lang","Code"),n.className="language-code"),(!t||s)&&wrap(e.parentNode,n)}):null})();var langCodeElem=document.querySelectorAll(".language-code"),dollarCodeElem,gtCodeElem;langCodeElem?langCodeElem.forEach(function(e){var t=document.createElement("span");t.className="copy-to-clipboard",t.setAttribute("title","Copy to clipboard"),e.append(t)}):null,dollarCodeElem=document.querySelectorAll("div.language-\\$"),gtCodeElem=document.querySelectorAll("div.language-\\>"),dollarCodeElem?dollarCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="$<br/>"}):null}):null,gtCodeElem?gtCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="><br/>"}):null}):null</script><div class=whoami__gutter></div><hr class="hr-slash whoami-hr"><section class=whoami><div class=whoami__image-wrapper><img data-src=/images/whoami/avatar.jpg src="data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath fill='%23aaa' d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-4.44-6.19l-2.35 3.02-1.56-1.88c-.2-.25-.58-.24-.78.01l-1.74 2.23c-.26.33-.02.81.39.81h8.98c.41 0 .65-.47.4-.8l-2.55-3.39c-.19-.26-.59-.26-.79 0z'/%3E%3C/svg%3E" alt="JaeSang Yoo" class="lazyload whoami__image"></div><div class=whoami__contents><div class=whoami__written-by>글쓴이</div><div class=whoami__title>JaeSang Yoo</div><div class=whoami__desc>The Programmer</div><div class=whoami__social><a href=mailto:jsyoo5b@gmail.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/JSYoo5B title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=https://gitlab.com/jsyoo5b title=gitlab aria-label=gitlab><svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentcolor" d="M38.011719 4C37.574219 3.996094 37.183594 4.273438 37.046875 4.691406L32.074219 20H17.925781L12.953125 4.691406C12.820313 4.289063 12.449219 4.011719 12.023438 4 11.597656 3.992188 11.214844 4.25 11.0625 4.648438L5.070313 20.640625C5.066406 20.640625 5.066406 20.644531 5.0625 20.648438l-3 8c-.15625.421875-.015625.894531000000001.351563 1.160156L24.40625 45.800781 24.410156 45.808594C24.414063 45.808594 24.414063 45.808594 24.414063 45.8125 24.425781 45.820313 24.441406 45.828125 24.453125 45.835938 24.46875 45.84375 24.480469 45.855469 24.496094 45.863281 24.5 45.863281 24.5 45.867188 24.503906 45.867188 24.503906 45.867188 24.507813 45.871094 24.511719 45.871094 24.515625 45.875 24.519531 45.878906 24.527344 45.878906 24.53125 45.882813 24.539063 45.886719 24.542969 45.890625 24.5625 45.898438 24.585938 45.910156 24.609375 45.917969V45.921875C24.632813 45.929688 24.65625 45.9375 24.675781 45.945313 24.679688 45.945313 24.679688 45.945313 24.683594 45.949219 24.699219 45.953125 24.714844 45.957031 24.734375 45.964844 24.742188 45.964844 24.75 45.96875 24.761719 45.96875c0 .00390600000000063.0.00390600000000063.0.0C24.78125 45.976563 24.800781 45.980469 24.820313 45.984375 24.847656 45.988281 24.871094 45.992188 24.898438 45.996094 24.9375 45.996094 24.980469 46 25.019531 46 25.058594 45.996094 25.09375 45.996094 25.128906 45.988281 25.144531 45.988281 25.15625 45.988281 25.171875 45.984375c0 0 .00390600000000063.0.00781299999999874.0C25.1875 45.980469 25.191406 45.980469 25.199219 45.980469 25.203125 45.980469 25.207031 45.976563 25.214844 45.976563 25.222656 45.972656 25.234375 45.972656 25.242188 45.96875 25.257813 45.964844 25.269531 45.960938 25.28125 45.957031 25.289063 45.957031 25.292969 45.957031 25.296875 45.953125 25.300781 45.953125 25.304688 45.953125 25.308594 45.953125 25.324219 45.945313 25.34375 45.9375 25.359375 45.933594 25.378906 45.925781 25.394531 45.917969 25.410156 45.910156 25.414063 45.910156 25.414063 45.910156 25.417969 45.90625 25.421875 45.90625 25.425781 45.90625 25.429688 45.902344 25.4375 45.898438 25.445313 45.894531 25.453125 45.890625 25.476563 45.878906 25.496094 45.867188 25.515625 45.855469 25.523438 45.851563 25.527344 45.847656 25.53125 45.84375 25.535156 45.84375 25.539063 45.839844 25.542969 45.839844 25.558594 45.828125 25.574219 45.820313 25.589844 45.808594L25.597656 45.796875 47.589844 29.808594C47.953125 29.542969 48.09375 29.070313 47.9375 28.648438l-2.992187-7.972657C44.941406 20.667969 44.9375 20.65625 44.9375 20.648438l-6-16C38.789063 4.261719 38.425781 4.003906 38.011719 4zM8.066406 22h8.40625l5.855469 18.015625zm25.460938.0h8.40625L27.671875 40.015625zM6.3125 23.007813l13.375 16.894531L4.203125 28.640625zm37.375.0 2.109375 5.632812L30.3125 39.902344z"/></svg></a><a href=https://www.linkedin.com/in/JSYoo5B title=linkedin aria-label=linkedin><svg xmlns="http://www.w3.org/2000/svg" fill="#000" viewBox="0 0 30 30" width="25" height="25"><path fill="currentcolor" d="M24 4H6C4.895 4 4 4.895 4 6v18c0 1.105.895 2 2 2h18c1.105.0 2-.895 2-2V6c0-1.105-.895-2-2-2zM10.954 22h-2.95v-9.492h2.95V22zM9.449 11.151c-.951.0-1.72-.771-1.72-1.72s.77-1.719 1.72-1.719c.948.0 1.719.771 1.719 1.719C11.168 10.38 10.397 11.151 9.449 11.151zM22.004 22h-2.948v-4.616c0-1.101-.02-2.517-1.533-2.517-1.535.0-1.771 1.199-1.771 2.437V22h-2.948v-9.492h2.83v1.297h.04c.394-.746 1.356-1.533 2.791-1.533 2.987.0 3.539 1.966 3.539 4.522V22z"/></svg></a></div></div></section><hr class="hr-slash whoami-hr"><section class=related><h1 class=related__title><hr class=hr-dots><div>관련글</div><hr class=hr-dots></h1><ul class=related-ul><li><a href=/ko/posts/clean-code/ch02/ class=related__link>Clean Code 2장: "의미 있는 이름" 정리</a></li><li><a href=/ko/posts/clean-code/ch01/ class=related__link>Clean Code 1장: "깨끗한 코드" 정리</a></li></ul></section><div class=grow></div><nav class=pagination-single><a href=https://devlog.jsyoo5b.net/ko/posts/clean-code/ch02/ class=pagination-single__left><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03.0-1.42s-1.02-.39-1.41.0l-6.59 6.59c-.39.39-.39 1.02.0 1.41l6.59 6.59c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L7.83 13H19c.55.0 1-.45 1-1s-.45-1-1-1z"/></svg></div><div class=pagination-single__left-title>Clean Code 2장: "의미 있는 이름" 정리</div></a><div class=grow></div><a href=https://devlog.jsyoo5b.net/ko/posts/clean-code/ch04/ class=pagination-single__right><div class=pagination-single__right-title>Clean Code 4장: "주석" 정리</div><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03.0 1.42.39.39 1.02.39 1.41.0l6.59-6.59c.39-.39.39-1.02.0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41.0s-.39 1.02.0 1.41L16.17 11H5c-.55.0-1 .45-1 1s.45 1 1 1z"/></svg></div></a></nav><div id=utterances></div><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript><script>document.addEventListener("DOMContentLoaded",function(){function i(e,t){var n=e||t;return n==="dark"?"photon-dark":n==="hacker"?"photon-dark":n==="kimbie"?"github-dark-orange":"github-light"}try{var a=JSON.parse('"jsyoo5b"'),t=JSON.parse('"blog"'),n=JSON.parse('"dark"'),s=localStorage.getItem("theme"),o=i(s,n),e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo",`${a}/${t}`),e.setAttribute("issue-term","pathname"),e.setAttribute("theme",o),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),e.onload=function(){},document.getElementById("utterances").appendChild(e)}catch(e){console.log(e)}})</script><div id=comments-fallback class=viaemail><div class=utterances__message><a href=https://github.com/jsyoo5b/blog/issues/ target=_blank rel=noreferrer>&nbsp;</a></div></div><div class="modal micromodal-slide" id=modal aria-hidden=true><div class=modal__overlay tabindex=-1 data-micromodal-close><div class=modal__container role=dialog aria-modal=true aria-labelledby=modal-title><div class=modal__content id=modal-content><div id=mySwipe class=swipe><div class=swipe-wrap></div></div></div><span class=modal__items><span class=modal__header><div class=modal__paging title="Page Info" aria-label="Current Page"></div><div class="modal__icon modal__toolbar modal__toolbar--close" title=Close aria-label="Close Button" data-micromodal-close><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="25" height="25"><path fill="currentcolor" d="M21.734375 19.640625l-2.097656 2.09375C19.253906 22.121094 18.628906 22.121094 18.242188 21.734375L13 16.496094 7.761719 21.734375C7.375 22.121094 6.746094 22.121094 6.363281 21.734375l-2.097656-2.09375c-.386719-.386718999999999-.386719-1.011719.0-1.398437L9.503906 13 4.265625 7.761719c-.382812-.390625-.382812-1.019531.0-1.398438L6.363281 4.265625C6.746094 3.878906 7.375 3.878906 7.761719 4.265625L13 9.507813l5.242188-5.242188c.386718000000002-.386719 1.015625-.386719 1.394531.0l2.097656 2.09375C22.121094 6.746094 22.121094 7.375 21.738281 7.761719L16.496094 13l5.238281 5.242188C22.121094 18.628906 22.121094 19.253906 21.734375 19.640625z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--full" title="Full Screen" aria-label="Full Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25"><path fill="currentcolor" d="M5 3C3.9069372 3 3 3.9069372 3 5V8A1.0001 1.0001.0 105 8V5H8A1.0001 1.0001.0 108 3H5zM16 3a1.0001 1.0001.0 100 2h3V8a1.0001 1.0001.0 102 0V5C21 3.9069372 20.093063 3 19 3H16zM3.984375 14.986328A1.0001 1.0001.0 003 16v3c0 1.093063.9069372 2 2 2H8a1.0001 1.0001.0 100-2H5V16A1.0001 1.0001.0 003.984375 14.986328zm16 0A1.0001 1.0001.0 0019 16v3H16a1.0001 1.0001.0 100 2h3C20.093063 21 21 20.093063 21 19V16a1.0001 1.0001.0 00-1.015625-1.013672z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--normal" title="Normal Screen" aria-label="Normal Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentcolor" d="M16.96875 4.972656C15.867188 4.988281 14.984375 5.894531 15 7v8H7C6.277344 14.988281 5.609375 15.367188 5.246094 15.992188 4.878906 16.613281 4.878906 17.386719 5.246094 18.007813 5.609375 18.632813 6.277344 19.011719 7 19H19V7C19.007813 6.460938 18.796875 5.941406 18.414063 5.558594 18.03125 5.175781 17.511719 4.964844 16.96875 4.972656zm16 0c-1.046875.015625-1.90625.839844-1.964844 1.886719C31 6.90625 31 6.953125 31 7V19H43C43.066406 19 43.132813 19 43.199219 18.992188 44.269531 18.894531 45.070313 17.972656 45.015625 16.902344 44.964844 15.828125 44.074219 14.988281 43 15H35V7C35.007813 6.460938 34.796875 5.941406 34.414063 5.558594 34.03125 5.175781 33.511719 4.964844 32.96875 4.972656zM7 31C6.277344 30.988281 5.609375 31.367188 5.246094 31.992188 4.878906 32.613281 4.878906 33.386719 5.246094 34.007813 5.609375 34.632813 6.277344 35.011719 7 35h8v8C14.988281 43.722656 15.367188 44.390625 15.992188 44.753906 16.613281 45.121094 17.386719 45.121094 18.007813 44.753906 18.632813 44.390625 19.011719 43.722656 19 43V31zm24 0V43C30.988281 43.722656 31.367188 44.390625 31.992188 44.753906 32.613281 45.121094 33.386719 45.121094 34.007813 44.753906 34.632813 44.390625 35.011719 43.722656 35 43V35h8C43.722656 35.011719 44.390625 34.632813 44.753906 34.007813 45.121094 33.386719 45.121094 32.613281 44.753906 31.992188 44.390625 31.367188 43.722656 30.988281 43 31z"/></svg></div></span><div class="modal__icon modal__arrow modal__arrow--left" title="Arrow Left" aria-label="Arrow Left Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M23.28125 11 10 10V6.851563C10 6.523438 9.839844 6.277344 9.519531 6.03125 9.199219 5.949219 8.878906 5.949219 8.640625 6.113281c-3.28125 2.296875-6.402344 6.144532-6.480469 6.308594-.078125.15625-.152343.390625-.15625.554688000000001C2.003906 12.980469 2 12.988281 2 12.992188 2 13.15625 2.078125 13.402344 2.160156 13.484375 2.238281 13.648438 5.28125 17.507813 8.640625 19.804688 8.960938 19.96875 9.28125 20.050781 9.519531 19.886719 9.839844 19.722656 10 19.476563 10 19.148438V16l13.28125-1C23.679688 14.679688 24 13.875 24 12.992188 24 12.195313 23.761719 11.320313 23.28125 11z"/></svg></div><div class="modal__icon modal__arrow modal__arrow--right" title="Arrow Right" aria-label="Arrow Right Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M2.71875 11.023438l13.28125-1V6.875C16 6.546875 16.160156 6.300781 16.480469 6.054688 16.800781 5.972656 17.121094 5.972656 17.359375 6.136719c3.28125 2.296875 6.402344 6.144531 6.480469 6.308594.078125.15625.152343999999999.390625.15625.554687C23.996094 13.003906 24 13.011719 24 13.015625 24 13.179688 23.921875 13.425781 23.839844 13.507813 23.761719 13.671875 20.71875 17.53125 17.359375 19.828125 17.039063 19.992188 16.71875 20.074219 16.480469 19.910156 16.160156 19.746094 16 19.5 16 19.171875V16.023438L2.71875 15.023438C2.320313 14.703125 2 13.898438 2 13.015625c0-.796875.238281-1.671875.71875-1.992187z"/></svg></div><div class=modal__caption><div class=modal__caption--text></div></div></span></div></div></div><script defer src=/js/swipe.min.feb438efb7ca009ecd7fc2ac3ad2fced4840990b2798d81f87137f2dc6281f05.js></script>
<script defer src=/js/micromodal.min.de01b44b2f383056bbcaf6ee921fd385d79108ec1129afd0eb2f3f5a07e11f45.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){var e,t,n,o,i,a,r,c,l,d,u,h,f,p,g,v,b,s=document.documentElement;function j(){s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}function m(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}c=document.getElementById("modal"),i=document.querySelector(".gallery__container"),v=document.querySelector(".swipe-wrap"),b=document.getElementById("mySwipe"),u=document.querySelector(".modal__arrow--left"),f=document.querySelector(".modal__arrow--right"),h=document.querySelector(".modal__toolbar--close"),t=document.querySelector(".modal__toolbar--full"),n=document.querySelector(".modal__toolbar--normal"),r=document.querySelector(".modal__caption"),d=document.querySelector(".modal__paging"),o=document.querySelector(".modal__items"),a=null,l=null,e=null,p=function(t){t.key==="ArrowRight"?c&&c.classList.contains("is-open")&&e.next():t.key==="ArrowLeft"&&c&&c.classList.contains("is-open")&&e.prev()},i?a=i.querySelectorAll("img").length:(i=document.querySelector(".single__contents"),a=i.querySelectorAll("img").length),MicroModal.init({onClose:function(){e&&(e.kill(),e=null,m()),window.removeEventListener("keydown",p)},disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!1,awaitCloseAnimation:!1,debugMode:!1}),g=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){t(s)},s.onerror=n,s.src=e})},i.querySelectorAll("img").forEach(function(s,i){s.style.cursor="pointer";var c,u=s.cloneNode(!0);u.style.maxHeight="100%",u.style.maxWidth="100%",u.onclick=function(e){e.stopPropagation()},c=document.createElement("div"),c.style.width="100%",c.style.height="100vh",c.setAttribute("data-micromodal-close",""),c.onclick=function(){e&&(e.kill(),e=null)},c.onmouseenter=function(){clearTimeout(l),fadeIn(o,200)},c.onmouseleave=function(){l=setTimeout(function(){fadeOut(o,200)},2500)},c.ontouchstart=function(){fadeIn(o,200)},c.append(u),v.append(c),s.addEventListener("click",async function(s){MicroModal.show("modal"),e&&(e.kill(),e=null);var c,m=s.target.getAttribute("data-src")||s.target.getAttribute("src"),h=await g(m);u.style.width=h.width+"px",u.style.height=h.height+"px",e=new Swipe(b,{startSlide:i,draggable:!0,autoRestart:!1,continuous:!1,disableScroll:!0,stopPropagation:!0,callback:async function(e,t){var s,n=t.querySelector("img"),c=n.getAttribute("data-src")||n.getAttribute("src"),i=await g(c);n.style.width=i.width+"px",n.style.height=i.height+"px",r&&n&&(s=null,n.getAttribute("data-caption")?s=n.getAttribute("data-caption"):n.getAttribute("title")?s=n.getAttribute("title"):n.getAttribute("alt")?s=n.getAttribute("alt"):s=n.getAttribute("src"),r.querySelector(".modal__caption--text").innerText=s,d.innerText=e+1+" / "+a,clearTimeout(l),fadeIn(o,200))}}),fadeIn(o),r&&(c=null,s.target.getAttribute("data-caption")?c=s.target.getAttribute("data-caption"):s.target.getAttribute("title")?c=s.target.getAttribute("title"):s.target.getAttribute("alt")?c=s.target.getAttribute("alt"):c=s.target.getAttribute("src"),r.querySelector(".modal__caption--text").innerText=c,d.innerText=i+1+" / "+a),n&&t&&(n.style.zIndex=-1,n.style.opacity=0,t.style.zIndex=25,t.style.opacity=1)}),window.addEventListener("keydown",p)}),u?u.addEventListener("click",function(){e&&e.prev()}):null,f?f.addEventListener("click",function(){e&&e.next()}):null,h?h.addEventListener("click",function(){e&&(e.kill(),e=null),m(),MicroModal.close("modal")}):null,t?t.addEventListener("click",function(){j(),n&&(n.style.zIndex=25,n.style.opacity=1,t.style.zIndex=-1,t.style.opacity=0)}):null,n?n.addEventListener("click",function(){m(),t&&(t.style.zIndex=25,t.style.opacity=1,n.style.zIndex=-1,n.style.opacity=0)}):null})</script><div class=hide></div></div></main><script>var enableToc=JSON.parse("true"),toc=JSON.parse("null"),tocPosition=JSON.parse('"outer"'),singleMainElem=document.querySelector(".single__main"),singleSideElem=document.querySelector(".single__side");enquire.register("screen and (max-width: 769px)",{match:function(){(enableToc||toc)&&tocPosition!=="outer"?singleMainElem&&singleSideElem&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main"),singleSideElem.classList.remove("main-side"),singleSideElem.classList.add("hide")):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains("main-main")&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main")),singleSideElem&&!singleSideElem.classList.contains("hide")&&singleSideElem.classList.add("hide"))},unmatch:function(){(enableToc||toc)&&tocPosition!=="outer"?(singleMainElem.classList.remove("main"),singleMainElem.classList.add("main-main"),singleSideElem.classList.remove("hide"),singleSideElem.classList.add("main-side")):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains("main-main")&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main")),singleSideElem&&!singleSideElem.classList.contains("hide")&&singleSideElem.classList.add("hide"));var t=document.querySelector(".navbar__burger"),e=document.getElementsByClassName("navbarm__collapse")[0];e&&(e.setAttribute("data-open",!1),e.style.maxHeight=0,t.classList.remove("is-active")),document.getElementsByClassName("navbar__menu")[0].classList.remove("is-active"),document.getElementsByClassName("mobile-search")[0].classList.add("hide")},setup:function(){},deferSetup:!0,destroy:function(){}})</script><script defer src=/js/helper/getParents.min.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script defer src=/js/helper/throttle.min.js></script>
<script>"use strict";window.onload=function(){var e,t,n,s,o,i,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,F,T,z,D,N,H,a=document.querySelector(".navbar"),P=document.querySelector(".single__contents"),R=JSON.parse("null"),L=JSON.parse("null");R&&L&&(y=document.querySelector("#busuanzi_value_page_pv"),y.textContent=y.textContent.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),S=JSON.parse("true"),z=JSON.parse("null"),D=JSON.parse("true"),d=document.querySelector(".toc__flexbox"),u=document.querySelector(".toc__flexbox--outer"),x=JSON.parse("true"),(S||z)&&document.querySelector(".toc")&&(i=document.querySelector(".toc").querySelector("#TableOfContents"),i.onmouseenter=function(){a.classList.contains("scrolling")&&a.classList.remove("scrolling")},i.onmouseleave=function(){a.classList.contains("scrolling")||a.classList.add("scrolling")},!1===x||(i.querySelectorAll("ul")?i.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),i&&(i.querySelectorAll("a").length>0?i.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){var t,n=e.getAttribute("id");a.classList.contains("scrolling")||(a.classList.remove("navbar--show"),a.classList.remove("navbar--hide"),a.classList.add("navbar--hide")),document.querySelector(".toc").querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),e.classList.add("active"),t=i.querySelector('[href="#'+n+'"]'),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),t&&(getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null)})}):(d&&(d.setAttribute("data-position",""),d.classList.contains("hide")||d.classList.add("hide")),u&&(u.setAttribute("data-position",""),u.classList.contains("hide")||u.classList.add("hide")))),b=document.getElementById("toggle-toc"),v=document.getElementById("visible-toc"),s=document.querySelector(".toc"),o=document.querySelector("main"),l=document.querySelector("side"),c=document.querySelector(".toc__flexbox"),b?b.addEventListener("change",function(e){e.target.checked?(s&&fadeIn(s,200),c&&c.setAttribute("data-position","fixed"),o&&(o.classList.remove("main-main"),o.classList.remove("main"),o.classList.add("main-main")),l&&l.classList.remove("main-side")):(s&&fadeOut(s,200),c&&c.setAttribute("data-position","absolute"),o&&(o.classList.remove("main-main"),o.classList.remove("main"),o.classList.add("main")),l&&l.classList.remove("main-side"))}):null,v?v.addEventListener("change",function(e){e.target.checked?s&&fadeIn(s,200):s&&fadeOut(s,200)}):null),C=120,M=70,A=function(){s&&(s.style.maxHeight=window.innerHeight-C-M+"px")},w=throttle(A,300),w(),window.addEventListener("resize",w),E=new ClipboardJS(".anchor"),j=P.querySelectorAll("h1, h2, h3, h4"),F=JSON.parse('"ltr"'),j?j.forEach(function(e){var t,s=parseInt(e.tagName.substr(1),10)*2,o=encodeURI(document.location.origin+document.location.pathname),i=o+"#"+e.getAttribute("id"),n=document.createElement("span");n.classList.add("anchor"),n.classList.add("hide"),n.setAttribute("data-clipboard-text",decodeURI(i)),n.style.position="relative",t=document.createElement("span"),t.style.position="absolute",t.style.top="50%",t.style.left="0.75rem",t.style.transform="translateY(-50%)",t.innerHTML=`
<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${32-s}px" height="${32-s}px"><path d="M 5.5625 0 C 4.136719 0 2.707031 0.542969 1.625 1.625 C -0.539063 3.789063 -0.539063 7.335938 1.625 9.5 L 5.28125 13.15625 C 5.667969 13.554688 6.304688 13.558594 6.703125 13.171875 C 7.101563 12.785156 7.105469 12.148438 6.71875 11.75 L 3.03125 8.0625 C 1.632813 6.664063 1.632813 4.429688 3.03125 3.03125 C 4.429688 1.632813 6.664063 1.632813 8.0625 3.03125 L 12.96875 7.9375 C 14.367188 9.335938 14.367188 11.570313 12.96875 12.96875 C 12.804688 13.132813 12.621094 13.25 12.4375 13.375 C 11.980469 13.6875 11.859375 14.308594 12.171875 14.765625 C 12.484375 15.222656 13.105469 15.34375 13.5625 15.03125 C 13.847656 14.835938 14.125 14.625 14.375 14.375 C 16.539063 12.210938 16.539063 8.664063 14.375 6.5 L 9.5 1.625 C 8.417969 0.542969 6.988281 0 5.5625 0 Z M 10.78125 8.875 C 10.738281 8.882813 10.695313 8.894531 10.65625 8.90625 C 10.507813 8.9375 10.371094 9 10.25 9.09375 C 10.039063 9.253906 9.820313 9.429688 9.625 9.625 C 7.460938 11.789063 7.460938 15.335938 9.625 17.5 L 14.5 22.375 C 16.664063 24.539063 20.210938 24.539063 22.375 22.375 C 24.539063 20.210938 24.539063 16.664063 22.375 14.5 L 18.71875 10.875 C 18.476563 10.578125 18.089844 10.441406 17.714844 10.527344 C 17.34375 10.613281 17.050781 10.90625 16.964844 11.277344 C 16.878906 11.652344 17.015625 12.039063 17.3125 12.28125 L 20.96875 15.9375 C 22.367188 17.335938 22.367188 19.570313 20.96875 20.96875 C 19.570313 22.367188 17.335938 22.367188 15.9375 20.96875 L 11.03125 16.0625 C 9.632813 14.664063 9.632813 12.429688 11.03125 11.03125 C 11.152344 10.90625 11.300781 10.820313 11.4375 10.71875 C 11.839844 10.472656 12.015625 9.976563 11.855469 9.53125 C 11.699219 9.085938 11.25 8.8125 10.78125 8.875 Z"/></svg>`,F==="rtl"?t.style.left="-2rem":t.style.right="-2rem",n.append(t),e.append(n),e.addEventListener("mouseenter",function(){this.querySelector(".anchor").classList.remove("hide")}),e.addEventListener("mouseleave",function(){this.querySelector(".anchor").classList.add("hide")})}):null,document.querySelectorAll(".anchor").forEach(function(e){e.addEventListener("mouseleave",function(){e.setAttribute("aria-label",null),e.classList.remove("tooltipped"),e.classList.remove("tooltipped-s"),e.classList.remove("tooltipped-w")})}),E.on("success",function(e){e.clearSelection(),e.trigger.setAttribute("aria-label","Link copied to clipboard!"),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-s")}),t=JSON.parse("null"),t&&t.includes("mermaid")&&(O=localStorage.getItem("theme")||JSON.parse('"dark"'),O==="dark"||O==="hacker"?mermaid.initialize({theme:"dark"}):mermaid.initialize({theme:"default"}),_=[],[].push.apply(_,document.getElementsByClassName("language-mermaid")),_.forEach(function(e){var n,t=e.parentNode;t!==document.body&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)),n=document.createElement("div"),n.classList.add("mermaid"),n.style.padding="34px 4px 6px",n.innerHTML=e.innerHTML,e.replaceWith(n)})),t&&t.includes("katex")&&(N=document.getElementsByClassName("math"),r={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]},renderMathInElement(document.querySelector(".single__contents"),r)),t&&t.includes("flowchartjs")&&(r=JSON.parse('{"arrow-end":"block","element-color":"black","fill":"white","flowstate":{"approved":{"fill":"#58C4A3","font-size":12,"no-text":"n/a","yes-text":"APPROVED"},"current":{"fill":"yellow","font-color":"red","font-weight":"bold"},"future":{"fill":"#FFFF99"},"invalid":{"fill":"#444444"},"past":{"fill":"#CCCCCC","font-size":12},"rejected":{"fill":"#C45879","font-size":12,"no-text":"REJECTED","yes-text":"n/a"},"request":{"fill":"blue"}},"font-color":"black","font-size":14,"line-color":"black","line-length":50,"line-width":3,"no-text":"no","scale":1,"symbols":{"end":{"class":"end-element"},"start":{"element-color":"green","fill":"yellow","font-color":"red"}},"text-margin":10,"x":0,"y":0,"yes-text":"yes"}'),n=null,T="language-flowchart",e=0,Array.prototype.forEach.call(document.querySelectorAll("[class^="+T+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var o,s=document.createElement("div");s.id="flowchart"+e,t.parentNode.insertBefore(s,t),o=flowchart.parse(n),o.drawSVG("flowchart"+e,r),e+=1})),document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"}),t&&t.includes("msc")&&(r=JSON.parse('{"theme":"hand"}'),n=null,e=0,h="language-msc",Array.prototype.forEach.call(document.querySelectorAll("[class^="+h+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var o,s=document.createElement("div");s.id="msc"+e,t.parentNode.insertBefore(s,t),o=Diagram.parse(n),o.drawSVG("msc"+e,r),e+=1})),t&&t.includes("chart")&&(m="#666",f="#ddd",p=2,Chart.defaults.global.elements.rectangle.borderWidth=p,Chart.defaults.global.elements.rectangle.borderColor=m,Chart.defaults.global.elements.rectangle.backgroundColor=f,Chart.defaults.global.elements.line.borderWidth=p,Chart.defaults.global.elements.line.borderColor=m,Chart.defaults.global.elements.line.backgroundColor=f,Chart.defaults.global.elements.point.borderWidth=p,Chart.defaults.global.elements.point.borderColor=m,Chart.defaults.global.elements.point.backgroundColor=f,h="language-chart",e=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+h+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var i,a,s=document.createElement("canvas"),o=null;s.height=200,s.style.height=200,s.id="myChart"+e,o=JSON.parse(n),t.parentNode.insertBefore(s,t),i=document.getElementById("myChart"+e).getContext("2d"),a=new Chart(i,o),e+=1})),t&&t.includes("wavedrom")&&(k="language-wave",e=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+k+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var s=document.createElement("div"),o=null;s.id="WaveDrom_Display_"+e,o=JSON.parse(n),t.parentNode.insertBefore(s,t),WaveDrom.RenderWaveForm(e,o,"WaveDrom_Display_"),e+=1})),t&&t.includes("viz")&&(g="language-viz-",Array.prototype.forEach.call(document.querySelectorAll("[class^="+g+"]"),function(e){e.style.display="none",e.parentNode.style.backgroundColor="transparent",e.getAttribute("class").split(" ").forEach(function(e){e.startsWith(g)&&(t=e.substr(g.length))});var t,n=new Viz;n.renderSVGElement(e.innerText,{engine:t}).then(function(t){t.style.width="100%",e.parentNode.insertBefore(t,e)})}))}</script><footer class=footer><div class=dropdown><button class=dropdown-trigger aria-label="Select Language Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06.03-.03c1.74-1.94 2.98-4.17 3.71-6.53h1.94c.54.0.99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54.0-.99.45-.99.99.0.55.45.99.99.99h10.18C11.5 7.92 10.44 9.75 9 11.35c-.81-.89-1.49-1.86-2.06-2.88-.16-.29-.45-.47-.78-.47-.69.0-1.13.75-.79 1.35.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87c-.4.39-.4 1.03.0 1.42.39.39 1.02.39 1.42.0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6.0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26.39.0.74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61.65.0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7 1.62-4.33L19.12 17h-3.24z"/></svg></button><div class=dropdown-content><a href=https://devlog.jsyoo5b.net/ko/posts/clean-code/ch03/ data-lang=ko class="dropdown-item is-active">한국어</a></div></div><div class=footer__social><div class=social><a href=mailto:jsyoo5b@gmail.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/JSYoo5B title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=https://gitlab.com/jsyoo5b title=gitlab aria-label=gitlab><svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="32" height="32"><path fill="currentcolor" d="M38.011719 4C37.574219 3.996094 37.183594 4.273438 37.046875 4.691406L32.074219 20H17.925781L12.953125 4.691406C12.820313 4.289063 12.449219 4.011719 12.023438 4 11.597656 3.992188 11.214844 4.25 11.0625 4.648438L5.070313 20.640625C5.066406 20.640625 5.066406 20.644531 5.0625 20.648438l-3 8c-.15625.421875-.015625.894531000000001.351563 1.160156L24.40625 45.800781 24.410156 45.808594C24.414063 45.808594 24.414063 45.808594 24.414063 45.8125 24.425781 45.820313 24.441406 45.828125 24.453125 45.835938 24.46875 45.84375 24.480469 45.855469 24.496094 45.863281 24.5 45.863281 24.5 45.867188 24.503906 45.867188 24.503906 45.867188 24.507813 45.871094 24.511719 45.871094 24.515625 45.875 24.519531 45.878906 24.527344 45.878906 24.53125 45.882813 24.539063 45.886719 24.542969 45.890625 24.5625 45.898438 24.585938 45.910156 24.609375 45.917969V45.921875C24.632813 45.929688 24.65625 45.9375 24.675781 45.945313 24.679688 45.945313 24.679688 45.945313 24.683594 45.949219 24.699219 45.953125 24.714844 45.957031 24.734375 45.964844 24.742188 45.964844 24.75 45.96875 24.761719 45.96875c0 .00390600000000063.0.00390600000000063.0.0C24.78125 45.976563 24.800781 45.980469 24.820313 45.984375 24.847656 45.988281 24.871094 45.992188 24.898438 45.996094 24.9375 45.996094 24.980469 46 25.019531 46 25.058594 45.996094 25.09375 45.996094 25.128906 45.988281 25.144531 45.988281 25.15625 45.988281 25.171875 45.984375c0 0 .00390600000000063.0.00781299999999874.0C25.1875 45.980469 25.191406 45.980469 25.199219 45.980469 25.203125 45.980469 25.207031 45.976563 25.214844 45.976563 25.222656 45.972656 25.234375 45.972656 25.242188 45.96875 25.257813 45.964844 25.269531 45.960938 25.28125 45.957031 25.289063 45.957031 25.292969 45.957031 25.296875 45.953125 25.300781 45.953125 25.304688 45.953125 25.308594 45.953125 25.324219 45.945313 25.34375 45.9375 25.359375 45.933594 25.378906 45.925781 25.394531 45.917969 25.410156 45.910156 25.414063 45.910156 25.414063 45.910156 25.417969 45.90625 25.421875 45.90625 25.425781 45.90625 25.429688 45.902344 25.4375 45.898438 25.445313 45.894531 25.453125 45.890625 25.476563 45.878906 25.496094 45.867188 25.515625 45.855469 25.523438 45.851563 25.527344 45.847656 25.53125 45.84375 25.535156 45.84375 25.539063 45.839844 25.542969 45.839844 25.558594 45.828125 25.574219 45.820313 25.589844 45.808594L25.597656 45.796875 47.589844 29.808594C47.953125 29.542969 48.09375 29.070313 47.9375 28.648438l-2.992187-7.972657C44.941406 20.667969 44.9375 20.65625 44.9375 20.648438l-6-16C38.789063 4.261719 38.425781 4.003906 38.011719 4zM8.066406 22h8.40625l5.855469 18.015625zm25.460938.0h8.40625L27.671875 40.015625zM6.3125 23.007813l13.375 16.894531L4.203125 28.640625zm37.375.0 2.109375 5.632812L30.3125 39.902344z"/></svg></a><a href=https://www.linkedin.com/in/JSYoo5B title=linkedin aria-label=linkedin><svg xmlns="http://www.w3.org/2000/svg" fill="#000" viewBox="0 0 30 30" width="32" height="32"><path fill="currentcolor" d="M24 4H6C4.895 4 4 4.895 4 6v18c0 1.105.895 2 2 2h18c1.105.0 2-.895 2-2V6c0-1.105-.895-2-2-2zM10.954 22h-2.95v-9.492h2.95V22zM9.449 11.151c-.951.0-1.72-.771-1.72-1.72s.77-1.719 1.72-1.719c.948.0 1.719.771 1.719 1.719C11.168 10.38 10.397 11.151 9.449 11.151zM22.004 22h-2.948v-4.616c0-1.101-.02-2.517-1.533-2.517-1.535.0-1.771 1.199-1.771 2.437V22h-2.948v-9.492h2.83v1.297h.04c.394-.746 1.356-1.533 2.791-1.533 2.987.0 3.539 1.966 3.539 4.522V22z"/></svg></a><a href=https://devlog.jsyoo5b.net/ko/posts/index.xml type=application/rss+xml title=RSS aria-label="RSS Feed Link"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle fill="currentcolor" cx="6.18" cy="17.82" r="2.18"/><path fill="currentcolor" d="M5.59 10.23c-.84-.14-1.59.55-1.59 1.4.0.71.53 1.28 1.23 1.4 2.92.51 5.22 2.82 5.74 5.74.12.7.69 1.23 1.4 1.23.85.0 1.54-.75 1.41-1.59-.68-4.2-3.99-7.51-8.19-8.18zm-.03-5.71C4.73 4.43 4 5.1 4 5.93c0 .73.55 1.33 1.27 1.4 6.01.6 10.79 5.38 11.39 11.39.07.73.67 1.28 1.4 1.28.84.0 1.5-.73 1.42-1.56-.73-7.34-6.57-13.19-13.92-13.92z"/></svg></a></div></div><div id=gtt><div class=gtt><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 14.71 12 10.83l3.88 3.88c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41.0L6.7 13.3c-.39.39-.39 1.02.0 1.41.39.38 1.03.39 1.42.0z"/></svg></div></div><hr><div class="basicflex flexwrap"></div><div class=footer__poweredby><p class=caption>©2023, All Rights Reserved</p><p class=caption>Powered by <a href=https://gohugo.io/ target=_blank rel=noreferrer>Hugo</a> and the <a href=https://github.com/zzossig/hugo-theme-zzo target=_blank rel=noreferrer>Zzo theme</a></p></div></footer></div><div class="wrapper__right hide" data-pad=true dir=ltr><script>document.querySelector(".wrapper__right").classList.remove("hide")</script><div class=toc__flexbox--outer data-position=fixed data-dir=ltr data-ani=true><h6 class="toc__title toc__title--outer" data-ani=true>목차</h6><label class=switch data-ani=true><input id=visible-toc aria-label="Visible TOC" type=checkbox>
<span class="slider round"></span></label></div><div class="toc toc__outer hide" data-dir=ltr data-folding=true data-ani=true><nav id=TableOfContents><ul><li><a href=#작게-만들어라>작게 만들어라</a><ul><li><a href=#블록과-들여쓰기>블록과 들여쓰기</a></li></ul></li><li><a href=#한-가지만-해라>한 가지만 해라</a><ul><li><a href=#함수-내-섹션>함수 내 섹션</a></li></ul></li><li><a href=#함수-당-추상화-수준은-하나로>함수 당 추상화 수준은 하나로</a><ul><li><a href=#위에서-아래로-코드-읽기-내려가기-규칙>위에서 아래로 코드 읽기: 내려가기 규칙</a></li></ul></li><li><a href=#switch-문>Switch 문</a></li><li><a href=#서술적인-이름을-사용하라>서술적인 이름을 사용하라</a></li><li><a href=#함수-인수>함수 인수</a><ul><li><a href=#많이-쓰는-단항-형식>많이 쓰는 단항 형식</a></li><li><a href=#플래그-인수>플래그 인수</a></li><li><a href=#이항-함수-삼항-함수-인수-객체>이항 함수, 삼항 함수, 인수 객체</a></li><li><a href=#인수-목록>인수 목록</a></li><li><a href=#동사와-키워드>동사와 키워드</a></li></ul></li><li><a href=#부수-효과를-일으키지-마라>부수 효과를 일으키지 마라</a><ul><li><a href=#출력-인수>출력 인수</a></li></ul></li><li><a href=#명령과-조회를-분리하라>명령과 조회를 분리하라</a></li><li><a href=#오류-코드보다-예외를-사용하라>오류 코드보다 예외를 사용하라</a><ul><li><a href=#trycatch-블록-뽑아내기>Try/Catch 블록 뽑아내기</a></li><li><a href=#오류-처리도-한-가지-작업이다>오류 처리도 한 가지 작업이다</a></li><li><a href=#errorjava-의존성-자석>Error.java 의존성 자석</a></li></ul></li><li><a href=#반복하지-마라>반복하지 마라</a></li><li><a href=#구조적-프로그래밍>구조적 프로그래밍</a></li><li><a href=#함수를-어떻게-짜죠>함수를 어떻게 짜죠?</a></li></ul></nav></div></div></div></body></html>