<!doctype html><html lang=ko dir=ltr><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>MFC 프로그램의 콘솔 실행 모드 추가 – JSYoo5B.Dev();</title><script src=/js/enquire.min.dfb99dee1e029d51d6cfb672d847929890b1585402de17f5ed092edd72a688b4.js></script>
<script defer src=/js/lazysizes.min.fb649fcae62177dfe63e67081ddceb830b5ce1f05a4184e9bbb7d87ac4b8f4e5.js></script>
<script defer src=/js/helper/getParents.min.086022fb02d7a1517e33c2670bffb976b3e80bcacd9caeee0c6a586064f20e42.js></script>
<script defer src=/js/helper/fadeinout.min.3ce954c8aea3b69cc5e6f734d8273ba4cd48d3a7987dbdca145849bc4b8fc296.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script>"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return t===void 0&&(t=0),this.indexOf(e,t)!==-1}),Document.prototype.append=Element.prototype.append=function(){this.appendChild(_mutation(arguments))};function _mutation(e){if(!e.length)throw new Error("DOM Exception 8");if(e.length===1)return typeof e[0]=="string"?document.createTextNode(e[0]):e[0];for(var t,n=document.createDocumentFragment(),o=e.length,s=-1;++s<o;)t=e[s],n.appendChild(typeof t=="string"?document.createTextNode(t):t);return n}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),document.addEventListener("DOMContentLoaded",function(){var e,t,n,s,o,i,a,r,c,l,d,u,h,m,f,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,T,z,D,N,L,R,P,H,I,B,V,$,W,U,K,q,Y,G,X,Q,F=document.querySelector(".navbar__burger"),ce,le,ue,ie,fe,me,he,de,re,ae,oe,se,be,ve,ge;F?F.addEventListener("click",function(){var n,t=document.querySelector(".navbarm__collapse");t&&(n=t.getAttribute("data-open"),n==="true"?(t.setAttribute("data-open","false"),t.style.maxHeight=0,F.classList.remove("is-active")):(t.setAttribute("data-open","true"),t.style.maxHeight=t.scrollHeight+"px",F.classList.add("is-active")))}):null,V=document.querySelectorAll(".single__contents > table");for(let e=0;e<V.length;e++)E=V[e],A=document.createElement("div"),A.className="table-wrapper",E.parentElement.replaceChild(A,E),A.appendChild(E);L=document.querySelectorAll(".footnote-ref"),I=document.querySelectorAll(".footnote-backref"),L?L.forEach(function(e){e.onmouseenter=function(){t.classList.contains("scrolling")&&t.classList.remove("scrolling")},e.onmouseleave=function(){t.classList.contains("scrolling")||setTimeout(function(){t.classList.add("scrolling")},100)},e.onclick=function(){t.classList.contains("scrolling")||(t.classList.remove("navbar--show"),t.classList.remove("navbar--hide"),t.classList.add("navbar--hide"))}}):null,I?I.forEach(function(e){e.onmouseenter=function(){t.classList.contains("scrolling")&&t.classList.remove("scrolling")},e.onmouseleave=function(){t.classList.contains("scrolling")||setTimeout(function(){t.classList.add("scrolling")},100)},e.onclick=function(){t.classList.contains("scrolling")||(t.classList.remove("navbar--show"),t.classList.remove("navbar--hide"),t.classList.add("navbar--hide"))}}):null,s=document.querySelector(".summary__container"),o=document.querySelector(".search-result"),B=document.querySelector(".search-result__close"),B?B.addEventListener("click",function(){o.setAttribute("data-display","none"),s.setAttribute("data-display","block")}):null,document.querySelectorAll(".tab")?document.querySelectorAll(".tab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".tab__link"),s=e.querySelectorAll(".tab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,document.querySelectorAll(".codetab")?document.querySelectorAll(".codetab").forEach(function(e){var o=e.getAttribute("id"),i=e,n=e.querySelectorAll(".codetab__link"),s=e.querySelectorAll(".codetab__content"),a=[];n&&n.length>0?n.forEach(function(e,t,n){e.onclick=function(){for(var o=0;o<n.length;o++)t===parseInt(o,10)?n[o].classList.contains("active")||(n[o].classList.add("active"),s[o].style.display="block"):(n[o].classList.remove("active"),s[o].style.display="none")}}):null}):null,b=document.getElementById("gtt"),b.style.display="none",b.addEventListener("click",function(){window.document.documentMode?document.documentElement.scrollTop=0:je(250)});function je(e){var t=-window.scrollY/(e/15),n=setInterval(function(){window.scrollY!=0?window.scrollBy(0,t):clearInterval(n)},15)}ce=function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?b.style.display="block":b.style.display="none"},P=document.querySelectorAll(".expand__button");for(let e=0;e<P.length;e++)P[e].addEventListener("click",function(){var e=this.nextElementSibling;e.style.maxHeight?(e.style.maxHeight=null,this.querySelector("svg").classList.add("expand-icon__right"),this.querySelector("svg").classList.remove("expand-icon__down")):(e.style.maxHeight=e.scrollHeight+"px",this.querySelector("svg").classList.remove("expand-icon__right"),this.querySelector("svg").classList.add("expand-icon__down"))});q=window.pageYOffset||document.documentElement.scrollTop,m=document.querySelector(".toc"),a=m?m.querySelector("#TableOfContents"):null,x=document.getElementById("toggle-toc"),d=document.querySelector(".single__contents"),t=document.querySelector(".navbar"),j=document.querySelector(".toc__flexbox"),v=document.querySelector(".toc__flexbox--outer"),K=document.querySelectorAll(".expand__content"),$=document.querySelectorAll(".box"),i=null,k=JSON.parse("true"),r=JSON.parse('["h2","h3","h4"]'),r?r=r.toString():r="h1, h2, h3, h4, h5, h6",d&&d.querySelectorAll(".tab")?d.querySelectorAll(".tab").forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,K?K.forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,$?$.forEach(function(e){e.querySelectorAll(r).forEach(function(e){i=Array.isArray(i)?i.concat(e.getAttribute("id")):[e.getAttribute("id")]})}):null,window.onscroll=function(){ce();var e=window.pageYOffset||document.documentElement.scrollTop;if(e>q){if(e<250?b.style.display="none":b.style.display="block",e<45)return null;t.classList.contains("scrolling")&&(t.classList.contains("navbar--hide")?t.classList.contains("navbar--show")&&t.classList.remove("navbar--show"):t.classList.add("navbar--hide")),d&&(d.querySelectorAll(r).length>0?d.querySelectorAll(r).forEach(function(e){if(x&&!x.checked)return null;if(i&&i.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&a){var t,n=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+n+'"]')?m.querySelector('a[href="#'+n+'"]').classList.add("active"):null,!1===k||(a.querySelectorAll("ul")?a.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),t=a.querySelector("[href='#"+n+"']"),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null}}):(j&&(j.setAttribute("data-position",""),j.classList.contains("hide")||j.classList.add("hide")),v&&(v.setAttribute("data-position",""),v.classList.contains("hide")||v.classList.add("hide"))))}else e<250&&(b.style.display="none"),t.classList.contains("scrolling")&&(t.classList.contains("navbar--hide")?t.classList.remove("navbar--hide"):t.classList.contains("navbar--show")||t.classList.add("navbar--show")),d&&(d.querySelectorAll(r).length>0?d.querySelectorAll(r).forEach(function(e){if(x&&!x.checked)return null;if(i&&i.includes(e.getAttribute("id")))return null;if(document.documentElement.scrollTop>=e.offsetTop&&a){var t,n=e.getAttribute("id");m.querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),m.querySelector('a[href="#'+n+'"]')?m.querySelector('a[href="#'+n+'"]').classList.add("active"):null,!1===k||(a.querySelectorAll("ul")?a.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),t=a.querySelector("[href='#"+n+"']"),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null}}):(j&&!j.classList.contains("hide")&&j.classList.add("hide"),v&&!v.classList.contains("hide")&&v.classList.add("hide"))),a&&document.documentElement.scrollTop<250&&(!1===k||(a.querySelector("ul")?a.querySelector("ul").querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})}):null));q=e<=0?0:e},S=localStorage.getItem("theme"),M=document.getElementById("root"),le=document.querySelectorAll(".select-theme"),C=document.querySelectorAll(".select-theme__item"),ue=JSON.parse('"dark"'),ie=JSON.parse('"light"'),fe=JSON.parse('"hacker"'),me=JSON.parse('"solarized"'),he=JSON.parse('"kimbie"'),T=function(e){var t=document.getElementsByName("msapplication-TileColor")[0],n=document.getElementsByName("theme-color")[0],s=document.getElementsByName("msapplication-navbutton-color")[0],o=document.getElementsByName("apple-mobile-web-app-status-bar-style")[0];e.includes("dark")?(t.setAttribute("content","#fcfcfa"),n.setAttribute("content","#403E41"),s.setAttribute("content","#403E41"),o.setAttribute("content","#403E41")):e.includes("light")?(t.setAttribute("content","#555"),n.setAttribute("content","#eee"),s.setAttribute("content","#eee"),o.setAttribute("content","#eee")):e.includes("hacker")?(t.setAttribute("content","#e3cd26"),n.setAttribute("content","#252526"),s.setAttribute("content","#252526"),o.setAttribute("content","#252526")):e.includes("solarized")?(t.setAttribute("content","#d3af86"),n.setAttribute("content","#51412c"),s.setAttribute("content","#51412c"),o.setAttribute("content","#51412c")):e.includes("kimbie")&&(t.setAttribute("content","#586e75"),n.setAttribute("content","#eee8d5"),s.setAttribute("content","#eee8d5"),o.setAttribute("content","#eee8d5"))},de=function(e){if(e===ue)return"dark";if(e===ie)return"light";if(e===fe)return"hacker";if(e===me)return"solarized";if(e===he)return"kimbie"},S?(C?C.forEach(function(e){e.text.trim()===S?e.classList.add("is-active"):e.classList.remove("is-active")}):null,T(S)):T(M.className),C?C.forEach(function(e){e.addEventListener("click",function(e){var n,s,t=de(e.target.text.trim());localStorage.setItem("theme",t),T(t),M.removeAttribute("class"),M.classList.add("theme__"+t),le.forEach(function(e){e.querySelectorAll("a").forEach(function(e){e.classList&&(e.text.trim()===t?e.classList.contains("is-active")||e.classList.add("is-active"):e.classList.contains("is-active")&&e.classList.remove("is-active"))})}),window.mermaid&&(t==="dark"||t==="hacker"?(mermaid.initialize({theme:"dark"}),location.reload()):(mermaid.initialize({theme:"default"}),location.reload())),n=document.getElementById("utterances"),n&&n.querySelector("iframe").contentWindow.postMessage({type:"set-theme",theme:t==="dark"||t==="hacker"?"photon-dark":t==="kimbie"?"github-dark-orange":"github-light"},"https://utteranc.es"),s=document.querySelectorAll(".twitter-timeline"),s&&window.postMessage({type:"set-twitter-theme",theme:t==="light"||t==="solarized"?"light":"dark"})})}):null,re=JSON.parse('"https://devlog.jsyoo5b.net/"'),X=JSON.parse('"https://devlog.jsyoo5b.net/ko/posts/mfc/console-mode/"'),ae=JSON.parse('"/ko"'),l=null,c=null,n=null,Q=JSON.parse("false"),W=JSON.parse("null"),U=JSON.parse("null"),oe=JSON.parse("null"),_=JSON.parse("false"),Y=JSON.parse("null"),G=JSON.parse('"posts"'),se=JSON.parse('"page"'),O=null,Q&&function(){var t=new XMLHttpRequest;G==="publication"&&se!=="page"?t.open("GET",X+"index.json"):t.open("GET",re+ae+"/index.json"),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.onload=function(){t.status===200?(O=new Fuse(JSON.parse(t.response.toString("utf-8")),{keys:G.includes("publication")?["title","abstract"]:oe?["title","description","content"]:["title","description"],includeMatches:_,shouldSort:!0,threshold:U||.4,location:0,distance:W||100,maxPatternLength:32,minMatchCharLength:1,isCaseSensitive:!1,findAllMatches:!1,useExtendedSearch:!1}),window.fuse=O):console.error("["+t.status+"]Error:",t.statusText)},t.send()}();function _e(e,t){var n,s,o=document.createElement("li");o.className="search-result__item",n=document.createElement("a"),n.innerHTML=t.item.title,n.setAttribute("class","search-result__item--title"),n.setAttribute("href",t.item.uri),s=document.createElement("div"),s.setAttribute("class","search-result__item--desc"),t.item.description?s.innerHTML=t.item.description:t.item.content&&(s.innerHTML=t.item.content.substring(0,225)),o.appendChild(n),o.appendChild(s),e.appendChild(o)}function ye(e,t){var n,s,o,i=document.createElement("li");if(i.className="search-result__item",n=null,o=document.createElement("a"),o.innerHTML=t.item.title,o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri),t.matches&&t.matches.length){for(s=0;s<t.matches.length;s++)"title"===t.matches[s].key&&(o=document.createElement("a"),o.innerHTML=p(t.matches[s].value,t.matches[s].indices),o.setAttribute("class","search-result__item--title"),o.setAttribute("href",t.item.uri)),"description"===t.matches[s].key?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=p(t.item.description,t.matches[s].indices)):"content"===t.matches[s].key?n||(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=p(t.item.content.substring(0,150),t.matches[s].indices)):t.item.description?(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.description):(n=document.createElement("div"),n.setAttribute("class","search-result__item--desc"),n.innerHTML=t.item.content.substring(0,150));i.appendChild(o),n&&i.appendChild(n),i&&e.appendChild(i)}}function ee(e,t){l=document.getElementById("search-results"),c=document.getElementById("search-menu"),l.setAttribute("class","dropdown is-active");var s,n=document.createElement("ul");for(n.setAttribute("class","dropdown-content search-content"),t.length?t.forEach(function(e){var t,o,i=document.createElement("li"),s=document.createElement("a");s.setAttribute("href",e.uri),s.setAttribute("class","dropdown-item"),s.appendChild(i),o=document.createElement("div"),o.innerHTML=e.title,o.setAttribute("class","menu-item__title"),t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),e.description?t.innerHTML=e.description:e.content&&(t.innerHTML=e.content.substring(0,150)),i.appendChild(o),i.appendChild(t),n.appendChild(s)}):(s=document.createElement("li"),s.setAttribute("class","dropdown-item"),s.innerText="No results found",n.appendChild(s));c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(n)}function te(e,t){l=document.getElementById("search-results"),c=document.getElementById("search-menu"),l.setAttribute("class","dropdown is-active");var s,n=document.createElement("ul");for(n.setAttribute("class","dropdown-content search-content"),t.length?t.forEach(function(e){var s,o,a=document.createElement("li"),i=document.createElement("a"),t=null;if(i.setAttribute("href",e.item.uri),i.setAttribute("class","dropdown-item"),i.appendChild(a),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","menu-item__title"),e.matches&&e.matches.length){for(s=0;s<e.matches.length;s++)"title"===e.matches[s].key&&(o.innerHTML=p(e.matches[s].value,e.matches[s].indices)),"description"===e.matches[s].key?(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=p(e.item.description,e.matches[s].indices)):"content"===e.matches[s].key?t||(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=p(e.item.content.substring(0,150),e.matches[s].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","menu-item__desc"),t.innerHTML=e.item.content.substring(0,150));a.appendChild(o),t&&a.appendChild(t),n.appendChild(i)}}):(s=document.createElement("li"),s.setAttribute("class","dropdown-item"),s.innerText="No results found",n.appendChild(s));c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(n)}function ne(e,t){l=document.getElementById("search-mobile-results");var o,n=document.createElement("div");n.setAttribute("class","mobile-search__content"),t.length>0?t.forEach(function(e){var t=document.createElement("a");t.setAttribute("href",e.uri),t.innerHTML='<div class="mobile-search__item"><div class="mobile-search__item--title">📄 '+e.title+'</div><div class="mobile-search__item--desc">'+(e.description?e.description:e.content)+"</div></div>",n.appendChild(t)}):(o=document.createElement("span"),n.appendChild(o));let s=document.getElementById("search-mobile-results");for(;s.firstChild;)s.removeChild(s.firstChild);l.appendChild(n)}function pe(e,t){l=document.getElementById("search-mobile-results");var o,n=document.createElement("div");n.setAttribute("class","mobile-search__content"),t.length?t.forEach(function(e){var s,o,i=document.createElement("li"),a=document.createElement("a"),t=null;if(a.setAttribute("href",e.item.uri),a.appendChild(i),i.setAttribute("class","mobile-search__item"),o=document.createElement("div"),o.innerHTML=e.item.title,o.setAttribute("class","mobile-search__item--title"),e.matches&&e.matches.length){for(s=0;s<e.matches.length;s++)"title"===e.matches[s].key&&(o.innerHTML=p(e.matches[s].value,e.matches[s].indices)),"description"===e.matches[s].key?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=p(e.item.description,e.matches[s].indices)):"content"===e.matches[s].key?t||(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=p(e.item.content.substring(0,150),e.matches[s].indices)):e.item.description?(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.description):(t=document.createElement("div"),t.setAttribute("class","mobile-search__item--desc"),t.innerHTML=e.item.content.substring(0,150));i.appendChild(o),t&&i.appendChild(t),n.appendChild(a)}}):(o=document.createElement("span"),n.appendChild(o));let s=document.getElementById("search-mobile-results");for(;s.firstChild;)s.removeChild(s.firstChild);l.appendChild(n)}function p(e,t){if(!t)return e;var n="",s=0;return t.forEach(function(t){if(t[0]===t[1])return null;n+=""+e.substring(s,t[0])+'<span class="search__highlight">'+e.substring(t[0],t[1]+1)+"</span>",s=t[1]+1}),n+=e.substring(s),n}h=document.getElementById("search"),H=document.getElementById("search-mobile"),u=document.getElementById("search-results"),h?h.addEventListener("input",function(e){if(!e.target.value|window.innerWidth<770)return u?u.setAttribute("class","dropdown"):null,o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null,null;n=e.target.value;var i,t=O.search(e.target.value);Y==="main"?_?Z(n,t):J(n,t):(_?te(n,t):ee(n,t),i=u.querySelectorAll(".dropdown-item"),i?i.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null)}):null,h?h.addEventListener("blur",function(){if(window.innerWidth<770)return null;u?u.setAttribute("class","dropdown"):null}):null,h?h.addEventListener("click",function(e){if(window.innerWidth<770)return null;if(!e.target.value)return u?u.setAttribute("class","dropdown"):null,null;n=e.target.value;var s,t=O.search(e.target.value);Y==="main"?_?Z(n,t):J(n,t):(_?te(n,t):ee(n,t),s=u.querySelectorAll(".dropdown-item"),s?s.forEach(function(e){e.addEventListener("mousedown",function(e){e.target.click()})}):null)}):null,be=document.getElementById("search-menu"),ve=document.querySelector("#search-menu .dropdown-item.is-active"),e=null,ge=null,D=350,h?h.addEventListener("keydown",function(t){if(window.innerWidth<770)return null;t.key==="Escape"&&(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null);var n=document.querySelectorAll("#search-menu .dropdown-item"),i=t.which||t.keyCode;if(!n||!n.length)return null;if(t.key==="ArrowDown"||i===40){e===null?(e=0,n[e].classList.remove("is-active")):(n[e].classList.remove("is-active"),e=e===n.length-1?0:e+1),n[e].classList.add("is-active");let t=n[e].offsetTop+n[e].clientHeight-D;t>0?document.querySelector(".search-content").scrollTop+=n[e].getBoundingClientRect().height:e===0&&(document.querySelector(".search-content").scrollTop=0)}else if(t.key==="ArrowUp"||i===38){e===null?(e=n.length-1,n[e].classList.remove("is-active")):(n[e].classList.remove("is-active"),e=e===0?n.length-1:e-1),n[e].classList.add("is-active");let t=n[e].offsetTop+n[e].clientHeight-D;t<0?document.querySelector(".search-content").scrollTop-=n[e].getBoundingClientRect().height:document.querySelector(".search-content").scrollTop=t+n[e].getBoundingClientRect().height}else t.key==="Enter"||i===13?n[e]&&n[e].getAttribute("href")&&(location.href=n[e].getAttribute("href")):(t.key==="Escape"||i===27)&&(t.target.value=null,l&&l.classList.remove("is-active"))}):null,H?H.addEventListener("input",function(e){if(!e.target.value){let e=document.getElementById("search-mobile-results");for(;e.firstChild;)e.removeChild(e.firstChild);return null}n=e.target.value;var t=O.search(e.target.value);ne(n,t),_?pe(n,t):ne(n,t)}):null,g=document.querySelector("#search-mobile"),N=document.querySelector(".mobile-search"),R=document.querySelectorAll(".navbar-search"),z=document.querySelector("#search-mobile-close"),w=document.querySelector("#search-mobile-container"),f=document.querySelector("#search-mobile-results"),y=document.querySelector("html"),N&&(N.style.display="none"),R?R.forEach(function(e){e.addEventListener("click",function(){w&&(w.style.display="block"),g&&g.focus(),y&&(y.style.overflowY="hidden")})}):null,z?z.addEventListener("click",function(){if(w&&(w.style.display="none"),g&&(g.value=""),f)for(;f.firstChild;)f.removeChild(f.firstChild);y&&(y.style.overflowY="visible")}):null,g?g.addEventListener("keydown",function(e){var t=e.which||e.keyCode;if(e.key==="Escape"||t===27){if(w&&(w.style.display="none"),g&&(g.value=""),f)for(;f.firstChild;)f.removeChild(f.firstChild);y&&(y.style.overflowY="visible")}}):null;function J(e,t){var a=document.querySelector(".search-result__body"),n=a.querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){_e(i,e)}),o?o.setAttribute("data-display","block"):null,s?s.setAttribute("data-display","none"):null):(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null),n.parentNode.replaceChild(i,n)}function Z(e,t){var a=document.querySelector(".search-result__body"),n=a.querySelector("ul"),i=document.createElement("ul");e?t&&t&&t.length&&(t.forEach(function(e){ye(i,e)}),o?o.setAttribute("data-display","block"):null,s?s.setAttribute("data-display","none"):null):(o?o.setAttribute("data-display","none"):null,s?s.setAttribute("data-display","block"):null),n.parentNode.replaceChild(i,n)}})</script><link rel=stylesheet href=/css/main.min.css><meta name=description content="Blog of JaeSang Yoo, The System Programmer."><meta name=keywords content="MFC,GUI"><meta name=created content="2020-09-14T21:03:17+0900"><meta name=modified content="2020-09-14T21:03:17+0900"><meta property="article:published_time" content="2020-09-14T21:03:17+0900"><meta name=author content="JaeSang Yoo"><meta property="og:site_name" content="JSYoo5B.Dev();"><meta property="og:title" content="MFC 프로그램의 콘솔 실행 모드 추가"><meta property="og:url" content="https://devlog.jsyoo5b.net/ko/posts/mfc/console-mode/"><meta property="og:type" content="article"><meta property="og:description" content="Blog of JaeSang Yoo, The System Programmer."><meta name=generator content="Hugo 0.103.1"><meta name=msapplication-TileColor content="#fff"><meta name=theme-color content="#fff"><meta name=msapplication-navbutton-color content="#fff"><meta name=apple-mobile-web-app-status-bar-style content="#fff"><link rel=canonical href=https://devlog.jsyoo5b.net/ko/posts/mfc/console-mode/><link rel=manifest href=/manifest.json><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=icon href=/favicon.png sizes=any type=image/png><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","headline":"MFC 프로그램의 콘솔 실행 모드 추가","datePublished":"2020-09-14T21:03:17+09:00","dateModified":"2020-09-14T21:03:17+09:00","url":"https://devlog.jsyoo5b.net/ko/posts/mfc/console-mode/","description":"","keywords":["MFC","GUI"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://devlog.jsyoo5b.net/"},"publisher":{"@type":"Organization","name":"JSYoo5B.Dev();","url":"https://devlog.jsyoo5b.net/"}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-TWBDVMPEX1"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-TWBDVMPEX1",{anonymize_ip:!1})}</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-TWBDVMPEX1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body id=root class=theme__dark><script>var localTheme=localStorage.getItem("theme");localTheme&&(document.getElementById("root").className="theme__"+localTheme)</script><div id=container><div class=wrapper data-type=posts data-kind=page><nav class="navbar scrolling" role=navigation aria-label="main navigation" data-dir=ltr><div class=navbar__brand>&nbsp;&nbsp;
<a href=/ko/ title=홈페이지 rel=home class=navbar__title-link><h6 class=navbar__title>JSYoo5B.Dev();</h6></a></div><div class="theme theme-mobile" data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" style=position:absolute;top:0 data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">hacker</a>
<a href=# class="dropdown-item select-theme__item">solarized</a>
<a href=# class="dropdown-item select-theme__item">kimbie</a></div></div></div><a role=button class=navbar__burger aria-label=menu aria-expanded=false data-ani=true><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><div class=navbarm__collapse data-open=false><ul dir=ltr><li class=navbarm__menu--item><a href=/ko/about>소개</a></li><li class="navbarm__menu--item active"><a href=/ko/posts>블로그</a></li><li class=navbarm__menu--item><a href=/ko/tags class=navbarm__menu--term data-index=0>태그</a></li><li class=navbarm__menu--item><a href=/ko/categories class=navbarm__menu--term data-index=1>카테고리</a></li><li class=navbarm__menu--item><a href=/ko/series class=navbarm__menu--term data-index=2>시리즈</a></li></ul></div><div class=navbar__menu><div class=theme data-ani=true><div class=dropdown><button class="dropdown-trigger navbar__slide-down" aria-label="Select Theme Button" data-ani=true><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path fill="none" d="M24 0H0v24h24V0z"/><path fill="currentcolor" d="M6.34 7.93c-3.12 3.12-3.12 8.19.0 11.31C7.9 20.8 9.95 21.58 12 21.58s4.1-.78 5.66-2.34c3.12-3.12 3.12-8.19.0-11.31l-4.95-4.95c-.39-.39-1.02-.39-1.41.0L6.34 7.93zM12 19.59c-1.6.0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"/></svg></button><div class="dropdown-content select-theme"><a href=# class="dropdown-item select-theme__item is-active">dark</a>
<a href=# class="dropdown-item select-theme__item">light</a>
<a href=# class="dropdown-item select-theme__item">hacker</a>
<a href=# class="dropdown-item select-theme__item">solarized</a>
<a href=# class="dropdown-item select-theme__item">kimbie</a></div></div></div><a href=/ko/about class="navbar__menu-item navbar__slide-down" dir=ltr data-ani=true>소개</a>
<a href=/ko/posts class="navbar__menu-item navbar__slide-down active" dir=ltr data-ani=true>블로그</a></div></nav><main class="single__main main"><nav class="breadcrumb hide" aria-label=breadcrumbs><script>document.querySelector(".breadcrumb").classList.remove("hide")</script><ol><li><a href=https://devlog.jsyoo5b.net/ko/ class=capitalize>JSYoo5B.Dev();</a></li><li><a href=https://devlog.jsyoo5b.net/ko/posts/ class=capitalize>Posts</a></li><li class=is-active><span>MFC 프로그램의 콘솔 실행 모드 추가</span></li></ol></nav><div class=single><div class=single__nojs>자바스크립트를 활성화 해주세요</div><script>document.querySelector(".single").classList.remove("hide"),document.querySelector(".single__nojs").classList.add("hide")</script><h2 class=single__title data-ani=true>MFC 프로그램의 콘솔 실행 모드 추가</h2><h3 class=single__subtitle></h3><div class=single__meta><div class=single__infos><time class=single__info title=작성일>📅&nbsp;2020년 09월 14일</time>
&nbsp;&#183;&nbsp; <span class=single__info title="읽는 시간">☕&nbsp;11&nbsp;min read</span>
<span class=single__info></span></div><ul class="single__tags caption">🏷️<li><a href=https://devlog.jsyoo5b.net/ko/tags/mfc/ class=single__tag title=MFC>#MFC</a></li><li><a href=https://devlog.jsyoo5b.net/ko/tags/gui/ class=single__tag title=GUI>#GUI</a></li></ul></div><article class=single__contents data-dir=ltr data-ani=true><p>GUI 기반으로 작성한 프로그램은 직관적이지만, 해당 기능을 사용하기 위해 마우스를 사용해야 하며, 이로 인해 자동화하기 어렵다는 문제점이 있다. 물론 매크로 등을 활용할 수 있지만, 사람이 직접 수행하지 않을 뿐, 결국 프로그램으로 마우스 클릭 등을 반복하는 것이다.</p><p>GUI 기반으로 개발된 파일을 변환해주는 프로그램들을 CI/CD 과정에 사용하려 한다고 가정해보자.</p><ol><li>GUI를 실행하기 위한 Desktop Environment가 없는 Container/Build server일 수 있다.</li><li>GUI가 있는 환경이라도, 해당 환경에 맞춰 매크로를 기록해야 한다.</li><li>매크로를 사용해도 Build server에 RDP 등으로 접속 시, 해상도 변경, 좌표 변경 등 이슈가 발생한다.</li><li>여러 GUI 기반 프로그램들을 실행할 때, 마우스 위치가 점유 자원으로서 병렬성을 방해한다.</li><li>해당 프로그램의 실행 결과도 GUI로 나타나므로, 이를 쉽게 확인할 수 없다.</li></ol><p>위의 상황은 극단적으로 가정한 것이지만, 최소 1개 이상 실제 문제가 될 것이라 예상한다.</p><h2 id=목표>목표</h2><ol><li>Window Manager(Windows Explorer, Gnome 등)나 Shell(Bash, Command Prompt 등)에서 실행 시, GUI 환경으로 실행</li><li>Shell에서 실행할 때 특정 인자를 입력하면(혹은 Windows Manager의 Shortcut에 인자 추가) GUI를 띄우지 않고,<br>해당 인자에 따라 기능을 수행한 뒤 종료.</li><li>필요에 따라 진행 과정에 대한 Log를 출력한다.</li><li>해당 프로그램의 성공/실패 여부에 따라 확인할 수 있게 Error code를 반환하며 종료한다.</li></ol><p>위의 목표를 개발자 기준의 요구사항으로 해석하면 아래와 같다.</p><ol><li>기존의 GUI 실행에 관련된 코드를 뒤엎지 않고 기능을 추가해야 한다.</li><li>해당 프로그램 실행의 인자를 읽고, 특정 조건 시 GUI를 실행시키는 함수를 호출하지 않아야 한다.</li><li>stdio (특히 stdout, stderr)가 해당 프로그램을 실행시킨 shell과 연결되어 있어야 한다.</li><li>GUI를 실행시키지 않은 상태에서 원하는 exit code로 프로그램을 종료시켜야 한다.</li><li><del>MFC같이 안 좋은 GUI framework에서 개발해야 한다.</del></li></ol><h2 id=진단>진단</h2><p>이제 MFC 프로그램을 작성하고, Shell에서 실행시켜보자. MFC 응용 프로그램 프로젝트를 ConsoleGuiTool로 가정하겠다. (대화 상자 기반으로 작성하였으나, 다른 종류도 크게 문제되지 않는다.) 빌드하고 Command Prompt에서 실행시켜보면 아래 스크린샷과 같은 상황을 확인할 수 있을 것이다.</p><p><img src=Run_in_cmd_vanilla.png alt="GUI 구동 시, Command Prompt와의 연결이 끊어진다"></p><p>분명 해당 프로그램이 종료되지 않았음에도 Shell과의 연결이 끊어졌다. 요구사항 3, 4의 상황에서 문제가 생길 수 있다. (자세한 설명은 <a href=#command-prompt-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%84%A4%EB%AA%85>Command Prompt 명령어 설명</a>에서 다루도록 한다.)</p><h2 id=console-실행-모드-추가하기>Console 실행 모드 추가하기</h2><p>일단 수정해야 할 파일은 현재 MFC 프로그램의 진입점 부분이다. <code>CWinApp</code>을 상속하고 있는 클래스의 소스 코드를 찾자. (특별히 이름을 변경하지 않았다면, 프로젝트 이름과 같은 *.h, *.cpp일 것이다.)</p><div id=7d7c0dce70fe2926 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">ConsoleGuiTool.h</button>
<button class=codetab__link aria-label="Tab link">ConsoleGuiTool.cpp</button></div><div id=3da52f053a7937ae class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ConsoleGuiTool.h : main header file for the PROJECT_NAME application
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#pragma once
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef __AFXWIN_H__
</span></span></span><span class=line><span class=cl><span class=cp></span>	<span class=cp>#error &#34;include &#39;stdafx.h&#39; before including this file for PCH&#34;
</span></span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;resource.h&#34;		// main symbols</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp:
</span></span></span><span class=line><span class=cl><span class=c1>// See ConsoleGuiTool.cpp for the implementation of this class
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CConsoleGuiToolApp</span> <span class=o>:</span> <span class=k>public</span> <span class=n>CWinApp</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	<span class=n>CConsoleGuiToolApp</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Overrides
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	<span class=k>virtual</span> <span class=n>BOOL</span> <span class=n>InitInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Implementation
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=n>DECLARE_MESSAGE_MAP</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>extern</span> <span class=n>CConsoleGuiToolApp</span> <span class=n>theApp</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></div><div id=547cf74557cf6054 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span><span class=lnt>96
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ConsoleGuiTool.cpp : Defines the class behaviors for the application.
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stdafx.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;ConsoleGuiTool.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;ConsoleGuiToolDlg.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#ifdef _DEBUG
</span></span></span><span class=line><span class=cl><span class=cp>#define new DEBUG_NEW
</span></span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>BEGIN_MESSAGE_MAP</span><span class=p>(</span><span class=n>CConsoleGuiToolApp</span><span class=p>,</span> <span class=n>CWinApp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>ON_COMMAND</span><span class=p>(</span><span class=n>ID_HELP</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>CWinApp</span><span class=o>::</span><span class=n>OnHelp</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>END_MESSAGE_MAP</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp construction
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>CConsoleGuiToolApp</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// TODO: add construction code here,
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Place all significant initialization in InitInstance
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// The one and only CConsoleGuiToolApp object
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>CConsoleGuiToolApp</span> <span class=n>theApp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp initialization
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>InitInstance</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// InitCommonControlsEx() is required on Windows XP if an application
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// manifest specifies use of ComCtl32.dll version 6 or later to enable
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// visual styles.  Otherwise, any window creation will fail.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>INITCOMMONCONTROLSEX</span> <span class=n>InitCtrls</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>InitCtrls</span><span class=p>.</span><span class=n>dwSize</span> <span class=o>=</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>InitCtrls</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=c1>// Set this to include all the common control classes you want to use
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// in your application.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>InitCtrls</span><span class=p>.</span><span class=n>dwICC</span> <span class=o>=</span> <span class=n>ICC_WIN95_CLASSES</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>InitCommonControlsEx</span><span class=p>(</span><span class=o>&amp;</span><span class=n>InitCtrls</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>CWinApp</span><span class=o>::</span><span class=n>InitInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Create the shell manager, in case the dialog contains
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// any shell tree view or shell list view controls.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>CShellManager</span> <span class=o>*</span><span class=n>pShellManager</span> <span class=o>=</span> <span class=k>new</span> <span class=n>CShellManager</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Activate &#34;Windows Native&#34; visual manager for enabling themes in MFC controls
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>CMFCVisualManager</span><span class=o>::</span><span class=n>SetDefaultManager</span><span class=p>(</span><span class=n>RUNTIME_CLASS</span><span class=p>(</span><span class=n>CMFCVisualManagerWindows</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Standard initialization
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// If you are not using these features and wish to reduce the size
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// of your final executable, you should remove from the following
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// the specific initialization routines you do not need
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Change the registry key under which our settings are stored
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// TODO: You should modify this string to be something appropriate
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// such as the name of your company or organization
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>SetRegistryKey</span><span class=p>(</span><span class=n>_T</span><span class=p>(</span><span class=s>&#34;Local AppWizard-Generated Applications&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>CConsoleGuiToolDlg</span> <span class=n>dlg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>m_pMainWnd</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>dlg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>INT_PTR</span> <span class=n>nResponse</span> <span class=o>=</span> <span class=n>dlg</span><span class=p>.</span><span class=n>DoModal</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>nResponse</span> <span class=o>==</span> <span class=n>IDOK</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=c1>// TODO: Place code here to handle when the dialog is
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=c1>//  dismissed with OK
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=nf>if</span> <span class=p>(</span><span class=n>nResponse</span> <span class=o>==</span> <span class=n>IDCANCEL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=c1>// TODO: Place code here to handle when the dialog is
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=c1>//  dismissed with Cancel
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=nf>if</span> <span class=p>(</span><span class=n>nResponse</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>TRACE</span><span class=p>(</span><span class=n>traceAppMsg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;Warning: dialog creation failed, so application is terminating unexpectedly.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>TRACE</span><span class=p>(</span><span class=n>traceAppMsg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;Warning: if you are using MFC controls on the dialog, you cannot #define _AFX_NO_MFC_CONTROLS_IN_DIALOGS.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Delete the shell manager created above.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=n>pShellManager</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>delete</span> <span class=n>pShellManager</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Since the dialog has been closed, return FALSE so that we exit the
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>//  application, rather than start the application&#39;s message pump.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"7d7c0dce70fe2926"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>해당 class에 기존 GUI환경의 init을 담당할 <code>InitGuiWindow()</code>와 콘솔모드로 실행할 <code>RunConsole()</code> 함수를 추가한다. 이후 기존의 <code>InitInstance()</code>함수를 <code>InitGuiWindow()</code>로 교체하고, 새로운 <code>InitInstance()</code>를 아래와 같이 작성한다.</p><div id=416bcbf92a9cf8ca class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">ConsoleGuiTool.h</button>
<button class=codetab__link aria-label="Tab link">ConsoleGuiTool.cpp</button></div><div id=869517e19b820ed6 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=hl><span class=lnt>30
</span></span><span class=hl><span class=lnt>31
</span></span><span class=hl><span class=lnt>32
</span></span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ConsoleGuiTool.h : main header file for the PROJECT_NAME application
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#pragma once
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#ifndef __AFXWIN_H__
</span></span></span><span class=line><span class=cl><span class=cp></span>	<span class=cp>#error &#34;include &#39;stdafx.h&#39; before including this file for PCH&#34;
</span></span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;resource.h&#34;		// main symbols</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp:
</span></span></span><span class=line><span class=cl><span class=c1>// See ConsoleGuiTool.cpp for the implementation of this class
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CConsoleGuiToolApp</span> <span class=o>:</span> <span class=k>public</span> <span class=n>CWinApp</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	<span class=n>CConsoleGuiToolApp</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Overrides
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	<span class=k>virtual</span> <span class=n>BOOL</span> <span class=n>InitInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Implementation
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=n>DECLARE_MESSAGE_MAP</span><span class=p>()</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl>	<span class=n>BOOL</span> <span class=n>InitGuiWindow</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>BOOL</span> <span class=nf>RunConsole</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>extern</span> <span class=n>CConsoleGuiToolApp</span> <span class=n>theApp</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></div><div id=52d1579f07b83918 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=hl><span class=lnt> 36
</span></span><span class=hl><span class=lnt> 37
</span></span><span class=hl><span class=lnt> 38
</span></span><span class=hl><span class=lnt> 39
</span></span><span class=hl><span class=lnt> 40
</span></span><span class=hl><span class=lnt> 41
</span></span><span class=hl><span class=lnt> 42
</span></span><span class=hl><span class=lnt> 43
</span></span><span class=hl><span class=lnt> 44
</span></span><span class=hl><span class=lnt> 45
</span></span><span class=hl><span class=lnt> 46
</span></span><span class=hl><span class=lnt> 47
</span></span><span class=hl><span class=lnt> 48
</span></span><span class=hl><span class=lnt> 49
</span></span><span class=hl><span class=lnt> 50
</span></span><span class=hl><span class=lnt> 51
</span></span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=hl><span class=lnt>113
</span></span><span class=hl><span class=lnt>114
</span></span><span class=hl><span class=lnt>115
</span></span><span class=hl><span class=lnt>116
</span></span><span class=hl><span class=lnt>117
</span></span><span class=hl><span class=lnt>118
</span></span><span class=hl><span class=lnt>119
</span></span><span class=hl><span class=lnt>120
</span></span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ConsoleGuiTool.cpp : Defines the class behaviors for the application.
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stdafx.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;ConsoleGuiTool.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;ConsoleGuiToolDlg.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#ifdef _DEBUG
</span></span></span><span class=line><span class=cl><span class=cp>#define new DEBUG_NEW
</span></span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>BEGIN_MESSAGE_MAP</span><span class=p>(</span><span class=n>CConsoleGuiToolApp</span><span class=p>,</span> <span class=n>CWinApp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>ON_COMMAND</span><span class=p>(</span><span class=n>ID_HELP</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>CWinApp</span><span class=o>::</span><span class=n>OnHelp</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>END_MESSAGE_MAP</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp construction
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>CConsoleGuiToolApp</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// TODO: add construction code here,
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Place all significant initialization in InitInstance
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// The one and only CConsoleGuiToolApp object
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>CConsoleGuiToolApp</span> <span class=n>theApp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp initialization
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>InitInstance</span><span class=p>()</span>
</span></span><span class="line hl"><span class=cl><span class=p>{</span>
</span></span><span class="line hl"><span class=cl>	<span class=kt>int</span> <span class=n>nArgCnt</span> <span class=o>=</span> <span class=n>__argc</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>nArgCnt</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>	<span class=p>{</span>
</span></span><span class="line hl"><span class=cl>		<span class=k>return</span> <span class=nf>InitGuiWindow</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>	<span class=p>}</span>
</span></span><span class="line hl"><span class=cl>	<span class=k>else</span>
</span></span><span class="line hl"><span class=cl>	<span class=p>{</span>
</span></span><span class="line hl"><span class=cl>		<span class=k>return</span> <span class=nf>RunConsole</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>	<span class=p>}</span>
</span></span><span class="line hl"><span class=cl><span class=p>}</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>InitGuiWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// InitCommonControlsEx() is required on Windows XP if an application
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// manifest specifies use of ComCtl32.dll version 6 or later to enable
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// visual styles.  Otherwise, any window creation will fail.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>INITCOMMONCONTROLSEX</span> <span class=n>InitCtrls</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>InitCtrls</span><span class=p>.</span><span class=n>dwSize</span> <span class=o>=</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>InitCtrls</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=c1>// Set this to include all the common control classes you want to use
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// in your application.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>InitCtrls</span><span class=p>.</span><span class=n>dwICC</span> <span class=o>=</span> <span class=n>ICC_WIN95_CLASSES</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>InitCommonControlsEx</span><span class=p>(</span><span class=o>&amp;</span><span class=n>InitCtrls</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>CWinApp</span><span class=o>::</span><span class=n>InitInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Create the shell manager, in case the dialog contains
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// any shell tree view or shell list view controls.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>CShellManager</span> <span class=o>*</span><span class=n>pShellManager</span> <span class=o>=</span> <span class=k>new</span> <span class=n>CShellManager</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Activate &#34;Windows Native&#34; visual manager for enabling themes in MFC controls
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>CMFCVisualManager</span><span class=o>::</span><span class=n>SetDefaultManager</span><span class=p>(</span><span class=n>RUNTIME_CLASS</span><span class=p>(</span><span class=n>CMFCVisualManagerWindows</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Standard initialization
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// If you are not using these features and wish to reduce the size
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// of your final executable, you should remove from the following
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// the specific initialization routines you do not need
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Change the registry key under which our settings are stored
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// TODO: You should modify this string to be something appropriate
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// such as the name of your company or organization
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>SetRegistryKey</span><span class=p>(</span><span class=n>_T</span><span class=p>(</span><span class=s>&#34;Local AppWizard-Generated Applications&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>CConsoleGuiToolDlg</span> <span class=n>dlg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>m_pMainWnd</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>dlg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>INT_PTR</span> <span class=n>nResponse</span> <span class=o>=</span> <span class=n>dlg</span><span class=p>.</span><span class=n>DoModal</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>nResponse</span> <span class=o>==</span> <span class=n>IDOK</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=c1>// TODO: Place code here to handle when the dialog is
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=c1>//  dismissed with OK
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=nf>if</span> <span class=p>(</span><span class=n>nResponse</span> <span class=o>==</span> <span class=n>IDCANCEL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=c1>// TODO: Place code here to handle when the dialog is
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=c1>//  dismissed with Cancel
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>else</span> <span class=nf>if</span> <span class=p>(</span><span class=n>nResponse</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>TRACE</span><span class=p>(</span><span class=n>traceAppMsg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;Warning: dialog creation failed, so application is terminating unexpectedly.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>TRACE</span><span class=p>(</span><span class=n>traceAppMsg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;Warning: if you are using MFC controls on the dialog, you cannot #define _AFX_NO_MFC_CONTROLS_IN_DIALOGS.</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Delete the shell manager created above.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=n>pShellManager</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>delete</span> <span class=n>pShellManager</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Since the dialog has been closed, return FALSE so that we exit the
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>//  application, rather than start the application&#39;s message pump.
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>RunConsole</span><span class=p>()</span>
</span></span><span class="line hl"><span class=cl><span class=p>{</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;Program is running in console mode</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>Sleep</span><span class=p>(</span><span class=mi>5000</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;It seems program did some job, 5 second passed</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl>	<span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"416bcbf92a9cf8ca"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>일단 콘솔 모드 진입 조건은 실행파일 뒤에 인자가 하나라도 붙는 것으로 설정했다. 콘솔 모드 진입시, 콘솔 모드로 실행된다는 메시지를 출력하고, 5초 이후 무언가 완료되었다고 하고 종료되게 설정하였다. 빌드하고 Command Prompt에서 실행시켜보면 아래 스크린샷과 같은 상황을 확인할 수 있을 것이다.</p><p><img src=Run_in_cmd_stdio_not_attached.png alt="콘솔 모드로 실행 시 5초 후 종료됨. (메시지 출력 안됨), 기존 GUI 구동은 잘 됨"></p><p>일단 실행 인자 옵션에 따라 기존 GUI 구동을 유지한 상태에서, 콘솔 모드 실행에 성공했다. 하지만 <code>printf()</code>를 통한 메시지 출력이 되지 않는 것을 확인할 수 있다.</p><h2 id=프로그램을-실행시킨-shell과-stdio-연결>프로그램을 실행시킨 shell과 stdio 연결</h2><p>해당 증상의 원인은 MFC 프로그램 실행 시, stdio가 기존 shell에서 떨어지기 때문이다. MFC 프로그램을 실행시킨 부모 프로세스(Command Prompt 혹은 PowerShell)의 stdio와 연결해야한다. 기존의 <code>RunConsole()</code> 함수를 아래와 같이 수정한다. (코드 상단에 #include &lt;iostream>을 해야한다.)</p><div id=4b4fb0e97c146462 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">ConsoleGuiTool.cpp</button></div><div id=7d0a3f1c2a31f933 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>114
</span><span class=lnt>115
</span><span class=hl><span class=lnt>116
</span></span><span class=hl><span class=lnt>117
</span></span><span class=hl><span class=lnt>118
</span></span><span class=hl><span class=lnt>119
</span></span><span class=hl><span class=lnt>120
</span></span><span class=hl><span class=lnt>121
</span></span><span class=hl><span class=lnt>122
</span></span><span class=hl><span class=lnt>123
</span></span><span class=hl><span class=lnt>124
</span></span><span class=hl><span class=lnt>125
</span></span><span class=hl><span class=lnt>126
</span></span><span class=hl><span class=lnt>127
</span></span><span class=hl><span class=lnt>128
</span></span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>RunConsole</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class="line hl"><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>AttachConsole</span><span class=p>(</span><span class=n>ATTACH_PARENT_PROCESS</span><span class=p>))</span>
</span></span><span class="line hl"><span class=cl>	<span class=p>{</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>FILE</span> <span class=o>*</span><span class=n>pfStdin</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>FILE</span> <span class=o>*</span><span class=n>pfStdout</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>FILE</span> <span class=o>*</span><span class=n>pfStderr</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>freopen_s</span><span class=p>(</span><span class=o>&amp;</span><span class=n>pfStdin</span><span class=p>,</span> <span class=s>&#34;CONIN$&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>freopen_s</span><span class=p>(</span><span class=o>&amp;</span><span class=n>pfStdout</span><span class=p>,</span> <span class=s>&#34;CONOUT$&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>freopen_s</span><span class=p>(</span><span class=o>&amp;</span><span class=n>pfStderr</span><span class=p>,</span> <span class=s>&#34;CONOUT$&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stderr</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl>		<span class=n>std</span><span class=o>::</span><span class=n>cin</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>		<span class=n>std</span><span class=o>::</span><span class=n>cerr</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;Program is running in console mode</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>Sleep</span><span class=p>(</span><span class=mi>5000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;It seems program did some job, 5 second passed</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"4b4fb0e97c146462"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>L116~128의 내용은 부모 프로세스의 콘솔에 연결하고 stdin, stdout, stderr를 다시 여는 작업을 수행한다.</p><h2 id=임의의-exit-code로-종료시키기>임의의 Exit Code로 종료시키기</h2><p>원칙적으로는 <code>main()</code> 함수의 <code>return</code> 값으로 exit code를 보내는 것이 정석이나, 우리가 현재 수정 가능한 코드 범위에서는 <code>main()</code> 함수를 수정할 수 없기 때문에 차선책인 <a href=https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/exit-exit-exit><code>exit()</code></a> 함수를 사용하면 된다.</p><p>stdin의 연결 상태를 확인할 겸, 아래와 같이 <code>RunConsole()</code> 함수를 수정한다.</p><div id=bcabea5db80ca3eb class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">ConsoleGuiTool.cpp</button></div><div id=d81b2b987d57763e class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>114
</span><span class=lnt>115
</span><span class=hl><span class=lnt>116
</span></span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=hl><span class=lnt>135
</span></span><span class=hl><span class=lnt>136
</span></span><span class=hl><span class=lnt>137
</span></span><span class=hl><span class=lnt>138
</span></span><span class=lnt>139
</span><span class=lnt>140
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>RunConsole</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class="line hl"><span class=cl>	<span class=kt>int</span> <span class=n>nExitCode</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=p>(</span><span class=n>AttachConsole</span><span class=p>(</span><span class=n>ATTACH_PARENT_PROCESS</span><span class=p>))</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>FILE</span> <span class=o>*</span><span class=n>pfStdin</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>FILE</span> <span class=o>*</span><span class=n>pfStdout</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>FILE</span> <span class=o>*</span><span class=n>pfStderr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=n>freopen_s</span><span class=p>(</span><span class=o>&amp;</span><span class=n>pfStdin</span><span class=p>,</span> <span class=s>&#34;CONIN$&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>freopen_s</span><span class=p>(</span><span class=o>&amp;</span><span class=n>pfStdout</span><span class=p>,</span> <span class=s>&#34;CONOUT$&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>		<span class=n>freopen_s</span><span class=p>(</span><span class=o>&amp;</span><span class=n>pfStderr</span><span class=p>,</span> <span class=s>&#34;CONOUT$&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stderr</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>std</span><span class=o>::</span><span class=n>cin</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=n>std</span><span class=o>::</span><span class=n>cerr</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;Program is running in console mode</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>Sleep</span><span class=p>(</span><span class=mi>5000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;It seems program did some job, 5 second passed</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>printf</span><span class=p>(</span><span class=s>&#34;Enter exit code to get: &#34;</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>std</span><span class=o>::</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>nExitCode</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl>	<span class=n>exit</span><span class=p>(</span><span class=n>nExitCode</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"bcabea5db80ca3eb"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p><img src=Run_in_cmd_stdio_attached.png alt="콘솔 모드에서 stdio 동작 확인, 원하는 대로 exit code 반환"></p><p>위 목표를 모두 달성했다. 이제 실행인자를 잘 입력 받았는지 확인하고, 이를 비교하기만 하면 된다.</p><h2 id=실행-인자-사용을-위한-추가-설명>실행 인자 사용을 위한 추가 설명</h2><p>이전의 설명은 <code>CWinApp::InitInstance()</code> 메서드를 수정하여 GUI를 띄우지 않고 콘솔에서 입출력을 수행하는 부분을 설명했다. 실행 인자를 입력받는 방법은 <a href=https://docs.microsoft.com/en-us/cpp/c-runtime-library/argc-argv-wargv><code>__argc</code>, <code>__argv</code>, <code>__wargv</code></a> 전역변수를 활용한다. 해당 변수는 stdlib.h에서 제공하며, Microsoft에서만 제공하는 확장 기능이다. (C,C++ 표준이 아님) (Multi-Byte Character Set으로 빌드한 경우 <code>__argv</code>를, Unicode Character Set으로 빌드한 경우 <code>__wargv</code>를 사용)</p><p>이외에도 <a href=https://docs.microsoft.com/en-us/windows/win32/api/processenv/nf-processenv-getcommandlinea><code>GetCommandLine()</code></a>, <a href=https://docs.microsoft.com/en-us/cpp/mfc/reference/cwinapp-class#parsecommandline><code>CWinApp::ParseCommandLine()</code></a> 등의 방법으로도 실행 인자를 얻을 수 있다. 이 중 <code>ParseCommandLine()</code>에서 사용하는 <a href=https://docs.microsoft.com/en-us/cpp/mfc/reference/ccommandlineinfo-class><code>CCommandLineInfo</code></a>는 Windows에서 제공하는 기능의 일부를 해석해준다.</p><h2 id=command-prompt-명령어-설명>Command Prompt 명령어 설명</h2><p>사실 Windows에서 제공하는 Command Prompt, PowerShell에서 GUI를 사용하는 프로그램을 실행시키면 자동으로 해당 shell에서 detach하게 되어있다. 현재 수정한 방식은 GUI를 화면에 출력하기 전에 기능을 수행하고 종료시킨 것이므로, 똑같이 shell에서 detach하게 되어있다.</p><p>Command Prompt에서 콘솔 모드 사용을 위해서는 아래와 같은 옵션을 고려해야 한다.</p><div id=97256879bd5deea9 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">Command Prompt</button></div><div id=b1a120d03b3a0da7 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl><span class=p>&gt;</span> start /wait \<span class=p>&lt;</span>PROGRAM\&gt;
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"97256879bd5deea9"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p><a href=https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/start>&lt;PROGRAM>을 실행시키고, 해당 &lt;PROGRAM>이 종료될 때 까지 기다린다.</a></p><div id=20d91fd0c8b879c4 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">Command Prompt</button></div><div id=41dbb3ede84a489d class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl><span class=p>&gt;</span> cmd /v:on /c <span class=s2>&#34;echo !time! ...</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"20d91fd0c8b879c4"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p>Batch file을 실행할 때, 환경변수 등은 <code>%VAR%</code>를 통해 그 값으로 치환할 수 있다. 하지만 위 예시와 같이 프로그램의 실행 시간을 측정하기 위해 한 명령행 안에 <code>%VAR%</code>로 넣을 경우, 즉시 치환된다.<br>(<code>!time!</code> 대신 <code>%time%</code>로 입력 시, 실제 소요시간과 관계없이 같은 시간이 나타난다.) <a href=https://en.wikipedia.org/wiki/Batch_file#Escaped_characters_in_strings>해당 변수에 접근하는 순간 치환되길 원한다면, 위와 같이 !VAR!로 표기해야 한다.</a> 또한 위와 같은 delayed environment variable expansion을 사용하려면 현재 콘솔에 옵션을 설정하거나 cmd로 실행시킬 때, <code>/v:on</code> 옵션을 주고 실행시켜야 한다.</p><h2 id=해설>해설</h2><p>C/C++로 작성한 프로그램의 기본 진입점은 <code>main()</code>함수이다. <code>main()</code>함수의 매개변수로 <code>int argc, char** argv</code>를 사용하여 실행 인자를 프로그램 내에서 확인할 수 있다.</p><p>하지만 MFC로 프로젝트를 생성할 경우, <code>main()</code>함수를 개발자가 직접 편집할 수 없다. 이전의 코드에서 봤던 것 처럼 개발자가 수정 가능한 프로그램의 최초 진입 지점은 <code>CWinApp::InitInstance()</code> 메서드이다.</p><p><code>main()</code>함수 역할을 수행하는 WinAPI에서 제공하는 진입점은 <a href=https://docs.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-winmain><code>_tWinMain()</code></a> 함수이다. MFC에서 작성된 <code>_tWinMain()</code>함수의 정의는 <code>VC\atlmfc\src\mfc\appmodul.cpp</code>에서 확인할 수 있다.</p><div id=3024ead4c369efec class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">VC\atlmfc\src\mfc\appmodul.cpp</button></div><div id=bab2f463babf1369 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=hl><span class=lnt>19
</span></span><span class=hl><span class=lnt>20
</span></span><span class=hl><span class=lnt>21
</span></span><span class=hl><span class=lnt>22
</span></span><span class=hl><span class=lnt>23
</span></span><span class=hl><span class=lnt>24
</span></span><span class=hl><span class=lnt>25
</span></span><span class=hl><span class=lnt>26
</span></span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=c1>// This is a part of the Microsoft Foundation Classes C++ library.
</span></span></span><span class=line><span class=cl><span class=c1>// Copyright (C) Microsoft Corporation
</span></span></span><span class=line><span class=cl><span class=c1>// All rights reserved.
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>// This source code is only intended as a supplement to the
</span></span></span><span class=line><span class=cl><span class=c1>// Microsoft Foundation Classes Reference and related
</span></span></span><span class=line><span class=cl><span class=c1>// electronic documentation provided with the library.
</span></span></span><span class=line><span class=cl><span class=c1>// See these sources for detailed information regarding the
</span></span></span><span class=line><span class=cl><span class=c1>// Microsoft Foundation Classes product.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stdafx.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;sal.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>/////////////////////////////////////////////////////////////////////////////
</span></span></span><span class=line><span class=cl><span class=c1>// export WinMain to force linkage to this module
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>extern</span> <span class=kt>int</span> <span class=n>AFXAPI</span> <span class=nf>AfxWinMain</span><span class=p>(</span><span class=n>HINSTANCE</span> <span class=n>hInstance</span><span class=p>,</span> <span class=n>HINSTANCE</span> <span class=n>hPrevInstance</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=n>_In_</span> <span class=n>LPTSTR</span> <span class=n>lpCmdLine</span><span class=p>,</span> <span class=kt>int</span> <span class=n>nCmdShow</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=k>extern</span> <span class=s>&#34;C&#34;</span> <span class=kt>int</span> <span class=n>WINAPI</span>
</span></span><span class="line hl"><span class=cl><span class=n>_tWinMain</span><span class=p>(</span><span class=n>HINSTANCE</span> <span class=n>hInstance</span><span class=p>,</span> <span class=n>HINSTANCE</span> <span class=n>hPrevInstance</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>_In_</span> <span class=n>LPTSTR</span> <span class=n>lpCmdLine</span><span class=p>,</span> <span class=kt>int</span> <span class=n>nCmdShow</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl><span class=cp>#pragma warning(suppress: 4985)
</span></span></span><span class="line hl"><span class=cl><span class=cp></span><span class=p>{</span>
</span></span><span class="line hl"><span class=cl>	<span class=c1>// call shared/exported WinMain
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>	<span class=k>return</span> <span class=nf>AfxWinMain</span><span class=p>(</span><span class=n>hInstance</span><span class=p>,</span> <span class=n>hPrevInstance</span><span class=p>,</span> <span class=n>lpCmdLine</span><span class=p>,</span> <span class=n>nCmdShow</span><span class=p>);</span>
</span></span><span class="line hl"><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>/////////////////////////////////////////////////////////////////////////////
</span></span></span><span class=line><span class=cl><span class=c1>// initialize app state such that it points to this module&#39;s core state
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>BOOL</span> <span class=n>AFXAPI</span> <span class=nf>AfxInitialize</span><span class=p>(</span><span class=n>BOOL</span> <span class=n>bDLL</span><span class=p>,</span> <span class=n>DWORD</span> <span class=n>dwVersion</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>AFX_MODULE_STATE</span><span class=o>*</span> <span class=n>pModuleState</span> <span class=o>=</span> <span class=n>AfxGetModuleState</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>pModuleState</span><span class=o>-&gt;</span><span class=n>m_bDLL</span> <span class=o>=</span> <span class=p>(</span><span class=n>BYTE</span><span class=p>)</span><span class=n>bDLL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>ASSERT</span><span class=p>(</span><span class=n>dwVersion</span> <span class=o>&lt;=</span> <span class=n>_MFC_VER</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=n>UNUSED</span><span class=p>(</span><span class=n>dwVersion</span><span class=p>);</span>  <span class=c1>// not used in release build
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#ifdef _AFXDLL
</span></span></span><span class=line><span class=cl><span class=cp></span>	<span class=n>pModuleState</span><span class=o>-&gt;</span><span class=n>m_dwVersion</span> <span class=o>=</span> <span class=n>dwVersion</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=o>:</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"3024ead4c369efec"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p><code>_tWinMain()</code>에서 호출하는 <code>AfxWinMain()</code>의 정의는 <code>VC\atlmfc\src\mfc\winmain.cpp</code>에서 확인할 수 있다.</p><div id=ba13e773ba70248b class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">VC\atlmfc\src\mfc\winmain.cpp</button></div><div id=0c31b7a3f2d39ea1 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=hl><span class=lnt>26
</span></span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=hl><span class=lnt>37
</span></span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=c1>// This is a part of the Microsoft Foundation Classes C++ library.
</span></span></span><span class=line><span class=cl><span class=c1>// Copyright (C) Microsoft Corporation
</span></span></span><span class=line><span class=cl><span class=c1>// All rights reserved.
</span></span></span><span class=line><span class=cl><span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1>// This source code is only intended as a supplement to the
</span></span></span><span class=line><span class=cl><span class=c1>// Microsoft Foundation Classes Reference and related
</span></span></span><span class=line><span class=cl><span class=c1>// electronic documentation provided with the library.
</span></span></span><span class=line><span class=cl><span class=c1>// See these sources for detailed information regarding the
</span></span></span><span class=line><span class=cl><span class=c1>// Microsoft Foundation Classes product.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;stdafx.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;sal.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>/////////////////////////////////////////////////////////////////////////////
</span></span></span><span class=line><span class=cl><span class=c1>// Standard WinMain implementation
</span></span></span><span class=line><span class=cl><span class=c1>//  Can be replaced as long as &#39;AfxWinInit&#39; is called first
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>AFXAPI</span> <span class=nf>AfxWinMain</span><span class=p>(</span><span class=n>HINSTANCE</span> <span class=n>hInstance</span><span class=p>,</span> <span class=n>HINSTANCE</span> <span class=n>hPrevInstance</span><span class=p>,</span>
</span></span><span class=line><span class=cl>	<span class=n>_In_</span> <span class=n>LPTSTR</span> <span class=n>lpCmdLine</span><span class=p>,</span> <span class=kt>int</span> <span class=n>nCmdShow</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>ASSERT</span><span class=p>(</span><span class=n>hPrevInstance</span> <span class=o>==</span> <span class=nb>NULL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>nReturnCode</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>CWinThread</span><span class=o>*</span> <span class=n>pThread</span> <span class=o>=</span> <span class=n>AfxGetThread</span><span class=p>();</span>
</span></span><span class="line hl"><span class=cl>	<span class=n>CWinApp</span><span class=o>*</span> <span class=n>pApp</span> <span class=o>=</span> <span class=n>AfxGetApp</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// AFX internal initialization
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>AfxWinInit</span><span class=p>(</span><span class=n>hInstance</span><span class=p>,</span> <span class=n>hPrevInstance</span><span class=p>,</span> <span class=n>lpCmdLine</span><span class=p>,</span> <span class=n>nCmdShow</span><span class=p>))</span>
</span></span><span class=line><span class=cl>		<span class=k>goto</span> <span class=n>InitFailure</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// App global initializations (rare)
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=n>pApp</span> <span class=o>!=</span> <span class=nb>NULL</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>pApp</span><span class=o>-&gt;</span><span class=n>InitApplication</span><span class=p>())</span>
</span></span><span class=line><span class=cl>		<span class=k>goto</span> <span class=n>InitFailure</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// Perform specific initializations
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>pThread</span><span class=o>-&gt;</span><span class=n>InitInstance</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=p>(</span><span class=n>pThread</span><span class=o>-&gt;</span><span class=n>m_pMainWnd</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=n>TRACE</span><span class=p>(</span><span class=n>traceAppMsg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;Warning: Destroying non-NULL m_pMainWnd</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>			<span class=n>pThread</span><span class=o>-&gt;</span><span class=n>m_pMainWnd</span><span class=o>-&gt;</span><span class=n>DestroyWindow</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=n>nReturnCode</span> <span class=o>=</span> <span class=n>pThread</span><span class=o>-&gt;</span><span class=n>ExitInstance</span><span class=p>();</span>
</span></span><span class=line><span class=cl>		<span class=k>goto</span> <span class=n>InitFailure</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=n>nReturnCode</span> <span class=o>=</span> <span class=n>pThread</span><span class=o>-&gt;</span><span class=n>Run</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nl>InitFailure</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=cp>#ifdef _DEBUG
</span></span></span><span class=line><span class=cl><span class=cp></span>	<span class=c1>// Check for missing AfxLockTempMap calls
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=p>(</span><span class=n>AfxGetModuleThreadState</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>m_nTempMapLock</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=n>TRACE</span><span class=p>(</span><span class=n>traceAppMsg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s>&#34;Warning: Temp map lock count non-zero (%ld).</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>			<span class=n>AfxGetModuleThreadState</span><span class=p>()</span><span class=o>-&gt;</span><span class=n>m_nTempMapLock</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=n>AfxLockTempMaps</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=n>AfxUnlockTempMaps</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>#endif
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>	<span class=n>AfxWinTerm</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>nReturnCode</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>/////////////////////////////////////////////////////////////////////////////
</span></span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"ba13e773ba70248b"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><p><a href=https://docs.microsoft.com/en-us/cpp/mfc/reference/application-information-and-management#afxgetapp><code>AfxGetApp()</code></a>를 통해 개발자가 정의한 Application 변수의 주소를 얻고, 해당 변수에서 <a href="https://docs.microsoft.com/en-us/cpp/mfc/reference/cwinapp-class?view=vs-2019#initinstance"><code>InitInstance()</code></a> 메서드를 호출한다. 해당 함수는 개발자가 재정의할 수 있으며, 우리는 이 <code>InitInstance()</code>함수를 수정하여 MFC dialog를 띄우지 않고 콘솔에서 처리할 수 있도록 변형한 것이다.</p><div id=8a47e005308c33b9 class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">ConsoleGuiTool.cpp</button></div><div id=28bc5c45297b44f7 class=codetab__content><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=hl><span class=lnt>32
</span></span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp construction
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>CConsoleGuiToolApp</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// TODO: add construction code here,
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Place all significant initialization in InitInstance
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// The one and only CConsoleGuiToolApp object
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=n>CConsoleGuiToolApp</span> <span class=n>theApp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// CConsoleGuiToolApp initialization
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>BOOL</span> <span class=n>CConsoleGuiToolApp</span><span class=o>::</span><span class=n>InitInstance</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>:</span>
</span></span></code></pre></td></tr></table></div></div></div></div><script>"use strict";var i,containerId=JSON.parse('"8a47e005308c33b9"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><h3 id=다른-gui-framework에서의-진입점-main-함수>다른 GUI framework에서의 진입점 (main 함수)</h3><p>아래는 각 C/C++로 작성된 GUI framework의 진입점이다. 대부분의 GUI framework는 <code>main()</code> 함수를 편집할 수 있다.</p><p>WxWidget은 MFC와 같이 <code>main()</code> 함수를 편집할 수 없으므로, <a href=https://wiki.wxwidgets.org/Command-Line_Arguments>wxApp이 제공하는 메서드</a>를 사용해야 한다.</p><div id=b28971230c3f74eb class=codetab><div class=codetab__links><button class=codetab__link aria-label="Tab link">QT</button>
<button class=codetab__link aria-label="Tab link">GTK+</button>
<button class=codetab__link aria-label="Tab link">FLTK</button></div><div id=f8ebd2c758aad77c class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;QApplication&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;QCommandLineParser&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;QCommandLineOption&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;mainwindow.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span> <span class=o>*</span><span class=n>argv</span><span class=p>[])</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Q_INIT_RESOURCE</span><span class=p>(</span><span class=n>application</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>QApplication</span> <span class=n>app</span><span class=p>(</span><span class=n>argc</span><span class=p>,</span> <span class=n>argv</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>QCoreApplication</span><span class=o>::</span><span class=n>setOrganizationName</span><span class=p>(</span><span class=s>&#34;QtProject&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>QCoreApplication</span><span class=o>::</span><span class=n>setApplicationName</span><span class=p>(</span><span class=s>&#34;Application Example&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>QCoreApplication</span><span class=o>::</span><span class=n>setApplicationVersion</span><span class=p>(</span><span class=n>QT_VERSION_STR</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>QCommandLineParser</span> <span class=n>parser</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=p>.</span><span class=n>setApplicationDescription</span><span class=p>(</span><span class=n>QCoreApplication</span><span class=o>::</span><span class=n>applicationName</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=p>.</span><span class=n>addHelpOption</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=p>.</span><span class=n>addVersionOption</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=p>.</span><span class=n>addPositionalArgument</span><span class=p>(</span><span class=s>&#34;file&#34;</span><span class=p>,</span> <span class=s>&#34;The file to open.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=p>.</span><span class=n>process</span><span class=p>(</span><span class=n>app</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>MainWindow</span> <span class=n>mainWin</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>parser</span><span class=p>.</span><span class=n>positionalArguments</span><span class=p>().</span><span class=n>isEmpty</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=n>mainWin</span><span class=p>.</span><span class=n>loadFile</span><span class=p>(</span><span class=n>parser</span><span class=p>.</span><span class=n>positionalArguments</span><span class=p>().</span><span class=n>first</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=n>mainWin</span><span class=p>.</span><span class=n>show</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>app</span><span class=p>.</span><span class=n>exec</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><div id=7107862328193695 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;gtk/gtk.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&#34;gtk_app.h&#34;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nf>main</span> <span class=p>(</span><span class=kt>int</span>    <span class=n>argc</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=kt>char</span> <span class=o>**</span><span class=n>argv</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>GtkApplication</span> <span class=o>*</span><span class=n>app</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>status</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>app</span> <span class=o>=</span> <span class=n>gtk_application_new</span> <span class=p>(</span><span class=s>&#34;org.gtk.example&#34;</span><span class=p>,</span> <span class=n>G_APPLICATION_FLAGS_NONE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>g_signal_connect</span> <span class=p>(</span><span class=n>app</span><span class=p>,</span> <span class=s>&#34;activate&#34;</span><span class=p>,</span> <span class=n>G_CALLBACK</span> <span class=p>(</span><span class=n>activate</span><span class=p>),</span> <span class=nb>NULL</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>status</span> <span class=o>=</span> <span class=n>g_application_run</span> <span class=p>(</span><span class=n>G_APPLICATION</span> <span class=p>(</span><span class=n>app</span><span class=p>),</span> <span class=n>argc</span><span class=p>,</span> <span class=n>argv</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>g_object_unref</span> <span class=p>(</span><span class=n>app</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>status</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><div id=8d771584cde900a0 class=codetab__content><div class=highlight><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;FL/Fl.H&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;FL/Fl_Window.H&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;FL/Fl_Button.H&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span> <span class=o>*</span><span class=n>argv</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>   <span class=n>Fl_Window</span><span class=o>*</span> <span class=n>w</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Fl_Window</span><span class=p>(</span><span class=mi>330</span><span class=p>,</span> <span class=mi>190</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=k>new</span> <span class=n>Fl_Button</span><span class=p>(</span><span class=mi>110</span><span class=p>,</span> <span class=mi>130</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>35</span><span class=p>,</span> <span class=s>&#34;Okay&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=n>w</span><span class=o>-&gt;</span><span class=n>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>   <span class=n>w</span><span class=o>-&gt;</span><span class=n>show</span><span class=p>(</span><span class=n>argc</span><span class=p>,</span> <span class=n>argv</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=n>Fl</span><span class=o>::</span><span class=n>run</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div></div><script>"use strict";var i,containerId=JSON.parse('"b28971230c3f74eb"'),containerElem=document.getElementById(containerId),codetabLinks=null,codetabContents=null,ids=[];containerElem&&(codetabLinks=containerElem.querySelectorAll(".codetab__link"),codetabContents=containerElem.querySelectorAll(".codetab__content"));for(i=0;i<codetabContents.length;i++)ids=ids.concat(codetabContents[i].getAttribute("id")),codetabContents[i].style.display="none",0===parseInt(i,10)&&!codetabContents[i].classList.contains("active")&&codetabContents[i].classList.add("active");for(i=0;i<codetabLinks.length;i++)codetabLinks[i].setAttribute("id",ids[i]),0===parseInt(i,10)&&!codetabLinks[i].classList.contains("active")?codetabLinks[i].classList.add("active"):codetabLinks[i].classList.remove("active");codetabContents.length>0&&(codetabContents[0].style.display="block")</script><h2 id=참고-링크>참고 링크</h2><p>[1] MFC 기본코드 분석(<a href=https://petra.tistory.com/1296>https://petra.tistory.com/1296</a>)</p></article><script defer src=/js/clipboard.min.1626706afc88d95ebe1173b553ec732c6dc82a576989315fdf5e7779af738a44.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script>"use strict";document.addEventListener("DOMContentLoaded",function(){var e=!1,t=document.querySelectorAll("pre.chroma"),n=document.querySelectorAll(".language-code"),s=document.querySelectorAll("div.language-\\$"),o=document.querySelectorAll("div.language-\\>"),i=function(t){var s,o,i,a,r,c,l,d=t,n=t.textContent;if(n.length>15){e||(a=new ClipboardJS(".copy-to-clipboard",{text:function(e){var t=prev(e).querySelectorAll("code");return t.length>1?n=prev(e).querySelector('code[class^="language-"]').textContent:n=prev(e).querySelector("code").textContent,n.replace(/^\$\s/gm,"")}}),a.on("success",function(e){e.clearSelection(),l=prop(e.trigger.parentNode,"tagName")=="PRE",e.trigger.setAttribute("aria-label","Copied to clipboard!"),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-w")}),a.on("error",function(e){l=prop(e.trigger.parentNode,"tagName")=="PRE",e.trigger.setAttribute("aria-label",e.action.toString()),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-w")}),e=!0),r=["language-mermaid","language-viz","language-wave","language-chart","language-msc","language-flowchart"],c=!1,s=d.getAttribute("class");for(o=0;o<r.length;o++)if(s&&s.startsWith(r[o])){c=!0;break}c||s&&(i=document.createElement("span"),i.setAttribute("class","copy-to-clipboard"),i.setAttribute("title","Copy to clipboard"),t.parentNode.parentNode.insertBefore(i,t.parentNode.nextElementSibling))}},a=function(e){var t=document.createElement("span");t.setAttribute("class","copy-to-clipboard"),t.setAttribute("title","Copy to clipboard"),e.parentNode.parentNode.insertBefore(t,e.parentNode.nextElementSibling)};t?t.forEach(function(e){e.querySelectorAll("code").forEach(function(e){i(e)})}):null,n?n.forEach(function(e){e.querySelectorAll("code").forEach(function(e){i(e)})}):null,s?s.forEach(function(e){e.querySelectorAll("code").forEach(function(e){a(e)})}):null,o?o.forEach(function(e){e.querySelectorAll("code").forEach(function(e){a(e)})}):null})</script><script>"use strict";function wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}(function(){var e=document.querySelector(".single__contents");e?e.querySelectorAll("pre > code").forEach(function(e){var t=e.getAttribute("data-lang"),n=document.createElement("div"),o=null,s=null;t&&t.includes(":")?(o=t.split(":")[0],s=t.split(":")[1],n.className="language-"+o,n.setAttribute("data-lang",s),e.className="language-"+o,e.setAttribute("data-lang",s),e.setAttribute("id",s)):t||(n.setAttribute("data-lang","Code"),n.className="language-code"),(!t||s)&&wrap(e.parentNode,n)}):null})();var langCodeElem=document.querySelectorAll(".language-code"),dollarCodeElem,gtCodeElem;langCodeElem?langCodeElem.forEach(function(e){var t=document.createElement("span");t.className="copy-to-clipboard",t.setAttribute("title","Copy to clipboard"),e.append(t)}):null,dollarCodeElem=document.querySelectorAll("div.language-\\$"),gtCodeElem=document.querySelectorAll("div.language-\\>"),dollarCodeElem?dollarCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="$<br/>"}):null}):null,gtCodeElem?gtCodeElem.forEach(function(e){var t=e.parentNode.parentNode?e.parentNode.parentNode.querySelectorAll(".lnt"):null;t?t.forEach(function(e){e.innerHTML="><br/>"}):null}):null</script><div class=whoami__gutter></div><hr class="hr-slash whoami-hr"><section class=whoami><div class=whoami__image-wrapper><img data-src=/images/whoami/avatar.jpg src="data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath fill='none' d='M0 0h24v24H0V0z'/%3E%3Cpath fill='%23aaa' d='M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-4.44-6.19l-2.35 3.02-1.56-1.88c-.2-.25-.58-.24-.78.01l-1.74 2.23c-.26.33-.02.81.39.81h8.98c.41 0 .65-.47.4-.8l-2.55-3.39c-.19-.26-.59-.26-.79 0z'/%3E%3C/svg%3E" alt="JaeSang Yoo" class="lazyload whoami__image"></div><div class=whoami__contents><div class=whoami__written-by>글쓴이</div><div class=whoami__title>JaeSang Yoo</div><div class=whoami__desc>The System Programmer</div><div class=whoami__social><a href=mailto:jsyoo5b@gmail.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/JSYoo5B title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=https://gitlab.com/jsyoo5b title=gitlab aria-label=gitlab><svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentcolor" d="M38.011719 4C37.574219 3.996094 37.183594 4.273438 37.046875 4.691406L32.074219 20H17.925781L12.953125 4.691406C12.820313 4.289063 12.449219 4.011719 12.023438 4 11.597656 3.992188 11.214844 4.25 11.0625 4.648438L5.070313 20.640625C5.066406 20.640625 5.066406 20.644531 5.0625 20.648438l-3 8c-.15625.421875-.015625.894531000000001.351563 1.160156L24.40625 45.800781 24.410156 45.808594C24.414063 45.808594 24.414063 45.808594 24.414063 45.8125 24.425781 45.820313 24.441406 45.828125 24.453125 45.835938 24.46875 45.84375 24.480469 45.855469 24.496094 45.863281 24.5 45.863281 24.5 45.867188 24.503906 45.867188 24.503906 45.867188 24.507813 45.871094 24.511719 45.871094 24.515625 45.875 24.519531 45.878906 24.527344 45.878906 24.53125 45.882813 24.539063 45.886719 24.542969 45.890625 24.5625 45.898438 24.585938 45.910156 24.609375 45.917969V45.921875C24.632813 45.929688 24.65625 45.9375 24.675781 45.945313 24.679688 45.945313 24.679688 45.945313 24.683594 45.949219 24.699219 45.953125 24.714844 45.957031 24.734375 45.964844 24.742188 45.964844 24.75 45.96875 24.761719 45.96875c0 .00390600000000063.0.00390600000000063.0.0C24.78125 45.976563 24.800781 45.980469 24.820313 45.984375 24.847656 45.988281 24.871094 45.992188 24.898438 45.996094 24.9375 45.996094 24.980469 46 25.019531 46 25.058594 45.996094 25.09375 45.996094 25.128906 45.988281 25.144531 45.988281 25.15625 45.988281 25.171875 45.984375c0 0 .00390600000000063.0.00781299999999874.0C25.1875 45.980469 25.191406 45.980469 25.199219 45.980469 25.203125 45.980469 25.207031 45.976563 25.214844 45.976563 25.222656 45.972656 25.234375 45.972656 25.242188 45.96875 25.257813 45.964844 25.269531 45.960938 25.28125 45.957031 25.289063 45.957031 25.292969 45.957031 25.296875 45.953125 25.300781 45.953125 25.304688 45.953125 25.308594 45.953125 25.324219 45.945313 25.34375 45.9375 25.359375 45.933594 25.378906 45.925781 25.394531 45.917969 25.410156 45.910156 25.414063 45.910156 25.414063 45.910156 25.417969 45.90625 25.421875 45.90625 25.425781 45.90625 25.429688 45.902344 25.4375 45.898438 25.445313 45.894531 25.453125 45.890625 25.476563 45.878906 25.496094 45.867188 25.515625 45.855469 25.523438 45.851563 25.527344 45.847656 25.53125 45.84375 25.535156 45.84375 25.539063 45.839844 25.542969 45.839844 25.558594 45.828125 25.574219 45.820313 25.589844 45.808594L25.597656 45.796875 47.589844 29.808594C47.953125 29.542969 48.09375 29.070313 47.9375 28.648438l-2.992187-7.972657C44.941406 20.667969 44.9375 20.65625 44.9375 20.648438l-6-16C38.789063 4.261719 38.425781 4.003906 38.011719 4zM8.066406 22h8.40625l5.855469 18.015625zm25.460938.0h8.40625L27.671875 40.015625zM6.3125 23.007813l13.375 16.894531L4.203125 28.640625zm37.375.0 2.109375 5.632812L30.3125 39.902344z"/></svg></a><a href=https://www.linkedin.com/in/JSYoo5B title=linkedin aria-label=linkedin><svg xmlns="http://www.w3.org/2000/svg" fill="#000" viewBox="0 0 30 30" width="25" height="25"><path fill="currentcolor" d="M24 4H6C4.895 4 4 4.895 4 6v18c0 1.105.895 2 2 2h18c1.105.0 2-.895 2-2V6c0-1.105-.895-2-2-2zM10.954 22h-2.95v-9.492h2.95V22zM9.449 11.151c-.951.0-1.72-.771-1.72-1.72s.77-1.719 1.72-1.719c.948.0 1.719.771 1.719 1.719C11.168 10.38 10.397 11.151 9.449 11.151zM22.004 22h-2.948v-4.616c0-1.101-.02-2.517-1.533-2.517-1.535.0-1.771 1.199-1.771 2.437V22h-2.948v-9.492h2.83v1.297h.04c.394-.746 1.356-1.533 2.791-1.533 2.987.0 3.539 1.966 3.539 4.522V22z"/></svg></a></div></div></section><hr class="hr-slash whoami-hr"><section class=related></section><div class=grow></div><nav class=pagination-single><a href=https://devlog.jsyoo5b.net/ko/posts/infrastructure/changing-home-network/ class=pagination-single__left><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03.0-1.42s-1.02-.39-1.41.0l-6.59 6.59c-.39.39-.39 1.02.0 1.41l6.59 6.59c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L7.83 13H19c.55.0 1-.45 1-1s-.45-1-1-1z"/></svg></div><div class=pagination-single__left-title>집안 네트워크 뒤집어 놓기</div></a><div class=grow></div><a href=https://devlog.jsyoo5b.net/ko/posts/review/lecture-reallinux-kernels/ class=pagination-single__right><div class=pagination-single__right-title>[강의 리뷰] 리얼리눅스 (리눅스 커널 위주)</div><div class=pagination-single__icon><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03.0 1.42.39.39 1.02.39 1.41.0l6.59-6.59c.39-.39.39-1.02.0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41.0s-.39 1.02.0 1.41L16.17 11H5c-.55.0-1 .45-1 1s.45 1 1 1z"/></svg></div></a></nav><div id=utterances></div><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript><script>document.addEventListener("DOMContentLoaded",function(){function i(e,t){var n=e||t;return n==="dark"?"photon-dark":n==="hacker"?"photon-dark":n==="kimbie"?"github-dark-orange":"github-light"}try{var a=JSON.parse('"jsyoo5b"'),t=JSON.parse('"blog"'),n=JSON.parse('"dark"'),s=localStorage.getItem("theme"),o=i(s,n),e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo",`${a}/${t}`),e.setAttribute("issue-term","pathname"),e.setAttribute("theme",o),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),e.onload=function(){},document.getElementById("utterances").appendChild(e)}catch(e){console.log(e)}})</script><div id=comments-fallback class=viaemail><div class=utterances__message><a href=https://github.com/jsyoo5b/blog/issues/ target=_blank rel=noreferrer>&nbsp;</a></div></div><div class="modal micromodal-slide" id=modal aria-hidden=true><div class=modal__overlay tabindex=-1 data-micromodal-close><div class=modal__container role=dialog aria-modal=true aria-labelledby=modal-title><div class=modal__content id=modal-content><div id=mySwipe class=swipe><div class=swipe-wrap></div></div></div><span class=modal__items><span class=modal__header><div class=modal__paging title="Page Info" aria-label="Current Page"></div><div class="modal__icon modal__toolbar modal__toolbar--close" title=Close aria-label="Close Button" data-micromodal-close><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="25" height="25"><path fill="currentcolor" d="M21.734375 19.640625l-2.097656 2.09375C19.253906 22.121094 18.628906 22.121094 18.242188 21.734375L13 16.496094 7.761719 21.734375C7.375 22.121094 6.746094 22.121094 6.363281 21.734375l-2.097656-2.09375c-.386719-.386718999999999-.386719-1.011719.0-1.398437L9.503906 13 4.265625 7.761719c-.382812-.390625-.382812-1.019531.0-1.398438L6.363281 4.265625C6.746094 3.878906 7.375 3.878906 7.761719 4.265625L13 9.507813l5.242188-5.242188c.386718000000002-.386719 1.015625-.386719 1.394531.0l2.097656 2.09375C22.121094 6.746094 22.121094 7.375 21.738281 7.761719L16.496094 13l5.238281 5.242188C22.121094 18.628906 22.121094 19.253906 21.734375 19.640625z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--full" title="Full Screen" aria-label="Full Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25"><path fill="currentcolor" d="M5 3C3.9069372 3 3 3.9069372 3 5V8A1.0001 1.0001.0 105 8V5H8A1.0001 1.0001.0 108 3H5zM16 3a1.0001 1.0001.0 100 2h3V8a1.0001 1.0001.0 102 0V5C21 3.9069372 20.093063 3 19 3H16zM3.984375 14.986328A1.0001 1.0001.0 003 16v3c0 1.093063.9069372 2 2 2H8a1.0001 1.0001.0 100-2H5V16A1.0001 1.0001.0 003.984375 14.986328zm16 0A1.0001 1.0001.0 0019 16v3H16a1.0001 1.0001.0 100 2h3C20.093063 21 21 20.093063 21 19V16a1.0001 1.0001.0 00-1.015625-1.013672z"/></svg></div><div class="modal__icon modal__toolbar modal__toolbar--normal" title="Normal Screen" aria-label="Normal Screen Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="25" height="25"><path fill="currentcolor" d="M16.96875 4.972656C15.867188 4.988281 14.984375 5.894531 15 7v8H7C6.277344 14.988281 5.609375 15.367188 5.246094 15.992188 4.878906 16.613281 4.878906 17.386719 5.246094 18.007813 5.609375 18.632813 6.277344 19.011719 7 19H19V7C19.007813 6.460938 18.796875 5.941406 18.414063 5.558594 18.03125 5.175781 17.511719 4.964844 16.96875 4.972656zm16 0c-1.046875.015625-1.90625.839844-1.964844 1.886719C31 6.90625 31 6.953125 31 7V19H43C43.066406 19 43.132813 19 43.199219 18.992188 44.269531 18.894531 45.070313 17.972656 45.015625 16.902344 44.964844 15.828125 44.074219 14.988281 43 15H35V7C35.007813 6.460938 34.796875 5.941406 34.414063 5.558594 34.03125 5.175781 33.511719 4.964844 32.96875 4.972656zM7 31C6.277344 30.988281 5.609375 31.367188 5.246094 31.992188 4.878906 32.613281 4.878906 33.386719 5.246094 34.007813 5.609375 34.632813 6.277344 35.011719 7 35h8v8C14.988281 43.722656 15.367188 44.390625 15.992188 44.753906 16.613281 45.121094 17.386719 45.121094 18.007813 44.753906 18.632813 44.390625 19.011719 43.722656 19 43V31zm24 0V43C30.988281 43.722656 31.367188 44.390625 31.992188 44.753906 32.613281 45.121094 33.386719 45.121094 34.007813 44.753906 34.632813 44.390625 35.011719 43.722656 35 43V35h8C43.722656 35.011719 44.390625 34.632813 44.753906 34.007813 45.121094 33.386719 45.121094 32.613281 44.753906 31.992188 44.390625 31.367188 43.722656 30.988281 43 31z"/></svg></div></span><div class="modal__icon modal__arrow modal__arrow--left" title="Arrow Left" aria-label="Arrow Left Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M23.28125 11 10 10V6.851563C10 6.523438 9.839844 6.277344 9.519531 6.03125 9.199219 5.949219 8.878906 5.949219 8.640625 6.113281c-3.28125 2.296875-6.402344 6.144532-6.480469 6.308594-.078125.15625-.152343.390625-.15625.554688000000001C2.003906 12.980469 2 12.988281 2 12.992188 2 13.15625 2.078125 13.402344 2.160156 13.484375 2.238281 13.648438 5.28125 17.507813 8.640625 19.804688 8.960938 19.96875 9.28125 20.050781 9.519531 19.886719 9.839844 19.722656 10 19.476563 10 19.148438V16l13.28125-1C23.679688 14.679688 24 13.875 24 12.992188 24 12.195313 23.761719 11.320313 23.28125 11z"/></svg></div><div class="modal__icon modal__arrow modal__arrow--right" title="Arrow Right" aria-label="Arrow Right Button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="28" height="28"><path fill="currentcolor" d="M2.71875 11.023438l13.28125-1V6.875C16 6.546875 16.160156 6.300781 16.480469 6.054688 16.800781 5.972656 17.121094 5.972656 17.359375 6.136719c3.28125 2.296875 6.402344 6.144531 6.480469 6.308594.078125.15625.152343999999999.390625.15625.554687C23.996094 13.003906 24 13.011719 24 13.015625 24 13.179688 23.921875 13.425781 23.839844 13.507813 23.761719 13.671875 20.71875 17.53125 17.359375 19.828125 17.039063 19.992188 16.71875 20.074219 16.480469 19.910156 16.160156 19.746094 16 19.5 16 19.171875V16.023438L2.71875 15.023438C2.320313 14.703125 2 13.898438 2 13.015625c0-.796875.238281-1.671875.71875-1.992187z"/></svg></div><div class=modal__caption><div class=modal__caption--text></div></div></span></div></div></div><script defer src=/js/swipe.min.feb438efb7ca009ecd7fc2ac3ad2fced4840990b2798d81f87137f2dc6281f05.js></script>
<script defer src=/js/micromodal.min.de01b44b2f383056bbcaf6ee921fd385d79108ec1129afd0eb2f3f5a07e11f45.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script>document.addEventListener("DOMContentLoaded",function(){var e,t,n,o,i,a,r,c,l,d,u,h,f,p,g,v,b,s=document.documentElement;function j(){s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}function m(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}c=document.getElementById("modal"),i=document.querySelector(".gallery__container"),v=document.querySelector(".swipe-wrap"),b=document.getElementById("mySwipe"),u=document.querySelector(".modal__arrow--left"),f=document.querySelector(".modal__arrow--right"),h=document.querySelector(".modal__toolbar--close"),t=document.querySelector(".modal__toolbar--full"),n=document.querySelector(".modal__toolbar--normal"),r=document.querySelector(".modal__caption"),d=document.querySelector(".modal__paging"),o=document.querySelector(".modal__items"),a=null,l=null,e=null,p=function(t){t.key==="ArrowRight"?c&&c.classList.contains("is-open")&&e.next():t.key==="ArrowLeft"&&c&&c.classList.contains("is-open")&&e.prev()},i?a=i.querySelectorAll("img").length:(i=document.querySelector(".single__contents"),a=i.querySelectorAll("img").length),MicroModal.init({onClose:function(){e&&(e.kill(),e=null,m()),window.removeEventListener("keydown",p)},disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!1,awaitCloseAnimation:!1,debugMode:!1}),g=function(e){return new Promise(function(t,n){var s=new Image;s.onload=function(){t(s)},s.onerror=n,s.src=e})},i.querySelectorAll("img").forEach(function(s,i){s.style.cursor="pointer";var c,u=s.cloneNode(!0);u.style.maxHeight="100%",u.style.maxWidth="100%",u.onclick=function(e){e.stopPropagation()},c=document.createElement("div"),c.style.width="100%",c.style.height="100vh",c.setAttribute("data-micromodal-close",""),c.onclick=function(){e&&(e.kill(),e=null)},c.onmouseenter=function(){clearTimeout(l),fadeIn(o,200)},c.onmouseleave=function(){l=setTimeout(function(){fadeOut(o,200)},2500)},c.ontouchstart=function(){fadeIn(o,200)},c.append(u),v.append(c),s.addEventListener("click",async function(s){MicroModal.show("modal"),e&&(e.kill(),e=null);var c,m=s.target.getAttribute("data-src")||s.target.getAttribute("src"),h=await g(m);u.style.width=h.width+"px",u.style.height=h.height+"px",e=new Swipe(b,{startSlide:i,draggable:!0,autoRestart:!1,continuous:!1,disableScroll:!0,stopPropagation:!0,callback:async function(e,t){var s,n=t.querySelector("img"),c=n.getAttribute("data-src")||n.getAttribute("src"),i=await g(c);n.style.width=i.width+"px",n.style.height=i.height+"px",r&&n&&(s=null,n.getAttribute("data-caption")?s=n.getAttribute("data-caption"):n.getAttribute("title")?s=n.getAttribute("title"):n.getAttribute("alt")?s=n.getAttribute("alt"):s=n.getAttribute("src"),r.querySelector(".modal__caption--text").innerText=s,d.innerText=e+1+" / "+a,clearTimeout(l),fadeIn(o,200))}}),fadeIn(o),r&&(c=null,s.target.getAttribute("data-caption")?c=s.target.getAttribute("data-caption"):s.target.getAttribute("title")?c=s.target.getAttribute("title"):s.target.getAttribute("alt")?c=s.target.getAttribute("alt"):c=s.target.getAttribute("src"),r.querySelector(".modal__caption--text").innerText=c,d.innerText=i+1+" / "+a),n&&t&&(n.style.zIndex=-1,n.style.opacity=0,t.style.zIndex=25,t.style.opacity=1)}),window.addEventListener("keydown",p)}),u?u.addEventListener("click",function(){e&&e.prev()}):null,f?f.addEventListener("click",function(){e&&e.next()}):null,h?h.addEventListener("click",function(){e&&(e.kill(),e=null),m(),MicroModal.close("modal")}):null,t?t.addEventListener("click",function(){j(),n&&(n.style.zIndex=25,n.style.opacity=1,t.style.zIndex=-1,t.style.opacity=0)}):null,n?n.addEventListener("click",function(){m(),t&&(t.style.zIndex=25,t.style.opacity=1,n.style.zIndex=-1,n.style.opacity=0)}):null})</script><div class=hide></div></div></main><script>var enableToc=JSON.parse("true"),toc=JSON.parse("null"),tocPosition=JSON.parse('"outer"'),singleMainElem=document.querySelector(".single__main"),singleSideElem=document.querySelector(".single__side");enquire.register("screen and (max-width: 769px)",{match:function(){(enableToc||toc)&&tocPosition!=="outer"?singleMainElem&&singleSideElem&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main"),singleSideElem.classList.remove("main-side"),singleSideElem.classList.add("hide")):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains("main-main")&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main")),singleSideElem&&!singleSideElem.classList.contains("hide")&&singleSideElem.classList.add("hide"))},unmatch:function(){(enableToc||toc)&&tocPosition!=="outer"?(singleMainElem.classList.remove("main"),singleMainElem.classList.add("main-main"),singleSideElem.classList.remove("hide"),singleSideElem.classList.add("main-side")):tocPosition==="outer"&&(singleMainElem&&!singleMainElem.classList.contains("main-main")&&(singleMainElem.classList.remove("main-main"),singleMainElem.classList.add("main")),singleSideElem&&!singleSideElem.classList.contains("hide")&&singleSideElem.classList.add("hide"));var t=document.querySelector(".navbar__burger"),e=document.getElementsByClassName("navbarm__collapse")[0];e&&(e.setAttribute("data-open",!1),e.style.maxHeight=0,t.classList.remove("is-active")),document.getElementsByClassName("navbar__menu")[0].classList.remove("is-active"),document.getElementsByClassName("mobile-search")[0].classList.add("hide")},setup:function(){},deferSetup:!0,destroy:function(){}})</script><script defer src=/js/helper/getParents.min.js></script>
<script defer src=/js/helper/closest.min.js></script>
<script defer src=/js/helper/prev.min.js></script>
<script defer src=/js/helper/prop.min.js></script>
<script defer src=/js/helper/fadeinout.min.js></script>
<script defer src=/js/helper/throttle.min.js></script>
<script>"use strict";window.onload=function(){var e,t,n,s,o,i,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,F,T,z,D,N,H,a=document.querySelector(".navbar"),P=document.querySelector(".single__contents"),R=JSON.parse("null"),L=JSON.parse("null");R&&L&&(y=document.querySelector("#busuanzi_value_page_pv"),y.textContent=y.textContent.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")),S=JSON.parse("true"),z=JSON.parse("null"),D=JSON.parse("true"),d=document.querySelector(".toc__flexbox"),u=document.querySelector(".toc__flexbox--outer"),x=JSON.parse("true"),(S||z)&&document.querySelector(".toc")&&(i=document.querySelector(".toc").querySelector("#TableOfContents"),i.onmouseenter=function(){a.classList.contains("scrolling")&&a.classList.remove("scrolling")},i.onmouseleave=function(){a.classList.contains("scrolling")||a.classList.add("scrolling")},!1===x||(i.querySelectorAll("ul")?i.querySelectorAll("ul").forEach(function(e){e.querySelectorAll("li").forEach(function(e){e.querySelectorAll("ul").forEach(function(e){e.style.display="none"})})}):null),i&&(i.querySelectorAll("a").length>0?i.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){var t,n=e.getAttribute("id");a.classList.contains("scrolling")||(a.classList.remove("navbar--show"),a.classList.remove("navbar--hide"),a.classList.add("navbar--hide")),document.querySelector(".toc").querySelectorAll("a").forEach(function(e){e.classList.remove("active")}),e.classList.add("active"),t=i.querySelector('[href="#'+n+'"]'),t&&t.nextElementSibling&&(t.nextElementSibling.style.display="block"),t&&(getParents(t,"ul")?getParents(t,"ul").forEach(function(e){e.style.display="block"}):null)})}):(d&&(d.setAttribute("data-position",""),d.classList.contains("hide")||d.classList.add("hide")),u&&(u.setAttribute("data-position",""),u.classList.contains("hide")||u.classList.add("hide")))),b=document.getElementById("toggle-toc"),v=document.getElementById("visible-toc"),s=document.querySelector(".toc"),o=document.querySelector("main"),l=document.querySelector("side"),c=document.querySelector(".toc__flexbox"),b?b.addEventListener("change",function(e){e.target.checked?(s&&fadeIn(s,200),c&&c.setAttribute("data-position","fixed"),o&&(o.classList.remove("main-main"),o.classList.remove("main"),o.classList.add("main-main")),l&&l.classList.remove("main-side")):(s&&fadeOut(s,200),c&&c.setAttribute("data-position","absolute"),o&&(o.classList.remove("main-main"),o.classList.remove("main"),o.classList.add("main")),l&&l.classList.remove("main-side"))}):null,v?v.addEventListener("change",function(e){e.target.checked?s&&fadeIn(s,200):s&&fadeOut(s,200)}):null),C=120,M=70,A=function(){s&&(s.style.maxHeight=window.innerHeight-C-M+"px")},w=throttle(A,300),w(),window.addEventListener("resize",w),E=new ClipboardJS(".anchor"),j=P.querySelectorAll("h1, h2, h3, h4"),F=JSON.parse('"ltr"'),j?j.forEach(function(e){var t,s=parseInt(e.tagName.substr(1),10)*2,o=encodeURI(document.location.origin+document.location.pathname),i=o+"#"+e.getAttribute("id"),n=document.createElement("span");n.classList.add("anchor"),n.classList.add("hide"),n.setAttribute("data-clipboard-text",decodeURI(i)),n.style.position="relative",t=document.createElement("span"),t.style.position="absolute",t.style.top="50%",t.style.left="0.75rem",t.style.transform="translateY(-50%)",t.innerHTML=`
<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${32-s}px" height="${32-s}px"><path d="M 5.5625 0 C 4.136719 0 2.707031 0.542969 1.625 1.625 C -0.539063 3.789063 -0.539063 7.335938 1.625 9.5 L 5.28125 13.15625 C 5.667969 13.554688 6.304688 13.558594 6.703125 13.171875 C 7.101563 12.785156 7.105469 12.148438 6.71875 11.75 L 3.03125 8.0625 C 1.632813 6.664063 1.632813 4.429688 3.03125 3.03125 C 4.429688 1.632813 6.664063 1.632813 8.0625 3.03125 L 12.96875 7.9375 C 14.367188 9.335938 14.367188 11.570313 12.96875 12.96875 C 12.804688 13.132813 12.621094 13.25 12.4375 13.375 C 11.980469 13.6875 11.859375 14.308594 12.171875 14.765625 C 12.484375 15.222656 13.105469 15.34375 13.5625 15.03125 C 13.847656 14.835938 14.125 14.625 14.375 14.375 C 16.539063 12.210938 16.539063 8.664063 14.375 6.5 L 9.5 1.625 C 8.417969 0.542969 6.988281 0 5.5625 0 Z M 10.78125 8.875 C 10.738281 8.882813 10.695313 8.894531 10.65625 8.90625 C 10.507813 8.9375 10.371094 9 10.25 9.09375 C 10.039063 9.253906 9.820313 9.429688 9.625 9.625 C 7.460938 11.789063 7.460938 15.335938 9.625 17.5 L 14.5 22.375 C 16.664063 24.539063 20.210938 24.539063 22.375 22.375 C 24.539063 20.210938 24.539063 16.664063 22.375 14.5 L 18.71875 10.875 C 18.476563 10.578125 18.089844 10.441406 17.714844 10.527344 C 17.34375 10.613281 17.050781 10.90625 16.964844 11.277344 C 16.878906 11.652344 17.015625 12.039063 17.3125 12.28125 L 20.96875 15.9375 C 22.367188 17.335938 22.367188 19.570313 20.96875 20.96875 C 19.570313 22.367188 17.335938 22.367188 15.9375 20.96875 L 11.03125 16.0625 C 9.632813 14.664063 9.632813 12.429688 11.03125 11.03125 C 11.152344 10.90625 11.300781 10.820313 11.4375 10.71875 C 11.839844 10.472656 12.015625 9.976563 11.855469 9.53125 C 11.699219 9.085938 11.25 8.8125 10.78125 8.875 Z"/></svg>`,F==="rtl"?t.style.left="-2rem":t.style.right="-2rem",n.append(t),e.append(n),e.addEventListener("mouseenter",function(){this.querySelector(".anchor").classList.remove("hide")}),e.addEventListener("mouseleave",function(){this.querySelector(".anchor").classList.add("hide")})}):null,document.querySelectorAll(".anchor").forEach(function(e){e.addEventListener("mouseleave",function(){e.setAttribute("aria-label",null),e.classList.remove("tooltipped"),e.classList.remove("tooltipped-s"),e.classList.remove("tooltipped-w")})}),E.on("success",function(e){e.clearSelection(),e.trigger.setAttribute("aria-label","Link copied to clipboard!"),e.trigger.classList.add("tooltipped"),e.trigger.classList.add("tooltipped-s")}),t=JSON.parse("null"),t&&t.includes("mermaid")&&(O=localStorage.getItem("theme")||JSON.parse('"dark"'),O==="dark"||O==="hacker"?mermaid.initialize({theme:"dark"}):mermaid.initialize({theme:"default"}),_=[],[].push.apply(_,document.getElementsByClassName("language-mermaid")),_.forEach(function(e){var n,t=e.parentNode;t!==document.body&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t)),n=document.createElement("div"),n.classList.add("mermaid"),n.style.padding="34px 4px 6px",n.innerHTML=e.innerHTML,e.replaceWith(n)})),t&&t.includes("katex")&&(N=document.getElementsByClassName("math"),r={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]},renderMathInElement(document.querySelector(".single__contents"),r)),t&&t.includes("flowchartjs")&&(r=JSON.parse('{"arrow-end":"block","element-color":"black","fill":"white","flowstate":{"approved":{"fill":"#58C4A3","font-size":12,"no-text":"n/a","yes-text":"APPROVED"},"current":{"fill":"yellow","font-color":"red","font-weight":"bold"},"future":{"fill":"#FFFF99"},"invalid":{"fill":"#444444"},"past":{"fill":"#CCCCCC","font-size":12},"rejected":{"fill":"#C45879","font-size":12,"no-text":"REJECTED","yes-text":"n/a"},"request":{"fill":"blue"}},"font-color":"black","font-size":14,"line-color":"black","line-length":50,"line-width":3,"no-text":"no","scale":1,"symbols":{"end":{"class":"end-element"},"start":{"element-color":"green","fill":"yellow","font-color":"red"}},"text-margin":10,"x":0,"y":0,"yes-text":"yes"}'),n=null,T="language-flowchart",e=0,Array.prototype.forEach.call(document.querySelectorAll("[class^="+T+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var o,s=document.createElement("div");s.id="flowchart"+e,t.parentNode.insertBefore(s,t),o=flowchart.parse(n),o.drawSVG("flowchart"+e,r),e+=1})),document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"}),t&&t.includes("msc")&&(r=JSON.parse('{"theme":"hand"}'),n=null,e=0,h="language-msc",Array.prototype.forEach.call(document.querySelectorAll("[class^="+h+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var o,s=document.createElement("div");s.id="msc"+e,t.parentNode.insertBefore(s,t),o=Diagram.parse(n),o.drawSVG("msc"+e,r),e+=1})),t&&t.includes("chart")&&(m="#666",f="#ddd",p=2,Chart.defaults.global.elements.rectangle.borderWidth=p,Chart.defaults.global.elements.rectangle.borderColor=m,Chart.defaults.global.elements.rectangle.backgroundColor=f,Chart.defaults.global.elements.line.borderWidth=p,Chart.defaults.global.elements.line.borderColor=m,Chart.defaults.global.elements.line.backgroundColor=f,Chart.defaults.global.elements.point.borderWidth=p,Chart.defaults.global.elements.point.borderColor=m,Chart.defaults.global.elements.point.backgroundColor=f,h="language-chart",e=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+h+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var i,a,s=document.createElement("canvas"),o=null;s.height=200,s.style.height=200,s.id="myChart"+e,o=JSON.parse(n),t.parentNode.insertBefore(s,t),i=document.getElementById("myChart"+e).getContext("2d"),a=new Chart(i,o),e+=1})),t&&t.includes("wavedrom")&&(k="language-wave",e=0,n=null,Array.prototype.forEach.call(document.querySelectorAll("[class^="+k+"]"),function(t){t.style.display="none",t.parentNode.style.backgroundColor="transparent",n=t.innerText;var s=document.createElement("div"),o=null;s.id="WaveDrom_Display_"+e,o=JSON.parse(n),t.parentNode.insertBefore(s,t),WaveDrom.RenderWaveForm(e,o,"WaveDrom_Display_"),e+=1})),t&&t.includes("viz")&&(g="language-viz-",Array.prototype.forEach.call(document.querySelectorAll("[class^="+g+"]"),function(e){e.style.display="none",e.parentNode.style.backgroundColor="transparent",e.getAttribute("class").split(" ").forEach(function(e){e.startsWith(g)&&(t=e.substr(g.length))});var t,n=new Viz;n.renderSVGElement(e.innerText,{engine:t}).then(function(t){t.style.width="100%",e.parentNode.insertBefore(t,e)})}))}</script><footer class=footer><div class=dropdown><button class=dropdown-trigger aria-label="Select Language Button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M12.65 15.67c.14-.36.05-.77-.23-1.05l-2.09-2.06.03-.03c1.74-1.94 2.98-4.17 3.71-6.53h1.94c.54.0.99-.45.99-.99v-.02c0-.54-.45-.99-.99-.99H10V3c0-.55-.45-1-1-1s-1 .45-1 1v1H1.99c-.54.0-.99.45-.99.99.0.55.45.99.99.99h10.18C11.5 7.92 10.44 9.75 9 11.35c-.81-.89-1.49-1.86-2.06-2.88-.16-.29-.45-.47-.78-.47-.69.0-1.13.75-.79 1.35.63 1.13 1.4 2.21 2.3 3.21L3.3 16.87c-.4.39-.4 1.03.0 1.42.39.39 1.02.39 1.42.0L9 14l2.02 2.02c.51.51 1.38.32 1.63-.35zM17.5 10c-.6.0-1.14.37-1.35.94l-3.67 9.8c-.24.61.22 1.26.87 1.26.39.0.74-.24.88-.61l.89-2.39h4.75l.9 2.39c.14.36.49.61.88.61.65.0 1.11-.65.88-1.26l-3.67-9.8c-.22-.57-.76-.94-1.36-.94zm-1.62 7 1.62-4.33L19.12 17h-3.24z"/></svg></button><div class=dropdown-content><a href=https://devlog.jsyoo5b.net/ko/posts/mfc/console-mode/ data-lang=ko class="dropdown-item is-active">한국어</a></div></div><div class=footer__social><div class=social><a href=mailto:jsyoo5b@gmail.com title=email aria-label=email><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentcolor" d="M20 4H4c-1.1.0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25-7.07 4.42c-.32.2-.74.2-1.06.0L4.4 8.25c-.25-.16-.4-.43-.4-.72.0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72.0.29-.15.56-.4.72z"/></svg></a><a href=https://github.com/JSYoo5B title=github aria-label=github><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24"><g id="surface3680"><path fill="currentcolor" d="M10.898438 2.101562c-4.597657.5-8.296876 4.199219-8.796876 8.699219-.5 4.699219 2.199219 8.898438 6.296876 10.5C8.699219 21.398438 9 21.199219 9 20.800781V19.199219S8.601562 19.300781 8.101562 19.300781c-1.402343.0-2-1.199219-2.101562-1.902343C5.898438 17 5.699219 16.699219 5.398438 16.398438 5.101562 16.300781 5 16.300781 5 16.199219 5 16 5.300781 16 5.398438 16 6 16 6.5 16.699219 6.699219 17c.5.800781000000001 1.101562 1 1.402343 1C8.5 18 8.800781 17.898438 9 17.800781 9.101562 17.101562 9.398438 16.398438 10 16c-2.300781-.5-4-1.800781-4-4 0-1.101562.5-2.199219 1.199219-3C7.101562 8.800781 7 8.300781 7 7.601562c0-.402343.0-1 .300781-1.601562.0.0 1.398438.0 2.800781 1.300781C10.601562 7.101562 11.300781 7 12 7s1.398438.101562 2 .300781C15.300781 6 16.800781 6 16.800781 6 17 6.601562 17 7.199219 17 7.601562 17 8.398438 16.898438 8.800781 16.800781 9 17.5 9.800781 18 10.800781 18 12c0 2.199219-1.699219 3.5-4 4 .601562.5 1 1.398438 1 2.300781v2.597657C15 21.199219 15.300781 21.5 15.699219 21.398438 19.398438 19.898438 22 16.300781 22 12.101562c0-6-5.101562-10.703124-11.101562-10zm0 0"/></g></svg></a><a href=https://gitlab.com/jsyoo5b title=gitlab aria-label=gitlab><svg fill="#000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="32" height="32"><path fill="currentcolor" d="M38.011719 4C37.574219 3.996094 37.183594 4.273438 37.046875 4.691406L32.074219 20H17.925781L12.953125 4.691406C12.820313 4.289063 12.449219 4.011719 12.023438 4 11.597656 3.992188 11.214844 4.25 11.0625 4.648438L5.070313 20.640625C5.066406 20.640625 5.066406 20.644531 5.0625 20.648438l-3 8c-.15625.421875-.015625.894531000000001.351563 1.160156L24.40625 45.800781 24.410156 45.808594C24.414063 45.808594 24.414063 45.808594 24.414063 45.8125 24.425781 45.820313 24.441406 45.828125 24.453125 45.835938 24.46875 45.84375 24.480469 45.855469 24.496094 45.863281 24.5 45.863281 24.5 45.867188 24.503906 45.867188 24.503906 45.867188 24.507813 45.871094 24.511719 45.871094 24.515625 45.875 24.519531 45.878906 24.527344 45.878906 24.53125 45.882813 24.539063 45.886719 24.542969 45.890625 24.5625 45.898438 24.585938 45.910156 24.609375 45.917969V45.921875C24.632813 45.929688 24.65625 45.9375 24.675781 45.945313 24.679688 45.945313 24.679688 45.945313 24.683594 45.949219 24.699219 45.953125 24.714844 45.957031 24.734375 45.964844 24.742188 45.964844 24.75 45.96875 24.761719 45.96875c0 .00390600000000063.0.00390600000000063.0.0C24.78125 45.976563 24.800781 45.980469 24.820313 45.984375 24.847656 45.988281 24.871094 45.992188 24.898438 45.996094 24.9375 45.996094 24.980469 46 25.019531 46 25.058594 45.996094 25.09375 45.996094 25.128906 45.988281 25.144531 45.988281 25.15625 45.988281 25.171875 45.984375c0 0 .00390600000000063.0.00781299999999874.0C25.1875 45.980469 25.191406 45.980469 25.199219 45.980469 25.203125 45.980469 25.207031 45.976563 25.214844 45.976563 25.222656 45.972656 25.234375 45.972656 25.242188 45.96875 25.257813 45.964844 25.269531 45.960938 25.28125 45.957031 25.289063 45.957031 25.292969 45.957031 25.296875 45.953125 25.300781 45.953125 25.304688 45.953125 25.308594 45.953125 25.324219 45.945313 25.34375 45.9375 25.359375 45.933594 25.378906 45.925781 25.394531 45.917969 25.410156 45.910156 25.414063 45.910156 25.414063 45.910156 25.417969 45.90625 25.421875 45.90625 25.425781 45.90625 25.429688 45.902344 25.4375 45.898438 25.445313 45.894531 25.453125 45.890625 25.476563 45.878906 25.496094 45.867188 25.515625 45.855469 25.523438 45.851563 25.527344 45.847656 25.53125 45.84375 25.535156 45.84375 25.539063 45.839844 25.542969 45.839844 25.558594 45.828125 25.574219 45.820313 25.589844 45.808594L25.597656 45.796875 47.589844 29.808594C47.953125 29.542969 48.09375 29.070313 47.9375 28.648438l-2.992187-7.972657C44.941406 20.667969 44.9375 20.65625 44.9375 20.648438l-6-16C38.789063 4.261719 38.425781 4.003906 38.011719 4zM8.066406 22h8.40625l5.855469 18.015625zm25.460938.0h8.40625L27.671875 40.015625zM6.3125 23.007813l13.375 16.894531L4.203125 28.640625zm37.375.0 2.109375 5.632812L30.3125 39.902344z"/></svg></a><a href=https://www.linkedin.com/in/JSYoo5B title=linkedin aria-label=linkedin><svg xmlns="http://www.w3.org/2000/svg" fill="#000" viewBox="0 0 30 30" width="32" height="32"><path fill="currentcolor" d="M24 4H6C4.895 4 4 4.895 4 6v18c0 1.105.895 2 2 2h18c1.105.0 2-.895 2-2V6c0-1.105-.895-2-2-2zM10.954 22h-2.95v-9.492h2.95V22zM9.449 11.151c-.951.0-1.72-.771-1.72-1.72s.77-1.719 1.72-1.719c.948.0 1.719.771 1.719 1.719C11.168 10.38 10.397 11.151 9.449 11.151zM22.004 22h-2.948v-4.616c0-1.101-.02-2.517-1.533-2.517-1.535.0-1.771 1.199-1.771 2.437V22h-2.948v-9.492h2.83v1.297h.04c.394-.746 1.356-1.533 2.791-1.533 2.987.0 3.539 1.966 3.539 4.522V22z"/></svg></a><a href=https://devlog.jsyoo5b.net/ko/posts/index.xml type=application/rss+xml title=RSS aria-label="RSS Feed Link"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle fill="currentcolor" cx="6.18" cy="17.82" r="2.18"/><path fill="currentcolor" d="M5.59 10.23c-.84-.14-1.59.55-1.59 1.4.0.71.53 1.28 1.23 1.4 2.92.51 5.22 2.82 5.74 5.74.12.7.69 1.23 1.4 1.23.85.0 1.54-.75 1.41-1.59-.68-4.2-3.99-7.51-8.19-8.18zm-.03-5.71C4.73 4.43 4 5.1 4 5.93c0 .73.55 1.33 1.27 1.4 6.01.6 10.79 5.38 11.39 11.39.07.73.67 1.28 1.4 1.28.84.0 1.5-.73 1.42-1.56-.73-7.34-6.57-13.19-13.92-13.92z"/></svg></a></div></div><div id=gtt><div class=gtt><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentcolor" d="M8.12 14.71 12 10.83l3.88 3.88c.39.39 1.02.39 1.41.0s.39-1.02.0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41.0L6.7 13.3c-.39.39-.39 1.02.0 1.41.39.38 1.03.39 1.42.0z"/></svg></div></div><hr><div class="basicflex flexwrap"></div><div class=footer__poweredby><p class=caption>©2022, All Rights Reserved</p><p class=caption>Powered by <a href=https://gohugo.io/ target=_blank rel=noreferrer>Hugo</a> and the <a href=https://github.com/zzossig/hugo-theme-zzo target=_blank rel=noreferrer>Zzo theme</a></p></div></footer></div><div class="wrapper__right hide" data-pad=true dir=ltr><script>document.querySelector(".wrapper__right").classList.remove("hide")</script><div class=toc__flexbox--outer data-position=fixed data-dir=ltr data-ani=true><h6 class="toc__title toc__title--outer" data-ani=true>목차</h6><label class=switch data-ani=true><input id=visible-toc aria-label="Visible TOC" type=checkbox>
<span class="slider round"></span></label></div><div class="toc toc__outer hide" data-dir=ltr data-folding=true data-ani=true><nav id=TableOfContents><ul><li><a href=#목표>목표</a></li><li><a href=#진단>진단</a></li><li><a href=#console-실행-모드-추가하기>Console 실행 모드 추가하기</a></li><li><a href=#프로그램을-실행시킨-shell과-stdio-연결>프로그램을 실행시킨 shell과 stdio 연결</a></li><li><a href=#임의의-exit-code로-종료시키기>임의의 Exit Code로 종료시키기</a></li><li><a href=#실행-인자-사용을-위한-추가-설명>실행 인자 사용을 위한 추가 설명</a></li><li><a href=#command-prompt-명령어-설명>Command Prompt 명령어 설명</a></li><li><a href=#해설>해설</a><ul><li><a href=#다른-gui-framework에서의-진입점-main-함수>다른 GUI framework에서의 진입점 (main 함수)</a></li></ul></li><li><a href=#참고-링크>참고 링크</a></li></ul></nav></div></div></div></body></html>